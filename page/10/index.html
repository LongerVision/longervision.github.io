<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"longervision.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.19.2","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Longer Vision Technology Github Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Longer Vision Technology">
<meta property="og:url" content="http://longervision.github.io/page/10/index.html">
<meta property="og:site_name" content="Longer Vision Technology">
<meta property="og:description" content="Longer Vision Technology Github Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Nobody">
<meta property="article:tag" content="Longer Vision, Computer Vision, AI, Machine Learning">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://longervision.github.io/page/10/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/10/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Longer Vision Technology</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Longer Vision Technology</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Github Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Nobody</p>
  <div class="site-description" itemprop="description">Longer Vision Technology Github Blog</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">131</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">125</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2019/02/28/Tools/ubuntu-18.0.4.2+nvidia-418.43+cuda-10.1+cudnn-7.5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/02/28/Tools/ubuntu-18.0.4.2+nvidia-418.43+cuda-10.1+cudnn-7.5/" class="post-title-link" itemprop="url">Ubuntu 18.04.2 + NVidia 418.43 + Cuda 10.1 + Cudnn 7.5</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2019-02-28T00:00:00-08:00">2019-02-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tools/" itemprop="url" rel="index"><span itemprop="name">Tools</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Today seems to be the <strong>FIRST</strong> big day pf 2019? So many important packages (including operating systems) have released their <strong>NEW</strong> updates. Alright, let’s take a look what I’ve done today.</p>
<h1 id="Updates-Today"><a href="#Updates-Today" class="headerlink" title="Updates Today"></a>Updates Today</h1><h2 id="Ubuntu-18-04-2"><a href="#Ubuntu-18-04-2" class="headerlink" title="Ubuntu 18.04.2"></a>Ubuntu 18.04.2</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ uname -r</span><br><span class="line">4.18.0-15-generic</span><br><span class="line">➜  ~ lsb_release -a</span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID: Ubuntu</span><br><span class="line">Description:    Ubuntu 18.04.2 LTS</span><br><span class="line">Release:        18.04</span><br><span class="line">Codename:       bionic</span><br></pre></td></tr></table></figure>

<h2 id="NVidia-418-43"><a href="#NVidia-418-43" class="headerlink" title="NVidia 418.43"></a>NVidia 418.43</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nvidia-smi</span><br><span class="line">Thu Feb 28 17:15:24 2019       </span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| NVIDIA-SMI 418.43       Driver Version: 418.43       CUDA Version: 10.1     |</span><br><span class="line">|-------------------------------+----------------------+----------------------+</span><br><span class="line">| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |</span><br><span class="line">| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |</span><br><span class="line">|===============================+======================+======================|</span><br><span class="line">|   0  GeForce GTX 980M    Off  | 00000000:01:00.0  On |                  N/A |</span><br><span class="line">| N/A   45C    P8     8W /  N/A |    659MiB /  4035MiB |      1%      Default |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">                                                                               </span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| Processes:                                                       GPU Memory |</span><br><span class="line">|  GPU       PID   Type   Process name                             Usage      |</span><br><span class="line">|=============================================================================|</span><br><span class="line">|    0      1087      G   /usr/lib/xorg/Xorg                            16MiB |</span><br><span class="line">|    0      1146      G   /usr/bin/gnome-shell                          48MiB |</span><br><span class="line">|    0      1442      G   /usr/lib/xorg/Xorg                           263MiB |</span><br><span class="line">|    0      1574      G   /usr/bin/gnome-shell                         166MiB |</span><br><span class="line">|    0      2254      G   ...quest-channel-token=7723035104982464121   113MiB |</span><br><span class="line">|    0      8140      G   /proc/self/exe                                43MiB |</span><br><span class="line">+-----------------------------------------------------------------------------+</span><br></pre></td></tr></table></figure>

<h2 id="Cuda-10-1"><a href="#Cuda-10-1" class="headerlink" title="Cuda 10.1"></a>Cuda 10.1</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nvcc --version</span><br><span class="line">nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">Copyright (c) 2005-2019 NVIDIA Corporation</span><br><span class="line">Built on Fri_Feb__8_19:08:17_PST_2019</span><br><span class="line">Cuda compilation tools, release 10.1, V10.1.105</span><br><span class="line">➜  ~ deviceQuery</span><br><span class="line">deviceQuery Starting...</span><br><span class="line"></span><br><span class="line"> CUDA Device Query (Runtime API) version (CUDART static linking)</span><br><span class="line"></span><br><span class="line">Detected 1 CUDA Capable device(s)</span><br><span class="line"></span><br><span class="line">Device 0: &quot;GeForce GTX 980M&quot;</span><br><span class="line">  CUDA Driver Version / Runtime Version          10.1 / 10.1</span><br><span class="line">  CUDA Capability Major/Minor version number:    5.2</span><br><span class="line">  Total amount of global memory:                 4035 MBytes (4231331840 bytes)</span><br><span class="line">  (12) Multiprocessors, (128) CUDA Cores/MP:     1536 CUDA Cores</span><br><span class="line">  GPU Max Clock rate:                            1126 MHz (1.13 GHz)</span><br><span class="line">  Memory Clock rate:                             2505 Mhz</span><br><span class="line">  Memory Bus Width:                              256-bit</span><br><span class="line">  L2 Cache Size:                                 2097152 bytes</span><br><span class="line">  Maximum Texture Dimension Size (x,y,z)         1D=(65536), 2D=(65536, 65536), 3D=(4096, 4096, 4096)</span><br><span class="line">  Maximum Layered 1D Texture Size, (num) layers  1D=(16384), 2048 layers</span><br><span class="line">  Maximum Layered 2D Texture Size, (num) layers  2D=(16384, 16384), 2048 layers</span><br><span class="line">  Total amount of constant memory:               65536 bytes</span><br><span class="line">  Total amount of shared memory per block:       49152 bytes</span><br><span class="line">  Total number of registers available per block: 65536</span><br><span class="line">  Warp size:                                     32</span><br><span class="line">  Maximum number of threads per multiprocessor:  2048</span><br><span class="line">  Maximum number of threads per block:           1024</span><br><span class="line">  Max dimension size of a thread block (x,y,z): (1024, 1024, 64)</span><br><span class="line">  Max dimension size of a grid size    (x,y,z): (2147483647, 65535, 65535)</span><br><span class="line">  Maximum memory pitch:                          2147483647 bytes</span><br><span class="line">  Texture alignment:                             512 bytes</span><br><span class="line">  Concurrent copy and kernel execution:          Yes with 2 copy engine(s)</span><br><span class="line">  Run time limit on kernels:                     Yes</span><br><span class="line">  Integrated GPU sharing Host Memory:            No</span><br><span class="line">  Support host page-locked memory mapping:       Yes</span><br><span class="line">  Alignment requirement for Surfaces:            Yes</span><br><span class="line">  Device has ECC support:                        Disabled</span><br><span class="line">  Device supports Unified Addressing (UVA):      Yes</span><br><span class="line">  Device supports Compute Preemption:            No</span><br><span class="line">  Supports Cooperative Kernel Launch:            No</span><br><span class="line">  Supports MultiDevice Co-op Kernel Launch:      No</span><br><span class="line">  Device PCI Domain ID / Bus ID / location ID:   0 / 1 / 0</span><br><span class="line">  Compute Mode:</span><br><span class="line">     &lt; Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) &gt;</span><br><span class="line"></span><br><span class="line">deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 10.1, CUDA Runtime Version = 10.1, NumDevs = 1</span><br><span class="line">Result = PASS</span><br></pre></td></tr></table></figure>

<h2 id="Cudnn-7-5"><a href="#Cudnn-7-5" class="headerlink" title="Cudnn 7.5"></a>Cudnn 7.5</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">define CUDNN_MAJOR 7</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">define CUDNN_MINOR 5</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">define CUDNN_PATCHLEVEL 0</span></span><br><span class="line">--</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">define CUDNN_VERSION (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">include <span class="string">&quot;driver_types.h&quot;</span></span></span><br></pre></td></tr></table></figure>


<h1 id="Bugs-Today"><a href="#Bugs-Today" class="headerlink" title="Bugs Today"></a>Bugs Today</h1><h2 id="The-Error"><a href="#The-Error" class="headerlink" title="The Error"></a>The Error</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NVIDIA-SMI has failed because it couldn&#x27;t communicate with the NVIDIA driver. Make sure that the latest NVIDIA driver is installed and running.</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>The solution is inside <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/BIOS">BIOS</a>. Please refer to <a target="_blank" rel="noopener" href="https://www.avira.com/en/support-for-home-knowledgebase-detail/kbid/1811">How do I disable UEFI Secure Boot?</a>.</p>
<p>Yup… The solution is just to turn from <strong>Enable</strong> to <strong>Disable</strong> inside <strong>BIOS Secure Boot</strong>.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2019/01/29/Robotics/IgnitionRobotics-Gazebo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/29/Robotics/IgnitionRobotics-Gazebo/" class="post-title-link" itemprop="url">Ignition Robotics - Gazebo</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-29 00:00:00" itemprop="dateCreated datePublished" datetime="2019-01-29T00:00:00-08:00">2019-01-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Robotics/" itemprop="url" rel="index"><span itemprop="name">Robotics</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>It seems <a target="_blank" rel="noopener" href="http://gazebosim.org/">Gazebo</a> is <strong>NOW</strong> a part of <a target="_blank" rel="noopener" href="https://ignitionrobotics.org/">Ignition Robotics</a>??? Please take a look at my Ignition Robotics Bitbucket Issue <a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-gazebo/issues/11/whats-the-realationship-between-ign-gazebo">What’s the realationship between ign-gazebo and gazebo?</a> And, today, let’s <strong>build <a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/">IgnitionRobotics</a> from source</strong>.</p>
<h1 id="How-to-Build-IgnitionRobotics"><a href="#How-to-Build-IgnitionRobotics" class="headerlink" title="How to Build IgnitionRobotics"></a>How to Build IgnitionRobotics</h1><h2 id="Use-Branch-gz11"><a href="#Use-Branch-gz11" class="headerlink" title="Use Branch gz11"></a>Use Branch gz11</h2><p><span style="color:red"><strong>NOTE</strong>: In order to have the <strong>LATEST</strong> version built, please make sure you always give the priority to branch <strong>gz11</strong> rather than branch <strong>default</strong>.</span></p>
<p>For instance <a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-cmake/src/gz11/">ign-cmake</a>:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://bitbucket.org/ignitionrobotics/ign-cmake/src/gz11/</span><br></pre></td></tr></table></figure>

<h2 id="Important-Things"><a href="#Important-Things" class="headerlink" title="Important Things"></a>Important Things</h2><p>Two things to emphasize before building.</p>
<ol>
<li>To have all the packages at <a target="_blank" rel="noopener" href="https://ignitionrobotics.org/libs">Ignition Robotics Development Libraries</a> successfully built, we need to build all libraries <strong>in a particular sequence</strong>.</li>
<li>Some required 3rd-party libraries are <strong>additionally</strong> installed while building <a target="_blank" rel="noopener" href="https://ignitionrobotics.org/libs">Ignition Robotics Development Libraries</a>, including:</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/OSGeo/gdal/">gdal</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/dartsim/dart">DART</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/openscenegraph/OpenSceneGraph">OpenSceneGraph</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/sinbad/ogre/src/v2-1/">Ogre2</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/vrpn/vrpn">vrpn</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/OSVR/OSVR-Core.git">OSVR</a>: Please make sure <strong>unifiedvideoinertialtracker</strong> is excluded from building for now.<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#add_subdirectory(unifiedvideoinertialtracker)</span></span><br></pre></td></tr></table></figure></li>
<li><a target="_blank" rel="noopener" href="https://github.com/facebook/folly/">folly</a>: required by <strong>unifiedvideoinertialtracker</strong>, which requires <a target="_blank" rel="noopener" href="https://www.boost.org/">boost</a> built by <strong>C++14</strong>. For now, this is <strong>excluded</strong> from building.</li>
</ul>
<h2 id="Build-Ignition-Robotics"><a href="#Build-Ignition-Robotics" class="headerlink" title="Build Ignition Robotics"></a>Build Ignition Robotics</h2><p>Now, let’s start building <a target="_blank" rel="noopener" href="https://ignitionrobotics.org/libs">Ignition Robotics Development Libraries</a>.</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-cmake/src/gz11/">ign-cmake</a>: <strong>BUILD_TESTING OFF</strong></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-math/src/gz11">ign-math</a>: <strong>ruby-dev needs to be installed FIRST</strong></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-common/src/gz11">ign-common</a>: <strong>libgts needs to be installed FIRST</strong></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-tools/src/default/">ign-tools</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-msgs/src/gz11/">ign-msgs</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-transport/src/gz11/">ign-transport</a>: <strong>CXX_FLAGS&#x3D;-I&#x2F;usr&#x2F;include&#x2F;c++&#x2F;7</strong> and comment out line #35 of file <strong>test_config.h</strong>.<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;filesystem&gt; // line 35</span></span><br></pre></td></tr></table></figure></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-rendering/src/default/">ign-rendering</a>: Modify <strong>CMakeLists.txt line 62</strong>, <strong>ogre</strong> to <strong>ogre2</strong></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-plugin/src/gz11/">ign-plugin</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-gui/src/gz11/">ign-gui</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-fuel-tools/src/default/">ign-fuel-tools</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/osrf/sdformat/src/gz11/">SDFormat8</a>: <strong>C++8 is required for building</strong></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-physics/src/gz11/">ign-physics</a>: Since I’m using <a target="_blank" rel="noopener" href="https://github.com/dartsim/dart">dart 7.0</a>, please figure out some trivial bugs about <strong>DartLoader</strong> in file <a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-physics/src/default/test/plugins/DARTDoublePendulum.cc">DARTDoublePendulum.cc</a>.</li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-sensors/src/default/">ign-sensors</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-gazebo/src/default/">ign-gazebo</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/osrf/gazebo/src/default/">gazebo</a>: <strong>Going to be deprecated soon</strong><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-- BUILD WARNINGS</span><br><span class="line">-- Oculus Rift support will be disabled.</span><br><span class="line">-- END BUILD WARNINGS</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="Some-Bugs-Proposed-by-Me"><a href="#Some-Bugs-Proposed-by-Me" class="headerlink" title="Some Bugs Proposed by Me"></a>Some Bugs Proposed by Me</h1><ul>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-gazebo/issues/11/whats-the-realationship-between-ign-gazebo">What’s the realationship between ign-gazebo and gazebo?</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-rendering/issues/43/should-i-have-both-ogre-and-ogre2">Should I have both OGRE and OGRE2 installed?</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-gui/issues/38/gz11-missing-ignition-rendering1">gz11 - Missing: ignition-rendering1 (Components: ogre)</a></li>
<li><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-cmake/issues/50/make-6-cmakefiles-codecheck-error-1">make[6]: *** [CMakeFiles&#x2F;codecheck] Error 1</a></li>
</ul>
<h1 id="Some-Tests"><a href="#Some-Tests" class="headerlink" title="Some Tests"></a>Some Tests</h1><h2 id="ign-rendering-via-Ogre2-Test"><a href="#ign-rendering-via-Ogre2-Test" class="headerlink" title="ign-rendering via Ogre2 Test"></a><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-rendering/src/gz11/">ign-rendering</a> via <a target="_blank" rel="noopener" href="https://bitbucket.org/sinbad/ogre/branch/v2-1">Ogre2</a> Test</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">21:31:15: Starting .../IgnitionRobotics/Ogre2Demo...</span><br><span class="line">[Wrn] [ColladaLoader.cc:2070] Triangle input semantic: &#x27;COLOR&#x27; is currently not supported</span><br><span class="line">[Msg] Loading plugin [ignition-rendering1-ogre2]</span><br><span class="line">===============================</span><br><span class="line">  TAB - Switch render engines  </span><br><span class="line">  ESC - Exit                   </span><br><span class="line">===============================</span><br><span class="line">Selected visual at position: 309 294: pump</span><br><span class="line">Selected visual at position: 458 307: sphere</span><br><span class="line">Selected visual at position: 515 327: pump</span><br><span class="line">Selected visual at position: 447 365: pump</span><br><span class="line">Selected visual at position: 497 427: plane</span><br><span class="line">Selected visual at position: 197 328: cylinder</span><br><span class="line">Selected visual at position: 241 394: cylinder</span><br><span class="line">Selected visual at position: 130 340: duck</span><br><span class="line">Selected visual at position: 419 444: duck</span><br><span class="line">No visual found at position: 503 296</span><br><span class="line">Selected visual at position: 505 350: pump</span><br><span class="line">Selected visual at position: 412 326: pump</span><br><span class="line">Selected visual at position: 385 230: duck</span><br><span class="line">Selected visual at position: 361 264: box</span><br><span class="line">Selected visual at position: 396 270: sphere</span><br><span class="line">Selected visual at position: 322 335: pump</span><br><span class="line">Selected visual at position: 359 352: plane</span><br><span class="line">Selected visual at position: 539 422: plane</span><br><span class="line">Selected visual at position: 406 366: pump</span><br><span class="line">Selected visual at position: 431 374: pump</span><br><span class="line">Selected visual at position: 510 422: cylinder</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/IgnitionRobotics/01_ogre2_demo.png" alt="Ogre2 Demo"></p>
<h2 id="ign-gazebo-Performance-Test"><a href="#ign-gazebo-Performance-Test" class="headerlink" title="ign-gazebo Performance Test"></a><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-gazebo/src/default/">ign-gazebo</a> Performance Test</h2><p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/IgnitionRobotics/02_matching-entity.png" alt="Matching Entity"></p>
<h2 id="ign-gazebo-Integration-Test"><a href="#ign-gazebo-Integration-Test" class="headerlink" title="ign-gazebo Integration Test"></a><a target="_blank" rel="noopener" href="https://bitbucket.org/ignitionrobotics/ign-gazebo/src/default/">ign-gazebo</a> Integration Test</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2019/01/26/GeoScience/ZR3D-drone-4-Surveying-Mapping/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/26/GeoScience/ZR3D-drone-4-Surveying-Mapping/" class="post-title-link" itemprop="url">ZR3D Drone for Surveying & Mapping</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-26 00:00:00" itemprop="dateCreated datePublished" datetime="2019-01-26T00:00:00-08:00">2019-01-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Geo-Science/" itemprop="url" rel="index"><span itemprop="name">Geo Science</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/04_zr3d_southsurvey_6wings_overview_01.jpg" alt="ZR3D South Survey Drone with 6 Wings Overview"></p>
<p>In my <a href="https://longervision.github.io/2019/01/25/DeepLearning/TorchSeg-HUST/">last blog</a>, I talked about <a target="_blank" rel="noopener" href="https://github.com/ycszen/TorchSeg">TorchSeg</a>, a <a target="_blank" rel="noopener" href="https://pytorch.org/">PyTorch</a> open source developed by my <strong>master’s lab, namely: <a target="_blank" rel="noopener" href="http://auto.hust.edu.cn/info/1108/3394.htm">The State-Level key Laboratory of Multispectral Signal Processing</a></strong> in <strong><a target="_blank" rel="noopener" href="http://english.hust.edu.cn/">Huazhong University of Science and Technology</a></strong>.</p>
<p>Today, I’m going to introduce professional drones developed by a start-up company <strong><a target="_blank" rel="noopener" href="http://www.zr3d.cn/">ZR3D</a></strong>, which is spinned-out from my <strong>bachelor’s department, namely: <a target="_blank" rel="noopener" href="http://rsgis.whu.edu.cn/">School of Remote Sensing and Information Engineering</a></strong> in <strong><a target="_blank" rel="noopener" href="https://en.whu.edu.cn/">Wuhan University</a></strong>. By the way, <strong><a target="_blank" rel="noopener" href="http://www.lmars.whu.edu.cn/">The State key Laboratory of Information Engineering in Surveying, Mapping and Remote Sensing</a></strong> in <strong><a target="_blank" rel="noopener" href="https://en.whu.edu.cn/">Wuhan University</a></strong> is specialized in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Photogrammetry">Tilt photogrammetry</a>.</p>
<p>OK, now it’s the time to show some of <strong><a target="_blank" rel="noopener" href="http://www.zr3d.cn/">ZR3D</a></strong>‘s products.</p>
<h1 id="Outdoor-Work"><a href="#Outdoor-Work" class="headerlink" title="Outdoor Work"></a>Outdoor Work</h1><h2 id="The-Drone"><a href="#The-Drone" class="headerlink" title="The Drone"></a>The Drone</h2><p><strong>Outdoor video capturing</strong> can be stably done by <strong><a target="_blank" rel="noopener" href="http://www.zr3d.cn/">ZR3D</a></strong> drones. In the following, we show some pictures of an OEMed drone manufactured&#x2F;assembled by <strong><a target="_blank" rel="noopener" href="http://www.zr3d.cn/">ZR3D</a></strong>.</p>
<table>
<thead>
<tr>
<th align="center"><a target="_blank" rel="noopener" href="http://www.zr3d.cn/">ZR3D</a></th>
<th align="center"><a target="_blank" rel="noopener" href="http://www.southsurvey.com/">South Survey</a></th>
<th align="center"><a target="_blank" rel="noopener" href="http://www.longervision.cn/">Longer Vision</a></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/01_inbox.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/01_inbox.jpg" alt="In Box"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/02_openbox_inner_view_layer2.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/02_openbox_inner_view_layer2.jpg" alt="Open Box Layer 2"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/03_front_view_02.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/03_front_view_02.jpg" alt="Front View"></a></td>
</tr>
<tr>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/04_zr3d_southsurvey_6wings_overview_01.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/04_zr3d_southsurvey_6wings_overview_01.jpg" alt="Overview"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/05_front_view_01.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/05_front_view_01.jpg" alt="Front View"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/06_openbox_inner_view_layer1.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/06_openbox_inner_view_layer1.jpg" alt="Open Box Layer 1"></a></td>
</tr>
<tr>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/07_thecam_01.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/07_thecam_01.jpg" alt="Camera"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/08_thecam_02.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/08_thecam_02.jpg" alt="Camera"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/09_pivot.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/09_pivot.jpg" alt="Pivot"></a></td>
</tr>
<tr>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/10_thewing_01.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/10_thewing_01.jpg" alt="Wing"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/11_thewing_02.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/11_thewing_02.jpg" alt="Wing"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/12_thewing_03.jpg"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Robots/Drones/12_thewing_03.jpg" alt="Wing"></a></td>
</tr>
</tbody></table>
<h2 id="Captured-Sample-Images-For-Some-Scenary"><a href="#Captured-Sample-Images-For-Some-Scenary" class="headerlink" title="Captured Sample Images For Some Scenary"></a>Captured Sample Images For Some Scenary</h2><table>
<thead>
<tr>
<th align="center">Side View</th>
<th align="center">Half Side View</th>
<th align="center">Top View</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/CapturedImages/01_sideview.png"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/CapturedImages/01_sideview.png" alt="Side View"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/CapturedImages/02_halfsideview.png"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/CapturedImages/02_halfsideview.png" alt="Half Side View"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/CapturedImages/03_topview.png"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/CapturedImages/03_topview.png" alt="Top View"></a></td>
</tr>
</tbody></table>
<h1 id="Indoor-Work"><a href="#Indoor-Work" class="headerlink" title="Indoor Work"></a>Indoor Work</h1><p><strong>Indoor surveying &amp; mapping</strong> is done by a cluster of servers, namely, on a small cloud. Currently, we are still dockerizing our own SDK.<br>Three videos are used to briefly explain the <strong>MOST</strong> important three steps of <strong>indoor surveying &amp; mapping</strong>, as shown:</p>
<table>
<thead>
<tr>
<th align="center">Point Cloud</th>
<th align="center">Meshlized</th>
<th align="center">Texturized</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><a target="_blank" rel="noopener" href="https://www.facebook.com/jiapei100/videos/1204640356360031"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/Processing/01_pointcloud.png" alt="Point Cloud"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://www.facebook.com/jiapei100/videos/1204640393026694"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/Processing/02_meshlized.png" alt="Meshlized"></a></td>
<td align="center"><a target="_blank" rel="noopener" href="https://www.facebook.com/jiapei100/videos/1204640419693358"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/GeoScience/SurveyingMapping/Processing/03_texturized.png" alt="Texturized"></a></td>
</tr>
</tbody></table>
<h1 id="PX4-Autopilot-Software"><a href="#PX4-Autopilot-Software" class="headerlink" title="PX4 Autopilot Software"></a><a target="_blank" rel="noopener" href="https://px4.io/">PX4 Autopilot Software</a></h1><p>Popular open source drone firmwares and websites that I’ve been testing are briefly listed in the following:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://px4.io/">PX4</a></li>
<li><a target="_blank" rel="noopener" href="http://pixhawk.org/">Pixhawk</a></li>
<li><a target="_blank" rel="noopener" href="https://www.dronecode.org/">Dronecode</a></li>
<li><a target="_blank" rel="noopener" href="http://ardupilot.org/">ArduPilot</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2019/01/25/AI/DeepLearning/TorchSeg-HUST/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/25/AI/DeepLearning/TorchSeg-HUST/" class="post-title-link" itemprop="url">TorchSeg - HUST's Semantic Segmentation algorithms in PyTorch</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-25 00:00:00" itemprop="dateCreated datePublished" datetime="2019-01-25T00:00:00-08:00">2019-01-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/" itemprop="url" rel="index"><span itemprop="name">AI</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/DeepLearning/" itemprop="url" rel="index"><span itemprop="name">DeepLearning</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Happily got the info that my <strong>master’s supervisor’s lab, namely: <a target="_blank" rel="noopener" href="http://auto.hust.edu.cn/info/1108/3394.htm">The State-Level key Laboratory of Multispectral Signal Processing</a></strong> in <strong><a target="_blank" rel="noopener" href="http://english.hust.edu.cn/">Huazhong University of Science and Technology</a></strong> released <a target="_blank" rel="noopener" href="https://github.com/ycszen/TorchSeg">TorchSeg</a> just yesterday. I can’t helping testing it out.</p>
<h1 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h1><h2 id="Python-Packages"><a href="#Python-Packages" class="headerlink" title="Python Packages"></a>Python Packages</h2><p>According to the <a target="_blank" rel="noopener" href="https://github.com/ycszen/TorchSeg/blob/master/README.md">README.md</a> on <a target="_blank" rel="noopener" href="https://github.com/ycszen/TorchSeg">TorchSeg</a>, serveral packages need to be prepared <strong>FIRST</strong>:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ pip show torch</span><br><span class="line">Name: torch</span><br><span class="line">Version: 1.1.0a0+b6a8c45</span><br><span class="line">Summary: Tensors and Dynamic neural networks in Python with strong GPU acceleration</span><br><span class="line">Home-page: UNKNOWN</span><br><span class="line">Author: UNKNOWN</span><br><span class="line">Author-email: UNKNOWN</span><br><span class="line">License: UNKNOWN</span><br><span class="line">Location: /home/jiapei/.local/lib/python3.6/site-packages</span><br><span class="line">Requires: </span><br><span class="line">Required-by: torchvision, torchtext, torchgan, pytorch-pretrained-bert, pyro-ppl, flair, autokeras</span><br><span class="line">➜  ~ pip show torchvision</span><br><span class="line">Name: torchvision</span><br><span class="line">Version: 0.2.1</span><br><span class="line">Summary: image and video datasets and models for torch deep learning</span><br><span class="line">Home-page: https://github.com/pytorch/vision</span><br><span class="line">Author: PyTorch Core Team</span><br><span class="line">Author-email: soumith@pytorch.org</span><br><span class="line">License: BSD</span><br><span class="line">Location: /home/jiapei/.local/lib/python3.6/site-packages</span><br><span class="line">Requires: numpy, torch, pillow, six</span><br><span class="line">Required-by: torchgan, torchfusion, autokeras</span><br><span class="line">➜  ~ pip show easydict</span><br><span class="line">Name: easydict</span><br><span class="line">Version: 1.9</span><br><span class="line">Summary: Access dict values as attributes (works recursively).</span><br><span class="line">Home-page: https://github.com/makinacorpus/easydict</span><br><span class="line">Author: Mathieu Leplatre</span><br><span class="line">Author-email: mathieu.leplatre@makina-corpus.com</span><br><span class="line">License: LPGL, see LICENSE file.</span><br><span class="line">Location: /home/jiapei/.local/lib/python3.6/site-packages</span><br><span class="line">Requires: </span><br><span class="line">Required-by: luminoth</span><br><span class="line">➜  ~ pip show apex</span><br><span class="line">Name: apex</span><br><span class="line">Version: 0.1</span><br><span class="line">Summary: PyTorch Extensions written by NVIDIA</span><br><span class="line">Home-page: UNKNOWN</span><br><span class="line">Author: UNKNOWN</span><br><span class="line">Author-email: UNKNOWN</span><br><span class="line">License: UNKNOWN</span><br><span class="line">Location: /home/jiapei/.local/lib/python3.6/site-packages/apex-0.1-py3.6.egg</span><br><span class="line">Requires: </span><br><span class="line">Required-by: </span><br><span class="line">➜  ~ pip show tqdm</span><br><span class="line">Name: tqdm</span><br><span class="line">Version: 4.29.1</span><br><span class="line">Summary: Fast, Extensible Progress Meter</span><br><span class="line">Home-page: https://github.com/tqdm/tqdm</span><br><span class="line">Author: Noam Yorav-Raphael</span><br><span class="line">Author-email: noamraph@gmail.com</span><br><span class="line">License: MPLv2.0, MIT Licences</span><br><span class="line">Location: /home/jiapei/.local/lib/python3.6/site-packages</span><br><span class="line">Requires: </span><br><span class="line">Required-by: TPOT, torchtext, torchfusion, thinc, tensorpack, skorch, shap, pytorch-pretrained-bert, pyro-ppl, optimuspyspark, kaggle, flair, autokeras, tf-pose</span><br></pre></td></tr></table></figure>

<h2 id="PyTorch-Models"><a href="#PyTorch-Models" class="headerlink" title="PyTorch Models"></a>PyTorch Models</h2><p>Download all PyTorch models provided from within all <strong>.py</strong> files from <a target="_blank" rel="noopener" href="https://github.com/pytorch/vision/tree/master/torchvision/models">PyTorch Vision Models</a>. Let’s briefly summarize the models as follows:</p>
<ul>
<li><strong>alexnet</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/alexnet-owt-4df8aa71.pth">https://download.pytorch.org/models/alexnet-owt-4df8aa71.pth</a></li>
<li><strong>densenet121</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/densenet121-a639ec97.pth">https://download.pytorch.org/models/densenet121-a639ec97.pth</a></li>
<li><strong>densenet169</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/densenet169-b2777c0a.pth">https://download.pytorch.org/models/densenet169-b2777c0a.pth</a></li>
<li><strong>densenet201</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/densenet201-c1103571.pth">https://download.pytorch.org/models/densenet201-c1103571.pth</a></li>
<li><strong>densenet161</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/densenet161-8d451a50.pth">https://download.pytorch.org/models/densenet161-8d451a50.pth</a></li>
<li><strong>inception_v3_google</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/inception_v3_google-1a9a5a14.pth">https://download.pytorch.org/models/inception_v3_google-1a9a5a14.pth</a></li>
<li><strong>resnet18</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/resnet18-5c106cde.pth">https://download.pytorch.org/models/resnet18-5c106cde.pth</a></li>
<li><strong>resnet34</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/resnet34-333f7ec4.pth">https://download.pytorch.org/models/resnet34-333f7ec4.pth</a></li>
<li><strong>resnet50</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/resnet50-19c8e357.pth">https://download.pytorch.org/models/resnet50-19c8e357.pth</a></li>
<li><strong>resnet101</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/resnet101-5d3b4d8f.pth">https://download.pytorch.org/models/resnet101-5d3b4d8f.pth</a></li>
<li><strong>resnet152</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/resnet152-b121ed2d.pth">https://download.pytorch.org/models/resnet152-b121ed2d.pth</a></li>
<li><strong>squeezenet1_0</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/squeezenet1_0-a815701f.pth">https://download.pytorch.org/models/squeezenet1_0-a815701f.pth</a></li>
<li><strong>squeezenet1_1</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/squeezenet1_1-f364aa15.pth">https://download.pytorch.org/models/squeezenet1_1-f364aa15.pth</a></li>
<li><strong>vgg11</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/vgg11-bbd30ac9.pth">https://download.pytorch.org/models/vgg11-bbd30ac9.pth</a></li>
<li><strong>vgg13</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/vgg13-c768596a.pth">https://download.pytorch.org/models/vgg13-c768596a.pth</a></li>
<li><strong>vgg16</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/vgg16-397923af.pth">https://download.pytorch.org/models/vgg16-397923af.pth</a></li>
<li><strong>vgg19</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/vgg19-dcbb9e9d.pth">https://download.pytorch.org/models/vgg19-dcbb9e9d.pth</a></li>
<li><strong>vgg11_bn</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/vgg11_bn-6002323d.pth">https://download.pytorch.org/models/vgg11_bn-6002323d.pth</a></li>
<li><strong>vgg13_bn</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/vgg13_bn-abd245e5.pth">https://download.pytorch.org/models/vgg13_bn-abd245e5.pth</a></li>
<li><strong>vgg16_bn</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/vgg16_bn-6c64b313.pth">https://download.pytorch.org/models/vgg16_bn-6c64b313.pth</a></li>
<li><strong>vgg19_bn</strong>: <a target="_blank" rel="noopener" href="https://download.pytorch.org/models/vgg19_bn-c79401a0.pth">https://download.pytorch.org/models/vgg19_bn-c79401a0.pth</a></li>
</ul>
<h1 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h1><h2 id="TorchSeg-config-py-modification"><a href="#TorchSeg-config-py-modification" class="headerlink" title="TorchSeg config.py modification"></a>TorchSeg config.py modification</h2><p>After <a target="_blank" rel="noopener" href="https://github.com/ycszen/TorchSeg">TorchSeg</a> is checked out, we need to modify all the <strong>config.py</strong> files and ensure all variables <strong>C.pretrained_model</strong> are specified to the <strong>RIGHT</strong> location and with the <strong>RIGHT</strong> names. In my case, I just downloaded all <strong>PyTorch models</strong> under the same directory as <a target="_blank" rel="noopener" href="https://github.com/ycszen/TorchSeg">TorchSeg</a>, therefore, all <strong>C.pretrained_model</strong> are designated as:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C.pretrained_model = <span class="string">&quot;./resnet18-5c106cde.pth&quot;</span></span><br><span class="line">C.pretrained_model = <span class="string">&quot;./resnet50-19c8e357.pth&quot;</span></span><br><span class="line">C.pretrained_model = <span class="string">&quot;./resnet101-5d3b4d8f.pth&quot;</span></span><br></pre></td></tr></table></figure>
<p>etc.</p>
<p>We <strong>also</strong> need to modify all variables <strong>C.dataset_path</strong> and make sure we are using the <strong>RIGHT</strong> dataset. In fact, <strong>ONLY</strong> two datasets are directly adopted in the originally checked-out code of <a target="_blank" rel="noopener" href="https://github.com/ycszen/TorchSeg">TorchSeg</a>.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cityscapes-dataset.com/">Cityscapes</a></li>
<li><a target="_blank" rel="noopener" href="http://groups.csail.mit.edu/vision/datasets/ADE20K/">ADE20K</a></li>
</ul>
<p>Currently, it seems there is still some tricks about how to configure these <strong>datasets</strong>, please refer to <a target="_blank" rel="noopener" href="https://github.com/ycszen/TorchSeg/issues/4">my Github issue</a>.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2019/01/22/Finance/time-series-forecasting-with-Facebook-Prophet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/22/Finance/time-series-forecasting-with-Facebook-Prophet/" class="post-title-link" itemprop="url">Time Series Forecasting with Facebook Prophet</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-22 00:00:00" itemprop="dateCreated datePublished" datetime="2019-01-22T00:00:00-08:00">2019-01-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Finance/" itemprop="url" rel="index"><span itemprop="name">Finance</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Today, we are going to test out <a target="_blank" rel="noopener" href="https://facebook.github.io/prophet/">Facebook Prophet</a> by following <a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/a-guide-to-time-series-forecasting-with-prophet-in-python-3">this DigitalOcean Tutorial</a>.</p>
<h1 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h1><h2 id="Required-Python-Packages"><a href="#Required-Python-Packages" class="headerlink" title="Required Python Packages"></a>Required Python Packages</h2><p>We <strong>FIRST</strong> make sure 2 Python packages - <a target="_blank" rel="noopener" href="https://facebook.github.io/prophet/">Prophet</a> and <a target="_blank" rel="noopener" href="https://pystan.readthedocs.io/en/latest/">PyStan</a> have been successfully installed.</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ pip show prophet</span><br><span class="line">Name: prophet</span><br><span class="line">Version: 0.1.1</span><br><span class="line">Summary: Microframework for analyzing financial markets.</span><br><span class="line">Home-page: http://prophet.michaelsu.io/</span><br><span class="line">Author: Michael Su</span><br><span class="line">Author-email: mdasu1@gmail.com</span><br><span class="line">License: BSD</span><br><span class="line">Location: /home/jiapei/.local/lib/python3.6/site-packages</span><br><span class="line">Requires: six, pytz, pandas</span><br><span class="line">Required-by: </span><br><span class="line">➜  ~ pip show pystan</span><br><span class="line">Name: pystan</span><br><span class="line">Version: 2.18.1.0</span><br><span class="line">Summary: Python interface to Stan, a package for Bayesian inference</span><br><span class="line">Home-page: https://github.com/stan-dev/pystan</span><br><span class="line">Author: None</span><br><span class="line">Author-email: None</span><br><span class="line">License: GPLv3</span><br><span class="line">Location: /home/jiapei/.local/lib/python3.6/site-packages</span><br><span class="line">Requires: Cython, numpy</span><br><span class="line">Required-by: fbprophet</span><br></pre></td></tr></table></figure>

<h2 id="Download-the-Time-Series-Data"><a href="#Download-the-Time-Series-Data" class="headerlink" title="Download the Time Series Data"></a>Download the Time Series Data</h2><p>We just need to download the CSV file to some directory:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  facebookprophet curl -O https://assets.digitalocean.com/articles/eng_python/prophet/AirPassengers.csv</span><br><span class="line"><span class="meta prompt_">  % </span><span class="language-bash">Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100  1748  100  1748    0     0   2281      0 --:--:-- --:--:-- --:--:--  2279</span><br></pre></td></tr></table></figure>


<h1 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h1><h2 id="The-Code"><a href="#The-Code" class="headerlink" title="The Code"></a>The Code</h2><p>Trivial modifications have been done upon the code on <a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/a-guide-to-time-series-forecasting-with-prophet-in-python-3">this DigitalOcean Tutorial</a>, as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> fbprophet <span class="keyword">import</span> Prophet</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.style.use(<span class="string">&#x27;fivethirtyeight&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;AirPassengers.csv&#x27;</span>)</span><br><span class="line">df.head(<span class="number">5</span>)</span><br><span class="line">df.dtypes</span><br><span class="line"></span><br><span class="line">df[<span class="string">&#x27;Month&#x27;</span>] = pd.DatetimeIndex(df[<span class="string">&#x27;Month&#x27;</span>])</span><br><span class="line">df.dtypes</span><br><span class="line"></span><br><span class="line">df = df.rename(columns=&#123;<span class="string">&#x27;Month&#x27;</span>: <span class="string">&#x27;ds&#x27;</span>, <span class="string">&#x27;AirPassengers&#x27;</span>: <span class="string">&#x27;y&#x27;</span>&#125;)</span><br><span class="line">df.head(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">ax = df.set_index(<span class="string">&#x27;ds&#x27;</span>).plot(figsize=(<span class="number">12</span>, <span class="number">8</span>))</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;Monthly Number of Airline Passengers&#x27;</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;Date&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># set the uncertainty interval to 95% (the Prophet default is 80%)</span></span><br><span class="line">my_model = Prophet(interval_width=<span class="number">0.95</span>)</span><br><span class="line">my_model.fit(df)</span><br><span class="line">future_dates = my_model.make_future_dataframe(periods=<span class="number">36</span>, freq=<span class="string">&#x27;MS&#x27;</span>)</span><br><span class="line">future_dates.tail()</span><br><span class="line">forecast = my_model.predict(future_dates)</span><br><span class="line">forecast[[<span class="string">&#x27;ds&#x27;</span>, <span class="string">&#x27;yhat&#x27;</span>, <span class="string">&#x27;yhat_lower&#x27;</span>, <span class="string">&#x27;yhat_upper&#x27;</span>]].tail()</span><br><span class="line">fig1 = my_model.plot(forecast, uncertainty=<span class="literal">True</span>)</span><br><span class="line">fig1.show()</span><br><span class="line"></span><br><span class="line">my_model.plot_components(forecast).savefig(<span class="string">&#x27;prophet_forcast.png&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Outcome"><a href="#Outcome" class="headerlink" title="Outcome"></a>Outcome</h2><p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/prophet/01_originaldata.jpg" alt="Original Data"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/prophet/02_forcast.jpg" alt="Forcast"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/prophet/03_forcast_components.jpg" alt="Forcast Component"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2019/01/09/Coding/Bugs/matplotlib-path-home/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/09/Coding/Bugs/matplotlib-path-home/" class="post-title-link" itemprop="url">Matplotlib.pyplot - AttributeError - type object 'Path' has no attribute 'home'</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-09 00:00:00" itemprop="dateCreated datePublished" datetime="2019-01-09T00:00:00-08:00">2019-01-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Coding/Bugs/" itemprop="url" rel="index"><span itemprop="name">Bugs</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="AttributeError-type-object-‘Path’-has-no-attribute-‘home’"><a href="#AttributeError-type-object-‘Path’-has-no-attribute-‘home’" class="headerlink" title="AttributeError: type object ‘Path’ has no attribute ‘home’"></a>AttributeError: type object ‘Path’ has no attribute ‘home’</h1><p>This error message is found while I was trying to <strong>from matplotlib.pyplot as plt</strong> today. I’ve got <strong>NO</strong> idea what had happened to my <strong>python</strong>. But, it seems this issue had been met and solved in some public posts. For instance:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/addok/addok/issues/280">github addok</a></li>
</ul>
<h1 id="Solutions"><a href="#Solutions" class="headerlink" title="Solutions:"></a>Solutions:</h1><p>In my case, I need to manually modify 3 files under folder <strong>~&#x2F;.local&#x2F;lib&#x2F;python3.6&#x2F;site-packages&#x2F;matplotlib</strong>.</p>
<h2 id="Path-home-os-path-expanduser-‘-’"><a href="#Path-home-os-path-expanduser-‘-’" class="headerlink" title="Path.home() -&gt; os.path.expanduser(‘~’)"></a>Path.home() -&gt; os.path.expanduser(‘~’)</h2><ul>
<li>In file <strong>~&#x2F;.local&#x2F;lib&#x2F;python3.6&#x2F;site-packages&#x2F;matplotlib&#x2F;font_manager.py</strong>, around line 135, change</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> USE_FONTCONFIG <span class="keyword">and</span> sys.platform != <span class="string">&#x27;win32&#x27;</span>:</span><br><span class="line">    OSXFontDirectories.append(<span class="built_in">str</span>(Path.home() / <span class="string">&quot;Library/Fonts&quot;</span>))</span><br><span class="line">    X11FontDirectories.append(<span class="built_in">str</span>(Path.home() / <span class="string">&quot;.fonts&quot;</span>))</span><br></pre></td></tr></table></figure>

<p>to</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> USE_FONTCONFIG <span class="keyword">and</span> sys.platform != <span class="string">&#x27;win32&#x27;</span>:</span><br><span class="line">    OSXFontDirectories.append(<span class="built_in">str</span>(os.path.expanduser(<span class="string">&#x27;~&#x27;</span>)+<span class="string">&#x27;/&#x27;</span>+<span class="string">&quot;Library/Fonts&quot;</span>))</span><br><span class="line">    X11FontDirectories.append(<span class="built_in">str</span>(os.path.expanduser(<span class="string">&#x27;~&#x27;</span>)+<span class="string">&#x27;/&#x27;</span>+<span class="string">&quot;.fonts&quot;</span>))</span><br></pre></td></tr></table></figure>


<h2 id="Remove-exist-ok-True-in-function-mkdir"><a href="#Remove-exist-ok-True-in-function-mkdir" class="headerlink" title="Remove exist_ok&#x3D;True in function mkdir()"></a>Remove exist_ok&#x3D;True in function mkdir()</h2><ul>
<li>In file <strong>~&#x2F;.local&#x2F;lib&#x2F;python3.6&#x2F;site-packages&#x2F;matplotlib&#x2F;<strong>init</strong>.py</strong>, around line 615</li>
<li>In file <strong>~&#x2F;.local&#x2F;lib&#x2F;python3.6&#x2F;site-packages&#x2F;matplotlib&#x2F;texmanager.py</strong>, around line 56 and 104</li>
</ul>
<p>change all</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir(parents=<span class="literal">True</span>, exist_ok=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>to</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir(parents=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2019/01/06/Coding/Bugs/flownet2-pytorch-vid2vid/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/06/Coding/Bugs/flownet2-pytorch-vid2vid/" class="post-title-link" itemprop="url">3 Bugs - Pytorch, Flownet2-Pytorch and vid2vid</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-06 00:00:00" itemprop="dateCreated datePublished" datetime="2019-01-06T00:00:00-08:00">2019-01-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Coding/Bugs/" itemprop="url" rel="index"><span itemprop="name">Bugs</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Haven’t successfully tested three packages (all related to <a target="_blank" rel="noopener" href="https://github.com/pytorch/pytorch">PyTorch</a>), <a target="_blank" rel="noopener" href="https://github.com/pytorch/pytorch">PyTorch</a>, <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/flownet2-pytorch">FlowNet2-Pytorch</a> and <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/vid2vid">vid2vid</a>. Looking forward to assistance…</p>
<h1 id="PyTorch"><a href="#PyTorch" class="headerlink" title="PyTorch"></a>PyTorch</h1><h2 id="The-Bug"><a href="#The-Bug" class="headerlink" title="The Bug"></a>The Bug</h2><p>After having successfully installed <a target="_blank" rel="noopener" href="https://github.com/pytorch/pytorch">PyTorch</a> current version <strong>1.1</strong>, I still failed to <strong>import torch</strong>. Please refer to the following <strong>ERROR</strong>.</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ python</span><br><span class="line">Python 3.6.7 (default, Oct 22 2018, 11:32:17) </span><br><span class="line">[GCC 8.2.0] on linux</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import torch</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">  File &quot;~/.local/lib/python3.6/site-packages/torch/__init__.py&quot;, line 84, in &lt;module&gt;</span><br><span class="line">    from torch._C import *</span><br><span class="line">ImportError: ~/.local/lib/python3.6/site-packages/torch/lib/libcaffe2.so: undefined symbol: _ZTIN3c1010TensorImplE</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import caffe2</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; caffe2.__version__</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">AttributeError: module &#x27;caffe2&#x27; has no attribute &#x27;__version__&#x27;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; caffe2.__file__</span></span><br><span class="line">&#x27;~/.local/lib/python3.6/site-packages/caffe2/__init__.py&#x27;</span><br></pre></td></tr></table></figure>

<p>In order to have <strong><a target="_blank" rel="noopener" href="https://github.com/pytorch/pytorch">PyTorch</a></strong> successully imported, I’ve got to remove the <strong>manually installed <a target="_blank" rel="noopener" href="https://github.com/pytorch/pytorch">PyTorch</a> v 1.1</strong>, but had it installed by <strong>pip</strong></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install https://download.pytorch.org/whl/cu100/torch-1.0.0-cp36-cp36m-linux_x86_64.whl</span><br></pre></td></tr></table></figure>

<p>This is <strong>PyTorch v1.0</strong>, which seems <strong>NOT</strong> come with <strong>caffe2</strong>, and of course <strong>should NOT</strong> be compatible with the installed <strong>caffe2</strong> built with <strong>PyTorch v1.1</strong>. Can anybody help to solve this issue? Please also refer to <a target="_blank" rel="noopener" href="https://github.com/pytorch/pytorch/issues/15800">Github issue</a>.</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Remove <strong>anything&#x2F;everything</strong> related to your <strong>previously installed <a target="_blank" rel="noopener" href="https://github.com/pytorch/pytorch">PyTorch</a></strong>. In my case, file <strong>&#x2F;usr&#x2F;local&#x2F;lib&#x2F;libc10.s0</strong> is to be removed. In order to analyze which files are possibly related to the concerned package, we can use the command <strong>ldd</strong>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">➜  lib ldd libcaffe2.so</span><br><span class="line">        linux-vdso.so.1 (0x00007ffcf3dc9000)</span><br><span class="line">        libc10.so =&gt; /usr/local/lib/libc10.so (0x00007fca41b88000)</span><br><span class="line">        libmpi.so.12 =&gt; /opt/intel/mpi/intel64/lib/libmpi.so.12 (0x00007f8acdad9000)</span><br><span class="line">        librt.so.1 =&gt; /lib/x86_64-linux-gnu/librt.so.1 (0x00007f8acd8d1000)</span><br><span class="line">        libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f8acd6b2000)</span><br><span class="line">        libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f8acd4ae000)</span><br><span class="line">        libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f8acd296000)</span><br><span class="line">        libmkl_intel_lp64.so =&gt; /opt/intel/mkl/lib/intel64/libmkl_intel_lp64.so (0x00007f8acc765000)</span><br><span class="line">        libmkl_gnu_thread.so =&gt; /opt/intel/mkl/lib/intel64/libmkl_gnu_thread.so (0x00007f8acaf2c000)</span><br><span class="line">        libmkl_core.so =&gt; /opt/intel/mkl/lib/intel64/libmkl_core.so (0x00007f8ac6df3000)</span><br><span class="line">        libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f8ac6a55000)</span><br><span class="line">        libstdc++.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f8ac66cc000)</span><br><span class="line">        libgomp.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libgomp.so.1 (0x00007f8ac649d000)</span><br><span class="line">        libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f8ac60ac000)</span><br><span class="line">        /lib64/ld-linux-x86-64.so.2 (0x00007f8ad250d000)</span><br><span class="line">        libnuma.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libnuma.so.1 (0x00007f8ac5ea1000)</span><br><span class="line">        libfabric.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libfabric.so.1 (0x00007f8ac5bf4000)</span><br><span class="line">        librdmacm.so.1 =&gt; /usr/lib/x86_64-linux-gnu/librdmacm.so.1 (0x00007f8ac59de000)</span><br><span class="line">        libibverbs.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libibverbs.so.1 (0x00007f8ac57c8000)</span><br><span class="line">        libpsm_infinipath.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libpsm_infinipath.so.1 (0x00007f8ac556f000)</span><br><span class="line">        libnl-route-3.so.200 =&gt; /usr/lib/x86_64-linux-gnu/libnl-route-3.so.200 (0x00007f8ac52fa000)</span><br><span class="line">        libnl-3.so.200 =&gt; /lib/x86_64-linux-gnu/libnl-3.so.200 (0x00007f8ac50da000)</span><br><span class="line">        libinfinipath.so.4 =&gt; /usr/lib/x86_64-linux-gnu/libinfinipath.so.4 (0x00007f8ac4ecb000)</span><br><span class="line">        libuuid.so.1 =&gt; /lib/x86_64-linux-gnu/libuuid.so.1 (0x00007f8ac4cc4000)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="FlowNet2-Pytorch"><a href="#FlowNet2-Pytorch" class="headerlink" title="FlowNet2-Pytorch"></a>FlowNet2-Pytorch</h1><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>It’s not hard to have <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/flownet2-pytorch">FlowNet2-Pytorch</a> installed by one line of commands:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  flownet2-pytorch git:(master) ✗ ./install.sh</span><br></pre></td></tr></table></figure>

<p>After installation, there will be 3 packages installed under folder <strong>~&#x2F;.local&#x2F;lib&#x2F;python3.6&#x2F;site-packages</strong>:</p>
<ul>
<li><strong>correlation-cuda</strong></li>
<li><strong>resample2d-cuda</strong></li>
<li><strong>channelnorm-cuda</strong></li>
</ul>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">➜  site-packages ls -lsd correlation*</span><br><span class="line">4 drwxrwxr-x 4 jiapei jiapei 4096 Jan  7 00:07 correlation_cuda-0.0.0-py3.6-linux-x86_64.egg</span><br><span class="line">➜  site-packages ls -lsd channelnorm*</span><br><span class="line">4 drwxrwxr-x 4 jiapei jiapei 4096 Jan  7 00:07 channelnorm_cuda-0.0.0-py3.6-linux-x86_64.egg</span><br><span class="line">➜  site-packages ls -lsd resample2d*</span><br><span class="line">4 drwxrwxr-x 4 jiapei jiapei 4096 Jan  7 00:07 resample2d_cuda-0.0.0-py3.6-linux-x86_64.egg</span><br><span class="line">➜  site-packages ls -lsd flownet2*</span><br><span class="line">zsh: no matches found: flownet2*</span><br><span class="line">➜  site-packages pwd</span><br><span class="line">~/.local/lib/python3.6/site-packages</span><br></pre></td></tr></table></figure>

<p>That is to say: you should <strong>NEVER</strong> import <strong>flownet2</strong>, nor <strong>correlation</strong>, nor <strong>channelnorm</strong>, nor <strong>resampled2d</strong>, but</p>
<ul>
<li><strong>correlation_cuda</strong></li>
<li><strong>resample2d_cuda</strong></li>
<li><strong>channelnorm_cuda</strong></li>
</ul>
<h2 id="Current-Bug"><a href="#Current-Bug" class="headerlink" title="Current Bug"></a>Current Bug</h2><p>Here comes the <strong>ERROR</strong>:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ python</span><br><span class="line">Python 3.6.7 (default, Oct 22 2018, 11:32:17) </span><br><span class="line">[GCC 8.2.0] on linux</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import correlation_cuda</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">ImportError: ~/.local/lib/python3.6/site-packages/correlation_cuda-0.0.0-py3.6-linux-x86_64.egg/correlation_cuda.cpython-36m-x86_64-linux-gnu.so: undefined symbol: _ZN2at19UndefinedTensorImpl10_singletonE</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import channelnorm_cuda</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">ImportError: ~/.local/lib/python3.6/site-packages/channelnorm_cuda-0.0.0-py3.6-linux-x86_64.egg/channelnorm_cuda.cpython-36m-x86_64-linux-gnu.so: undefined symbol: _ZN2at19UndefinedTensorImpl10_singletonE</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import resample2d_cuda</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">ImportError: ~/.local/lib/python3.6/site-packages/resample2d_cuda-0.0.0-py3.6-linux-x86_64.egg/resample2d_cuda.cpython-36m-x86_64-linux-gnu.so: undefined symbol: _ZN2at19UndefinedTensorImpl10_singletonE</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt;</span></span><br></pre></td></tr></table></figure>

<p>I’ve already posted <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/flownet2-pytorch/issues/116">an issue on github</a>. Had anybody solved this problem?</p>
<h2 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h2><p><strong>import torch FIRST</strong>.</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ python</span><br><span class="line">Python 3.6.7 (default, Oct 22 2018, 11:32:17) </span><br><span class="line">[GCC 8.2.0] on linux</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import torch</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import correlation_cuda</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import resample2d_cuda</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import channelnorm_cuda</span></span><br></pre></td></tr></table></figure>


<h2 id="Still-Buggy"><a href="#Still-Buggy" class="headerlink" title="Still Buggy"></a>Still Buggy</h2><h3 id="FlowNet2-Pytorch-Inference"><a href="#FlowNet2-Pytorch-Inference" class="headerlink" title="FlowNet2-Pytorch Inference"></a>FlowNet2-Pytorch Inference</h3><p>Where can we find and download <strong>checkpoints</strong>? Please refer to <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/flownet2-pytorch#inference">Inference</a> on <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/flownet2-pytorch">FlowNet2-Pytorch</a>:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python main.py --inference --model FlowNet2 --save_flow --inference_dataset MpiSintelClean --inference_dataset_root /path/to/mpi-sintel/clean/dataset --resume /path/to/checkpoints</span><br></pre></td></tr></table></figure>


<h3 id="FlowNet2-Pytorch-Training"><a href="#FlowNet2-Pytorch-Training" class="headerlink" title="FlowNet2-Pytorch Training"></a>FlowNet2-Pytorch Training</h3><p><a target="_blank" rel="noopener" href="https://github.com/NVIDIA/flownet2-pytorch#training-and-validation">Training</a> on <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/flownet2-pytorch">FlowNet2-Pytorch</a> gives the following <strong>ERROR</strong>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">➜  flownet2-pytorch git:(master) ✗ python main.py --batch_size 8 --model FlowNet2 --loss=L1Loss --optimizer=Adam --optimizer_lr=1e-4 --training_dataset MpiSintelFinal --training_dataset_root /path/to/mpi-sintel/training/final/mountain_1  --validation_dataset MpiSintelClean --validation_dataset_root /path/tompi-sintel/training/clean/mountain_1</span><br><span class="line">Parsing Arguments</span><br><span class="line">  [0.013s] batch_size: 8</span><br><span class="line">  [0.013s] crop_size: [256, 256]</span><br><span class="line">  [0.013s] fp16: False</span><br><span class="line">  [0.014s] fp16_scale: 1024.0</span><br><span class="line">  [0.014s] gradient_clip: None</span><br><span class="line">  [0.014s] inference: False</span><br><span class="line">  [0.014s] inference_batch_size: 1</span><br><span class="line">  [0.014s] inference_dataset: MpiSintelClean</span><br><span class="line">  [0.014s] inference_dataset_replicates: 1</span><br><span class="line">  [0.014s] inference_dataset_root: ./MPI-Sintel/flow/training</span><br><span class="line">  [0.014s] inference_n_batches: -1</span><br><span class="line">  [0.014s] inference_size: [-1, -1]</span><br><span class="line">  [0.014s] log_frequency: 1</span><br><span class="line">  [0.014s] loss: L1Loss</span><br><span class="line">  [0.014s] model: FlowNet2</span><br><span class="line">  [0.014s] model_batchNorm: False</span><br><span class="line">  [0.014s] model_div_flow: 20.0</span><br><span class="line">  [0.014s] name: run</span><br><span class="line">  [0.014s] no_cuda: False</span><br><span class="line">  [0.014s] number_gpus: 1</span><br><span class="line">  [0.014s] number_workers: 8</span><br><span class="line">  [0.014s] optimizer: Adam</span><br><span class="line">  [0.014s] optimizer_amsgrad: False</span><br><span class="line">  [0.014s] optimizer_betas: (0.9, 0.999)</span><br><span class="line">  [0.014s] optimizer_eps: 1e-08</span><br><span class="line">  [0.014s] optimizer_lr: 0.0001</span><br><span class="line">  [0.014s] optimizer_weight_decay: 0</span><br><span class="line">  [0.014s] render_validation: False</span><br><span class="line">  [0.014s] resume: </span><br><span class="line">  [0.014s] rgb_max: 255.0</span><br><span class="line">  [0.014s] save: ./work</span><br><span class="line">  [0.014s] save_flow: False</span><br><span class="line">  [0.014s] schedule_lr_fraction: 10</span><br><span class="line">  [0.014s] schedule_lr_frequency: 0</span><br><span class="line">  [0.014s] seed: 1</span><br><span class="line">  [0.014s] skip_training: False</span><br><span class="line">  [0.014s] skip_validation: False</span><br><span class="line">  [0.014s] start_epoch: 1</span><br><span class="line">  [0.014s] total_epochs: 10000</span><br><span class="line">  [0.014s] train_n_batches: -1</span><br><span class="line">  [0.014s] training_dataset: MpiSintelFinal</span><br><span class="line">  [0.014s] training_dataset_replicates: 1</span><br><span class="line">  [0.014s] training_dataset_root: ....../mpi-sintel/training/final/mountain_1</span><br><span class="line">  [0.014s] validation_dataset: MpiSintelClean</span><br><span class="line">  [0.014s] validation_dataset_replicates: 1</span><br><span class="line">  [0.014s] validation_dataset_root: ....../mpi-sintel/training/clean/mountain_1</span><br><span class="line">  [0.014s] validation_frequency: 5</span><br><span class="line">  [0.014s] validation_n_batches: -1</span><br><span class="line">  [0.016s] Operation finished</span><br><span class="line"></span><br><span class="line">Source Code</span><br><span class="line">  Current Git Hash: b&#x27;ac1602a72f0454f65872126b70665a596fae8009&#x27;</span><br><span class="line"></span><br><span class="line">Initializing Datasets</span><br><span class="line">  [0.003s] Operation failed</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;main.py&quot;, line 139, in &lt;module&gt;</span><br><span class="line">    train_dataset = args.training_dataset_class(args, True, **tools.kwargs_from_args(args, &#x27;training_dataset&#x27;))</span><br><span class="line">  File &quot;....../flownet2-pytorch/datasets.py&quot;, line 112, in __init__</span><br><span class="line">    super(MpiSintelFinal, self).__init__(args, is_cropped = is_cropped, root = root, dstype = &#x27;final&#x27;, replicates = replicates)</span><br><span class="line">  File &quot;....../flownet2-pytorch/datasets.py&quot;, line 66, in __init__</span><br><span class="line">    self.frame_size = frame_utils.read_gen(self.image_list[0][0]).shape</span><br><span class="line">IndexError: list index out of range</span><br></pre></td></tr></table></figure>

<p>Therefore, I posted <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/flownet2-pytorch/issues/99">a further issue on Github</a>.</p>
<h1 id="vid2vid"><a href="#vid2vid" class="headerlink" title="vid2vid"></a>vid2vid</h1><h2 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h2><p>There are 4 scripts under folder scripts to run before testing <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/vid2vid">vid2vid</a>.</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  vid2vid git:(master) ✗ ll scripts/*.py</span><br><span class="line">-rwxrwxrwx 1 jiapei jiapei  322 Jan  5 22:04 scripts/download_datasets.py</span><br><span class="line">-rwxrwxrwx 1 jiapei jiapei  579 Jan  5 22:04 scripts/download_flownet2.py</span><br><span class="line">-rwxrwxrwx 1 jiapei jiapei 1.3K Jan  5 22:04 scripts/download_gdrive.py</span><br><span class="line">-rwxrwxrwx 1 jiapei jiapei  257 Jan  5 22:04 scripts/download_models_flownet2.py</span><br></pre></td></tr></table></figure>

<p>However, <strong>ONLY 3</strong> of the scripts can be successfully run, but <strong>scripts&#x2F;download_flownet2.py</strong> failed to run, as follows:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">➜  vid2vid git:(master) python scripts/download_flownet2.py </span><br><span class="line">Compiling correlation kernels by nvcc...</span><br><span class="line">rm: cannot remove &#x27;../_ext&#x27;: No such file or directory</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;build.py&quot;, line 3, in &lt;module&gt;</span><br><span class="line">    import torch.utils.ffi</span><br><span class="line">  File &quot;~/.local/lib/python3.6/site-packages/torch/utils/ffi/__init__.py&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    raise ImportError(&quot;torch.utils.ffi is deprecated. Please use cpp extensions instead.&quot;)</span><br><span class="line">ImportError: torch.utils.ffi is deprecated. Please use cpp extensions instead.</span><br><span class="line">Compiling resample2d kernels by nvcc...</span><br><span class="line">rm: cannot remove &#x27;Resample2d_kernel.o&#x27;: No such file or directory</span><br><span class="line">rm: cannot remove &#x27;../_ext&#x27;: No such file or directory</span><br><span class="line">In file included from Resample2d_kernel.cu:1:0:</span><br><span class="line">~/.local/lib/python3.6/site-packages/torch/lib/include/THC/THC.h:4:10: fatal error: THC/THCGeneral.h: No such file or directory</span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">include &lt;THC/THCGeneral.h&gt;</span></span><br><span class="line">          ^~~~~~~~~~~~~~~~~~</span><br><span class="line">compilation terminated.</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;build.py&quot;, line 3, in &lt;module&gt;</span><br><span class="line">    import torch.utils.ffi</span><br><span class="line">  File &quot;~/.local/lib/python3.6/site-packages/torch/utils/ffi/__init__.py&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    raise ImportError(&quot;torch.utils.ffi is deprecated. Please use cpp extensions instead.&quot;)</span><br><span class="line">ImportError: torch.utils.ffi is deprecated. Please use cpp extensions instead.</span><br><span class="line">Compiling channelnorm kernels by nvcc...</span><br><span class="line">rm: cannot remove &#x27;ChannelNorm_kernel.o&#x27;: No such file or directory</span><br><span class="line">rm: cannot remove &#x27;../_ext&#x27;: No such file or directory</span><br><span class="line">In file included from ChannelNorm_kernel.cu:1:0:</span><br><span class="line">~/.local/lib/python3.6/site-packages/torch/lib/include/THC/THC.h:4:10: fatal error: THC/THCGeneral.h: No such file or directory</span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">include &lt;THC/THCGeneral.h&gt;</span></span><br><span class="line">          ^~~~~~~~~~~~~~~~~~</span><br><span class="line">compilation terminated.</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;build.py&quot;, line 3, in &lt;module&gt;</span><br><span class="line">    import torch.utils.ffi</span><br><span class="line">  File &quot;~/.local/lib/python3.6/site-packages/torch/utils/ffi/__init__.py&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    raise ImportError(&quot;torch.utils.ffi is deprecated. Please use cpp extensions instead.&quot;)</span><br><span class="line">ImportError: torch.utils.ffi is deprecated. Please use cpp extensions instead.</span><br></pre></td></tr></table></figure>


<h2 id="Testing-is-ALSO-Buggy"><a href="#Testing-is-ALSO-Buggy" class="headerlink" title="Testing is ALSO Buggy"></a>Testing is ALSO Buggy</h2><p>If we run <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/vid2vid#testing">Testing</a> on <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/vid2vid">vid2vid homepage</a>, it gives the following <strong>ERROR</strong>:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">➜  vid2vid git:(master) python test.py --name label2city_2048 --label_nc 35 --loadSize 2048 --n_scales_spatial 3 --use_instance --fg --use_single_G</span><br><span class="line">------------ Options -------------</span><br><span class="line">add_face_disc: False</span><br><span class="line">aspect_ratio: 1.0</span><br><span class="line">basic_point_only: False</span><br><span class="line">batchSize: 1</span><br><span class="line">checkpoints_dir: ./checkpoints</span><br><span class="line">dataroot: datasets/Cityscapes/</span><br><span class="line">dataset_mode: temporal</span><br><span class="line">debug: False</span><br><span class="line">densepose_only: False</span><br><span class="line">display_id: 0</span><br><span class="line">display_winsize: 512</span><br><span class="line">feat_num: 3</span><br><span class="line">fg: True</span><br><span class="line">fg_labels: [26]</span><br><span class="line">fineSize: 512</span><br><span class="line">gpu_ids: [0]</span><br><span class="line">how_many: 300</span><br><span class="line">input_nc: 3</span><br><span class="line">isTrain: False</span><br><span class="line">label_feat: False</span><br><span class="line">label_nc: 35</span><br><span class="line">loadSize: 2048</span><br><span class="line">load_features: False</span><br><span class="line">load_pretrain: </span><br><span class="line">max_dataset_size: inf</span><br><span class="line">model: vid2vid</span><br><span class="line">nThreads: 2</span><br><span class="line">n_blocks: 9</span><br><span class="line">n_blocks_local: 3</span><br><span class="line">n_downsample_E: 3</span><br><span class="line">n_downsample_G: 3</span><br><span class="line">n_frames_G: 3</span><br><span class="line">n_gpus_gen: 1</span><br><span class="line">n_local_enhancers: 1</span><br><span class="line">n_scales_spatial: 3</span><br><span class="line">name: label2city_2048</span><br><span class="line">ndf: 64</span><br><span class="line">nef: 32</span><br><span class="line">netE: simple</span><br><span class="line">netG: composite</span><br><span class="line">ngf: 128</span><br><span class="line">no_canny_edge: False</span><br><span class="line">no_dist_map: False</span><br><span class="line">no_first_img: False</span><br><span class="line">no_flip: False</span><br><span class="line">no_flow: False</span><br><span class="line">norm: batch</span><br><span class="line">ntest: inf</span><br><span class="line">openpose_only: False</span><br><span class="line">output_nc: 3</span><br><span class="line">phase: test</span><br><span class="line">random_drop_prob: 0.05</span><br><span class="line">random_scale_points: False</span><br><span class="line">remove_face_labels: False</span><br><span class="line">resize_or_crop: scaleWidth</span><br><span class="line">results_dir: ./results/</span><br><span class="line">serial_batches: False</span><br><span class="line">start_frame: 0</span><br><span class="line">tf_log: False</span><br><span class="line">use_instance: True</span><br><span class="line">use_real_img: False</span><br><span class="line">use_single_G: True</span><br><span class="line">which_epoch: latest</span><br><span class="line">-------------- End ----------------</span><br><span class="line">CustomDatasetDataLoader</span><br><span class="line">dataset [TestDataset] was created</span><br><span class="line">vid2vid</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;test.py&quot;, line 25, in &lt;module&gt;</span><br><span class="line">    model = create_model(opt)</span><br><span class="line">  File &quot;....../vid2vid/models/models.py&quot;, line 7, in create_model</span><br><span class="line">    from .vid2vid_model_G import Vid2VidModelG</span><br><span class="line">  File &quot;....../vid2vid/models/vid2vid_model_G.py&quot;, line 13, in &lt;module&gt;</span><br><span class="line">    from . import networks</span><br><span class="line">  File &quot;....../vid2vid/models/networks.py&quot;, line 12, in &lt;module&gt;</span><br><span class="line">    from .flownet2_pytorch.networks.resample2d_package.resample2d import Resample2d</span><br><span class="line">  File &quot;....../vid2vid/models/flownet2_pytorch/networks/resample2d_package/resample2d.py&quot;, line 2, in &lt;module&gt;</span><br><span class="line">    from .functions.resample2d import Resample2dFunction</span><br><span class="line">  File &quot;....../vid2vid/models/flownet2_pytorch/networks/resample2d_package/functions/resample2d.py&quot;, line 3, in &lt;module&gt;</span><br><span class="line">    from .._ext import resample2d</span><br><span class="line">ModuleNotFoundError: No module named &#x27;models.flownet2_pytorch.networks.resample2d_package._ext&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>This is still annoying me. <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/vid2vid/issues/86">A detailed github issue</a> has been posted today. Please give me a hand. Thanks…</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2019/01/01/Personal/cheers-2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/01/Personal/cheers-2019/" class="post-title-link" itemprop="url">Happy New Year 2019</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2019-01-01T00:00:00-08:00">2019-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Personal/" itemprop="url" rel="index"><span itemprop="name">Personal</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>With the most inspiring speech by Arnold Schwarzenegger, 2019 arrived… I’ve got something in my mind as well…</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Px7bjMyPA30"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2019/NewYear/Schwarzenegger_2018.jpg" alt="Schwarzenegger&#39;s Speech"></a></p>
<p>Everybody has a dream&#x2F;goal. <strong>NEVER EVER</strong> blow it out… Here comes the preface of my PhD’s thesis… It’s been 10 years already… This is <strong>NOT ONLY</strong> my attitude towards science, <strong>BUT ALSO</strong> towards those so-called professors(<strong>叫兽</strong>) and specialists(<strong>砖家</strong>). </p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2019/NewYear/preface.jpg" alt="Preface of My PhD Thesis"></p>
<p>So, today, I’m <strong>NOT</strong> going to repeat any cliches, <strong>BUT</strong> happily encouraged by Arnold Schwarzenegger’s speech. We will definitely have a fruitful 2019. Let’s have some pizza.</p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2019/NewYear/pizza.jpg" alt="Pizza"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2018/12/22/Medical/pydicom/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/12/22/Medical/pydicom/" class="post-title-link" itemprop="url">Display DICOM using pydicom</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-12-22 00:00:00" itemprop="dateCreated datePublished" datetime="2018-12-22T00:00:00-08:00">2018-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Medical/" itemprop="url" rel="index"><span itemprop="name">Medical</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Merry Christmas everybody. Let’s take a look at the <a target="_blank" rel="noopener" href="https://www.coquitlam.ca/parks-recreation-and-culture/arts-and-culture/special-events-calendar/LightsatLafarge.aspx">Christmas Lights around Lafarge Lake in Coquitlam</a> FIRST.</p>
<table>
<thead>
<tr>
<th align="center">Lafarge Lake Christmas Lights 01</th>
<th align="center">Lafarge Lake Christmas Lights 02</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2018/LafargeLake/ChristmasLight_01.jpg" alt="Lafarge Lake Christmas Lights 01"></td>
<td align="center"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2018/LafargeLake/ChristmasLight_02.jpg" alt="Lafarge Lake Christmas Lights 02"></td>
</tr>
<tr>
<td align="center">Lafarge Lake Christmas Lights 03</td>
<td align="center">Lafarge Lake Christmas Lights 04</td>
</tr>
<tr>
<td align="center"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2018/LafargeLake/ChristmasLight_03.jpg" alt="Lafarge Lake Christmas Lights 03"></td>
<td align="center"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2018/LafargeLake/ChristmasLight_04.jpg" alt="Lafarge Lake Christmas Lights 04"></td>
</tr>
<tr>
<td align="center">Lafarge Lake Christmas Lights 05</td>
<td align="center">Lafarge Lake Christmas Lights 06</td>
</tr>
<tr>
<td align="center"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2018/LafargeLake/ChristmasLight_05.jpg" alt="Lafarge Lake Christmas Lights 05"></td>
<td align="center"><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2018/LafargeLake/ChristmasLight_06.jpg" alt="Lafarge Lake Christmas Lights 06"></td>
</tr>
</tbody></table>
<p>Now, it’s the time to test <a target="_blank" rel="noopener" href="https://pydicom.github.io/">PyDicom</a>.</p>
<h1 id="Get-Started"><a href="#Get-Started" class="headerlink" title="Get Started"></a>Get Started</h1><p>Copy and paste that piece of code from <a target="_blank" rel="noopener" href="https://medium.com/@taposhdr/medical-image-analysis-with-deep-learning-i-23d518abf531">Medical Image Analysis with Deep Learning </a> with trivial modifications as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pydicom <span class="keyword">as</span> pdicom</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> scipy.ndimage</span><br><span class="line"><span class="keyword">from</span> skimage <span class="keyword">import</span> measure, morphology</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d.art3d <span class="keyword">import</span> Poly3DCollection</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare dicom images</span></span><br><span class="line">INPUT_FOLDER = <span class="string">&#x27;./&#x27;</span></span><br><span class="line">patients = os.listdir(INPUT_FOLDER)</span><br><span class="line">patients.sort()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Collect all dicom images</span></span><br><span class="line">lstFilesDCM = []   <span class="comment"># create an empty list</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_scan2</span>(<span class="params">path</span>):</span><br><span class="line">    <span class="keyword">for</span> dirName, subdirList, fileList <span class="keyword">in</span> os.walk(path):</span><br><span class="line">        <span class="keyword">for</span> filename <span class="keyword">in</span> fileList:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&quot;.dcm&quot;</span> <span class="keyword">in</span> filename.lower():  </span><br><span class="line">                lstFilesDCM.append(os.path.join(dirName, filename))</span><br><span class="line">    <span class="keyword">return</span> lstFilesDCM</span><br><span class="line"></span><br><span class="line">first_patient = load_scan2(INPUT_FOLDER)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get ref file</span></span><br><span class="line"><span class="built_in">print</span> (lstFilesDCM[<span class="number">0</span>])</span><br><span class="line">RefDs = pdicom.read_file(lstFilesDCM[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Load dimensions based on the number of rows, columns and slices (along z axis)</span></span><br><span class="line">ConstPixelDims = (<span class="built_in">int</span>(RefDs.Rows), <span class="built_in">int</span>(RefDs.Columns), <span class="built_in">len</span>(lstFilesDCM))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Load spacing values (in mm)</span></span><br><span class="line">ConstPixelSpacing = (<span class="built_in">float</span>(RefDs.PixelSpacing[<span class="number">0</span>]), <span class="built_in">float</span>(RefDs.PixelSpacing[<span class="number">1</span>]), <span class="built_in">float</span>(RefDs.SliceThickness))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">0.0</span>, (ConstPixelDims[<span class="number">0</span>]+<span class="number">1</span>)*ConstPixelSpacing[<span class="number">0</span>], ConstPixelSpacing[<span class="number">0</span>])</span><br><span class="line">y = np.arange(<span class="number">0.0</span>, (ConstPixelDims[<span class="number">1</span>]+<span class="number">1</span>)*ConstPixelSpacing[<span class="number">1</span>], ConstPixelSpacing[<span class="number">1</span>])</span><br><span class="line">z = np.arange(<span class="number">0.0</span>, (ConstPixelDims[<span class="number">2</span>]+<span class="number">1</span>)*ConstPixelSpacing[<span class="number">2</span>], ConstPixelSpacing[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The array is sized based on &#x27;ConstPixelDims&#x27;</span></span><br><span class="line"></span><br><span class="line">ArrayDicom = np.zeros(ConstPixelDims, dtype=RefDs.pixel_array.dtype)</span><br><span class="line"></span><br><span class="line"><span class="comment"># loop through all the DICOM files</span></span><br><span class="line"><span class="keyword">for</span> filenameDCM <span class="keyword">in</span> lstFilesDCM:</span><br><span class="line">    <span class="comment"># read the file</span></span><br><span class="line">    ds = pdicom.read_file(filenameDCM)</span><br><span class="line">    <span class="comment"># store the raw image data</span></span><br><span class="line">    ArrayDicom[:, :, lstFilesDCM.index(filenameDCM)] = ds.pixel_array</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">1600</span>)</span><br><span class="line">plt.axes().set_aspect(<span class="string">&#x27;equal&#x27;</span>, <span class="string">&#x27;datalim&#x27;</span>)</span><br><span class="line">plt.set_cmap(plt.gray())</span><br><span class="line">plt.pcolormesh(y, x, np.flipud(ArrayDicom[:, :, <span class="number">80</span>]))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<h1 id="Display-DICOM"><a href="#Display-DICOM" class="headerlink" title="Display DICOM"></a>Display DICOM</h1><p>I did a MRI scan in 2015, in <a target="_blank" rel="noopener" href="http://www.siat.ac.cn/">SIAT</a>, for the purpose of research. The scan resolution is <strong>NOT</strong> very high. Anyway, a bunch of DICOM images can be viewed as follows:</p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/medical/MRI/dcms.jpg" alt="DICOM images"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/medical/MRI/me.png" alt="MRI - me"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.github.io/2018/12/20/Finance/time-series-4-python-with-pyflux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/12/20/Finance/time-series-4-python-with-pyflux/" class="post-title-link" itemprop="url">Time Series for Python with PyFlux</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-12-20 00:00:00" itemprop="dateCreated datePublished" datetime="2018-12-20T00:00:00-08:00">2018-12-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-11-21 23:06:29" itemprop="dateModified" datetime="2023-11-21T23:06:29-08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Finance/" itemprop="url" rel="index"><span itemprop="name">Finance</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Merry Christmas buddy! </p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2018/Christmas.jpg" alt="Christmas Lights in Surrey"></p>
<p>It’s been quite a while without writing anything. Today, we are going to introduce <a target="_blank" rel="noopener" href="https://pyflux.readthedocs.io/">PyFlux</a> for time seriers analysis. Cannonical models are to be directly adopted from <a target="_blank" rel="noopener" href="https://pyflux.readthedocs.io/">PyFlux Documents</a> and tested in this blog.</p>
<h1 id="Get-Started"><a href="#Get-Started" class="headerlink" title="Get Started"></a>Get Started</h1><p>Copy and paste that piece of code from <a target="_blank" rel="noopener" href="https://pyflux.readthedocs.io/">PyFlux Documents</a> with trivial modifications as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> pandas_datareader.data <span class="keyword">import</span> DataReader</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> pyflux <span class="keyword">as</span> pf</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = DataReader(<span class="string">&#x27;JPM&#x27;</span>,  <span class="string">&#x27;yahoo&#x27;</span>, datetime(<span class="number">2006</span>,<span class="number">6</span>,<span class="number">1</span>), datetime(<span class="number">2016</span>,<span class="number">6</span>,<span class="number">1</span>))</span><br><span class="line">a_returns = pd.DataFrame(np.diff(a[<span class="string">&#x27;Adj Close&#x27;</span>].values))</span><br><span class="line">a_returns.index = a.index.values[<span class="number">1</span>:a.index.values.shape[<span class="number">0</span>]]</span><br><span class="line">a_returns.columns = [<span class="string">&quot;JPM Returns&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a_returns.head())</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">15</span>, <span class="number">5</span>))</span><br><span class="line">plt.ylabel(<span class="string">&quot;Returns&quot;</span>)</span><br><span class="line">plt.plot(a_returns)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">pf.acf_plot(a_returns.values.T[<span class="number">0</span>])</span><br><span class="line">pf.acf_plot(np.square(a_returns.values.T[<span class="number">0</span>]))</span><br></pre></td></tr></table></figure>

<p>After running the above piece of code, we’ll get the following time series loaded:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">            JPM Returns</span><br><span class="line"><span class="number">2006</span>-06-02     <span class="number">0.167995</span></span><br><span class="line"><span class="number">2006</span>-06-05    -<span class="number">0.613506</span></span><br><span class="line"><span class="number">2006</span>-06-06    -<span class="number">0.430914</span></span><br><span class="line"><span class="number">2006</span>-06-07    -<span class="number">0.094942</span></span><br><span class="line"><span class="number">2006</span>-06-08     <span class="number">0.073048</span></span><br></pre></td></tr></table></figure>

<p>and the following resultant figures:</p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/GetStarted/timeseries.jpg" alt="Time Series"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/GetStarted/ACFPlot.jpg" alt="Autocorrelation"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/GetStarted/ACFSquarePlot.jpg" alt="Squared Autocorrelation"></p>
<h1 id="Cannonical-Models"><a href="#Cannonical-Models" class="headerlink" title="Cannonical Models"></a>Cannonical Models</h1><h2 id="ARIMA"><a href="#ARIMA" class="headerlink" title="ARIMA"></a>ARIMA</h2><p>We can load and test <strong>ARIMA</strong> model using the following piece of code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">my_model = pf.ARIMA(data=a_returns, ar=<span class="number">4</span>, ma=<span class="number">4</span>, family=pf.Normal())</span><br><span class="line"><span class="built_in">print</span>(my_model.latent_variables)</span><br><span class="line"></span><br><span class="line">result = my_model.fit(<span class="string">&quot;MLE&quot;</span>)</span><br><span class="line">result.summary()</span><br><span class="line"></span><br><span class="line">my_model.plot_z(figsize=(<span class="number">15</span>,<span class="number">5</span>))</span><br><span class="line">my_model.plot_fit(figsize=(<span class="number">15</span>,<span class="number">10</span>))</span><br><span class="line">my_model.plot_predict_is(h=<span class="number">50</span>, figsize=(<span class="number">15</span>,<span class="number">5</span>))</span><br><span class="line">my_model.plot_predict(h=<span class="number">20</span>,past_values=<span class="number">20</span>,figsize=(<span class="number">15</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>

<p>ARIMA’s latent variables are printed as:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Index    Latent Variable           Prior           Prior Hyperparameters     V.I. Dist  Transform</span><br><span class="line">======== ========================= =============== ========================= ========== ==========</span><br><span class="line">0        Constant                  Normal          mu0: 0, sigma0: 3         Normal     None</span><br><span class="line">1        AR(1)                     Normal          mu0: 0, sigma0: 0.5       Normal     None</span><br><span class="line">2        AR(2)                     Normal          mu0: 0, sigma0: 0.5       Normal     None</span><br><span class="line">3        AR(3)                     Normal          mu0: 0, sigma0: 0.5       Normal     None</span><br><span class="line">4        AR(4)                     Normal          mu0: 0, sigma0: 0.5       Normal     None</span><br><span class="line">5        MA(1)                     Normal          mu0: 0, sigma0: 0.5       Normal     None</span><br><span class="line">6        MA(2)                     Normal          mu0: 0, sigma0: 0.5       Normal     None</span><br><span class="line">7        MA(3)                     Normal          mu0: 0, sigma0: 0.5       Normal     None</span><br><span class="line">8        MA(4)                     Normal          mu0: 0, sigma0: 0.5       Normal     None</span><br><span class="line">9        Normal Scale              Flat            n/a (non-informative)     Normal     exp</span><br></pre></td></tr></table></figure>

<p>And the fitting result is summarized as:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Normal ARIMA(4,0,4)</span><br><span class="line">======================================================= ==================================================</span><br><span class="line">Dependent Variable: JPM Returns                         Method: MLE</span><br><span class="line">Start Date: 2006-06-08 00:00:00                         Log Likelihood: -3106.9508</span><br><span class="line">End Date: 2016-06-02 00:00:00                           AIC: 6233.9016</span><br><span class="line">Number of observations: 2514                            BIC: 6292.1979</span><br><span class="line">==========================================================================================================</span><br><span class="line">Latent Variable                          Estimate   Std Error  z        P&gt;|z|    95% C.I.</span><br><span class="line">======================================== ========== ========== ======== ======== =========================</span><br><span class="line">Constant                                 0.0126     0.0136     0.9273   0.3538   (-0.0141 | 0.0394)</span><br><span class="line">AR(1)                                    0.0596     0.198      0.3008   0.7635   (-0.3284 | 0.4475)</span><br><span class="line">AR(2)                                    -0.3591    0.1858     -1.9331  0.0532   (-0.7231 | 0.005)</span><br><span class="line">AR(3)                                    -0.2205    0.2687     -0.8208  0.4118   (-0.7471 | 0.3061)</span><br><span class="line">AR(4)                                    0.5272     0.1373     3.8406   0.0001   (0.2581 | 0.7962)</span><br><span class="line">MA(1)                                    -0.1667    0.1995     -0.8354  0.4035   (-0.5578 | 0.2244)</span><br><span class="line">MA(2)                                    0.3234     0.202      1.6008   0.1094   (-0.0726 | 0.7193)</span><br><span class="line">MA(3)                                    0.1603     0.2396     0.6692   0.5033   (-0.3093 | 0.63)</span><br><span class="line">MA(4)                                    -0.5817    0.1618     -3.5942  0.0003   (-0.8989 | -0.2645)</span><br><span class="line">Normal Scale                             0.8331</span><br><span class="line">==========================================================================================================</span><br></pre></td></tr></table></figure>

<p>And 4 images are to be produced as:</p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/ARIMA/LatentVariablePlot.jpg" alt="ARIMA Latent Variable Plot"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/ARIMA/ARIMAFit.jpg" alt="ARIMA Model vs. Data"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/ARIMA/ForcastAgainstData.jpg" alt="ARIMA Forcast vs. Data"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/ARIMA/ForcastONLY.jpg" alt="ARIMA Forcast"></p>
<h2 id="GARCH"><a href="#GARCH" class="headerlink" title="GARCH"></a>GARCH</h2><p>We can load and test <strong>GARCH</strong> model using the following piece of code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">my_model = pf.GARCH(p=<span class="number">1</span>, q=<span class="number">1</span>, data=a_returns)</span><br><span class="line"><span class="built_in">print</span>(my_model.latent_variables)</span><br><span class="line"></span><br><span class="line">my_model.adjust_prior(<span class="number">1</span>, pf.TruncatedNormal(<span class="number">0.01</span>, <span class="number">0.5</span>, lower=<span class="number">0.0</span>, upper=<span class="number">1.0</span>))</span><br><span class="line">my_model.adjust_prior(<span class="number">2</span>, pf.TruncatedNormal(<span class="number">0.97</span>, <span class="number">0.5</span>, lower=<span class="number">0.0</span>, upper=<span class="number">1.0</span>))</span><br><span class="line"></span><br><span class="line">result = my_model.fit(<span class="string">&#x27;M-H&#x27;</span>, nsims=<span class="number">20000</span>)</span><br><span class="line">result.summary()</span><br><span class="line"></span><br><span class="line">my_model.plot_z([<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line">my_model.plot_fit(figsize=(<span class="number">15</span>,<span class="number">5</span>))</span><br><span class="line">my_model.plot_sample(nsims=<span class="number">10</span>, figsize=(<span class="number">15</span>,<span class="number">7</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> kurtosis</span><br><span class="line">my_model.plot_ppc(T=kurtosis)</span><br><span class="line">my_model.plot_predict(h=<span class="number">30</span>, figsize=(<span class="number">15</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>

<p>GARCH’s latent variables are printed as:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Index    Latent Variable           Prior           Prior Hyperparameters     V.I. Dist  Transform</span><br><span class="line">======== ========================= =============== ========================= ========== ==========</span><br><span class="line">0        Vol Constant              Normal          mu0: 0, sigma0: 3         Normal     exp</span><br><span class="line">1        q(1)                      Normal          mu0: 0, sigma0: 0.5       Normal     logit</span><br><span class="line">2        p(1)                      Normal          mu0: 0, sigma0: 0.5       Normal     logit</span><br><span class="line">3        Returns Constant          Normal          mu0: 0, sigma0: 3         Normal     None</span><br></pre></td></tr></table></figure>

<p>And the fitting result is summarized as:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">~/.local/lib/python3.6/site-packages/numdifftools/limits.py:126: UserWarning: All-NaN slice encountered</span><br><span class="line">  warnings.warn(str(msg))</span><br><span class="line">Acceptance rate of Metropolis-Hastings is 0.000125</span><br><span class="line">Acceptance rate of Metropolis-Hastings is 0.00075</span><br><span class="line">Acceptance rate of Metropolis-Hastings is 0.105525</span><br><span class="line">Acceptance rate of Metropolis-Hastings is 0.13335</span><br><span class="line">Acceptance rate of Metropolis-Hastings is 0.1907</span><br><span class="line">Acceptance rate of Metropolis-Hastings is 0.232</span><br><span class="line">Acceptance rate of Metropolis-Hastings is 0.299</span><br><span class="line"></span><br><span class="line">Tuning complete! Now sampling.</span><br><span class="line">Acceptance rate of Metropolis-Hastings is 0.36655</span><br><span class="line">GARCH(1,1)</span><br><span class="line">======================================================= ==================================================</span><br><span class="line">Dependent Variable: JPM Returns                         Method: Metropolis Hastings</span><br><span class="line">Start Date: 2006-06-05 00:00:00                         Unnormalized Log Posterior: -2671.5492</span><br><span class="line">End Date: 2016-06-02 00:00:00                           AIC: 5351.717896880396</span><br><span class="line">Number of observations: 2517                            BIC: 5375.041188860938</span><br><span class="line">==========================================================================================================</span><br><span class="line">Latent Variable                          Median             Mean               95% Credibility Interval</span><br><span class="line">======================================== ================== ================== =========================</span><br><span class="line">Vol Constant                             0.0059             0.0057             (0.004 | 0.0076)</span><br><span class="line">q(1)                                     0.0721             0.0728             (0.0556 | 0.0921)</span><br><span class="line">p(1)                                     0.9202             0.9199             (0.9013 | 0.9373)</span><br><span class="line">Returns Constant                         0.0311             0.0311             (0.0109 | 0.0511)</span><br><span class="line">==========================================================================================================</span><br></pre></td></tr></table></figure>

<p>And 5 images are to be produced as:</p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/GARCH/LatentVariablePlot.jpg" alt="GARCH Latent Variable Plot"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/GARCH/Volatility.jpg" alt="GARCH Volatility"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/GARCH/VolatilitySampling.jpg" alt="GARCH Volatility Sampling"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/GARCH/PosteriorPredictive.jpg" alt="GARCH Posterior Predictive"></p>
<p><img src="https://raw.githubusercontent.com/LongerVision/Resource/master/finance/pyflux/GARCH/Forcast.jpg" alt="GARCH Forcast"></p>
<h2 id="GAS"><a href="#GAS" class="headerlink" title="GAS"></a>GAS</h2><h2 id="VAR"><a href="#VAR" class="headerlink" title="VAR"></a>VAR</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Nobody</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
