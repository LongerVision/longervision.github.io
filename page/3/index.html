<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"longervision.ca","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Longer Vision Technology Github Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Longer Vision Technology">
<meta property="og:url" content="http://longervision.ca/page/3/index.html">
<meta property="og:site_name" content="Longer Vision Technology">
<meta property="og:description" content="Longer Vision Technology Github Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Nobody">
<meta property="article:tag" content="Longer Vision, Computer Vision, AI, Machine Learning">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://longervision.ca/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Longer Vision Technology</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Longer Vision Technology</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Github Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Nobody</p>
  <div class="site-description" itemprop="description">Longer Vision Technology Github Blog</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">151</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">140</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/02/08/SBCs/RISC-V/MilkV-Duo-256M-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/08/SBCs/RISC-V/MilkV-Duo-256M-01/" class="post-title-link" itemprop="url">Milk-V Duo 256M - 01</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-02-08 21:44:28" itemprop="dateCreated datePublished" datetime="2024-02-08T21:44:28-08:00">2024-02-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-29 21:51:38" itemprop="dateModified" datetime="2024-09-29T21:51:38-07:00">2024-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/MCU/" itemprop="url" rel="index"><span itemprop="name">MCU</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/MCU/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Finally, I got <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>
built today. So, yes, happy Chinese new year of Dragon, 2024. Let's have
some fun of <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a>.</p>
<h1 id="introduction">1. Introduction</h1>
<p>From <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a>'s official
website, the following picture clearly shows it has</p>
<ul>
<li>one RISC-V <a target="_blank" rel="noopener" href="https://www.t-head.cn/product/C906">T-HEAD
C906</a> chip <span class="citation" data-cites="1GHz">@1GHz</span>, for
Linux</li>
<li>one RISC-V <a target="_blank" rel="noopener" href="https://www.t-head.cn/product/C906">T-HEAD
C906</a> chip <span class="citation" data-cites="700MHz">@700MHz</span>,
for FreeRTOS</li>
<li>one <a target="_blank" rel="noopener" href="https://developer.arm.com/Processors/Cortex-A53">Arm
Cortex-A53</a> chip <span class="citation"
data-cites="1GHz">@1GHz</span>, for both Linux &amp; Android</li>
<li>one <a
target="_blank" rel="noopener" href="https://www.microchip.com/en-us/products/microcontrollers-and-microprocessors/8-bit-mcus/8051-mcus">8051
MCU</a></li>
<li>one <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Tensor_Processing_Unit">TPU</a></li>
</ul>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/MilkV/MilkV-Duo-256M.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/MilkV/MilkV-Duo-256M.png"
alt="MilkV Duo 256M Core chips" /></a></p>
<p>The detailed specifications are also highlighted in the table on the
official website of <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo
256M</a>.</p>
<h1 id="build-duo-buildroot-sdk">2. Build <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a></h1>
<h2 id="failed-to-build-duo-buildroot-sdk-using-ubuntu-22.04">2.1 Failed
to build <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>
using <a target="_blank" rel="noopener" href="https://releases.ubuntu.com/jammy/">Ubuntu 22.04</a></h2>
<p>Even if I strictly followed the manual on <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>'s
official documentation <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk?tab=readme-ov-file#1-compiled-using-ubuntu-2204">Compiled
using Ubuntu 22.04</a>, I still failed to build an image out for
flashing, with the following error messages inside the log file
<strong>build/br.log</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">2024-02-08T13:34:11 tic: symbol lookup error: tic: undefined symbol: _nc_disable_period</span><br><span class="line">2024-02-08T13:34:11 ? tic could not build ....../duo-buildroot-sdk-Duo-V1.0.8/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/per-package/ncurses/host/riscv64-buildroot-linux-musl/sysroot/usr/share/terminfo</span><br><span class="line">2024-02-08T13:34:11 make[4]: *** [Makefile:92: install.data] Error 1</span><br><span class="line">2024-02-08T13:34:12 make[3]: *** [Makefile:122: install] Error 2</span><br><span class="line">2024-02-08T13:34:12 make[2]: *** [package/pkg-generic.mk:289: ....../duo-buildroot-sdk-Duo-V1.0.8/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/build/ncurses-6.1/.stamp_staging_installed] Error 2</span><br><span class="line">2024-02-08T13:34:12 make[2]: *** Waiting <span class="keyword">for</span> unfinished <span class="built_in">jobs</span>....</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p><span style="color:blue">A possible solution is found at: </span><a
target="_blank" rel="noopener" href="https://lore.kernel.org/buildroot/bug-15685-163-ecW1EgIyRW@https.bugs.busybox.net%2F/T/">https://lore.kernel.org/buildroot/bug-15685-163-ecW1EgIyRW@https.bugs.busybox.net%2F/T/</a>.</p>
<h2 id="successfully-build-duo-buildroot-sdk-using-docker">2.2
Successfully build <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>
using Docker</h2>
<p>By strictly following the manual on <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>'s
official documentation <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk?tab=readme-ov-file#2-compiled-using-docker">Compiled
using Docker</a>, I now am able to build an image out as:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">mkfs.fat: Warning: lowercase labels might not work properly on some systems</span><br><span class="line">INFO: vfat(boot.vfat): adding file <span class="string">&#x27;fip.bin&#x27;</span> as <span class="string">&#x27;fip.bin&#x27;</span> ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: <span class="string">&quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/boot.vfat&#x27; &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/fip.bin&#x27; &#x27;::&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file <span class="string">&#x27;rawimages/boot.sd&#x27;</span> as <span class="string">&#x27;rawimages/boot.sd&#x27;</span> ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: <span class="string">&quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/boot.vfat&#x27; &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rawimages/boot.sd&#x27; &#x27;::&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: ext4(rootfs.ext4): cmd: <span class="string">&quot;genext2fs -d &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/tmp/root&#x27; --size-in-blocks=786432 -i 16384 &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rootfs.ext4&#x27; &quot;</span> (stderr):</span><br><span class="line">copying from directory ~/install/soc_cv1812cp_milkv_duo256m_sd/tmp/root</span><br><span class="line">INFO: ext4(rootfs.ext4): cmd: <span class="string">&quot;tune2fs -O &#x27;extents,uninit_bg,dir_index,has_journal&#x27; &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rootfs.ext4&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: ext4(rootfs.ext4): cmd: <span class="string">&quot;tune2fs -L &#x27;rootfs&#x27; &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rootfs.ext4&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: ext4(rootfs.ext4): cmd: <span class="string">&quot;e2fsck -pvfD &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rootfs.ext4&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: hdimage(milkv-duo256m.img): adding partition <span class="string">&#x27;boot&#x27;</span> (<span class="keyword">in</span> MBR) from <span class="string">&#x27;boot.vfat&#x27;</span> ...</span><br><span class="line">INFO: hdimage(milkv-duo256m.img): adding partition <span class="string">&#x27;rootfs&#x27;</span> (<span class="keyword">in</span> MBR) from <span class="string">&#x27;rootfs.ext4&#x27;</span> ...</span><br><span class="line">INFO: hdimage(milkv-duo256m.img): writing MBR</span><br><span class="line">gnimage <span class="keyword">for</span> milkv-duo256m success!</span><br><span class="line">~/build</span><br><span class="line">~</span><br><span class="line">Create SD image successful: out/milkv-duo256m-20240208-1949.img</span><br></pre></td></tr></table></figure>
<p>And, the last couple of lines in the log file
<strong>build/br.log</strong> are:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">2024-02-08T19:48:15 </span><br><span class="line">2024-02-08T19:48:15 Allocating group tables:  0/25     <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:15 Writing inode tables:  0/25     <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:15 Creating journal (4096 blocks): <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:15 Copying files into the device: PATH=<span class="string">&quot;~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/host/bin:~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/host/sbin:~/host-tools/gcc/riscv64-linux-musl-x86_64/bin:~/host-tools/gcc/riscv64-linux-x86_64/bin:~/host-tools/gcc/riscv64-elf-x86_64/bin:~/host-tools/gcc/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-elf/bin:~/host-tools/gcc/gcc-linaro-6.3.1-2017.05-x86_64_arm-linux-gnueabihf/bin:~/host-tools/gcc/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:~/host-tools/gcc/arm-cvitek-linux-uclibcgnueabihf/bin&quot;</span> xz -9 -C crc32 -c -T 9 ~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/images/rootfs.tar &gt; ~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/images/rootfs.tar.xz</span><br><span class="line">2024-02-08T19:48:16 <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:16 Writing superblocks and filesystem accounting information:  0/25     <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:16 </span><br><span class="line">2024-02-08T19:48:16 <span class="built_in">ln</span> -sf rootfs.ext2 ~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/images/rootfs.ext4</span><br><span class="line">2024-02-08T19:49:28 make[1]: Leaving directory <span class="string">&#x27;~/buildroot-2021.05&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="boot-after-flashing">3. Boot after Flashing</h1>
<p>After flashing the generated
<strong>out/milkv-duo256m-20240208-1949.img</strong> into the SD card,
we can now boot up <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a> by
connecting it with my laptop <strong>via a USB cable</strong>.</p>
<h2 id="lsusb">3.1 lsusb</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">Bus 001 Device 009: ID 3346:1009 Cvitek RNDIS</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h2 id="ssh-into-milk-v-duo-256m-via-usb-connection">3.2 SSH into <a
target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a> via USB Connection</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ ssh root@192.168.42.1</span><br><span class="line">The authenticity of host <span class="string">&#x27;192.168.42.1 (192.168.42.1)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ED25519 key fingerprint is SHA256:NyuhOwhRh9sfzW+C2D5OIaTIbGCuVI1v1jrJv4DaM+U.</span></span><br><span class="line"><span class="string">This key is not known by any other names</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>192.168.42.1<span class="string">&#x27; (ED25519) to the list of known hosts.</span></span><br><span class="line"><span class="string">root@192.168.42.1&#x27;</span>s password: </span><br><span class="line">[root@milkv-duo]~<span class="comment"># ls</span></span><br><span class="line">[root@milkv-duo]~<span class="comment"># pwd</span></span><br><span class="line">/root</span><br><span class="line">[root@milkv-duo]~<span class="comment"># uname -a</span></span><br><span class="line">Linux milkv-duo 5.10.4-tag- <span class="comment">#1 PREEMPT Thu Feb 8 19:28:21 CST 2024 riscv64 GNU/Linux</span></span><br><span class="line">[root@milkv-duo]~<span class="comment"># lsb_release -a</span></span><br><span class="line">-sh: lsb_release: not found</span><br><span class="line">[root@milkv-duo]~<span class="comment"># neofetch</span></span><br><span class="line">-sh: neofetch: not found</span><br><span class="line">[root@milkv-duo]~<span class="comment"># ll /</span></span><br><span class="line">total 33</span><br><span class="line">drwxr-xr-x   18 root     root          1024 Feb  8  2024 ./</span><br><span class="line">drwxr-xr-x   18 root     root          1024 Feb  8  2024 ../</span><br><span class="line">drwxr-xr-x    2 root     root          3072 Feb  8  2024 bin/</span><br><span class="line">drwxr-xr-x    7 root     root          1540 Jan  1 00:00 dev/</span><br><span class="line">drwxr-xr-x    8 root     root          1024 Jan  1 00:00 etc/</span><br><span class="line">drwxr-xr-x    3 root     root          1024 Jan 30  2024 lib/</span><br><span class="line">lrwxrwxrwx    1 root     root             3 Feb  8  2024 lib64 -&gt; lib/</span><br><span class="line">lrwxrwxrwx    1 root     root            11 Feb  8  2024 linuxrc -&gt; bin/busybox*</span><br><span class="line">drwx------    2 root     root         16384 Feb  8  2024 lost+found/</span><br><span class="line">drwxr-xr-x    2 root     root          1024 Jan 30  2024 media/</span><br><span class="line">drwxr-xr-x    6 root     root          1024 Jan 30  2024 mnt/</span><br><span class="line">drwxr-xr-x    2 root     root          1024 Jan 30  2024 opt/</span><br><span class="line">dr-xr-xr-x  122 root     root             0 Jan  1 00:00 proc/</span><br><span class="line">drwx------    2 root     root          1024 Jan  1 00:03 root/</span><br><span class="line">drwxr-xr-x    4 root     root           200 Jan  1 00:00 run/</span><br><span class="line">drwxr-xr-x    2 root     root          3072 Feb  8  2024 sbin/</span><br><span class="line">dr-xr-xr-x   11 root     root             0 Jan  1 00:00 sys/</span><br><span class="line">drwxrwxrwt    3 root     root           160 Jan  1 00:00 tmp/</span><br><span class="line">drwxr-xr-x    8 root     root          1024 Feb  8  2024 usr/</span><br><span class="line">drwxr-xr-x    5 root     root          1024 Feb  8  2024 var/</span><br><span class="line">[root@milkv-duo]~<span class="comment"># df -h</span></span><br><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">/dev/root               752.0M    152.6M    557.0M  22% /</span><br><span class="line">devtmpfs                 83.1M         0     83.1M   0% /dev</span><br><span class="line">tmpfs                    83.1M         0     83.1M   0% /dev/shm</span><br><span class="line">tmpfs                    83.1M     48.0K     83.1M   0% /tmp</span><br><span class="line">tmpfs                    83.1M     32.0K     83.1M   0% /run</span><br><span class="line">[root@milkv-duo]~<span class="comment"># cat /proc/cpuinfo</span></span><br><span class="line">processor	: 0</span><br><span class="line">hart		: 0</span><br><span class="line">isa		: rv64imafdvcsu</span><br><span class="line">mmu		: sv39</span><br><span class="line"></span><br><span class="line">[root@milkv-duo]~<span class="comment"># cat /proc/meminfo</span></span><br><span class="line">MemTotal:         170288 kB</span><br><span class="line">MemFree:          147812 kB</span><br><span class="line">MemAvailable:     148580 kB</span><br><span class="line">Buffers:             872 kB</span><br><span class="line">Cached:             3024 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:             2520 kB</span><br><span class="line">Inactive:           2808 kB</span><br><span class="line">Active(anon):         72 kB</span><br><span class="line">Inactive(anon):     1440 kB</span><br><span class="line">Active(file):       2448 kB</span><br><span class="line">Inactive(file):     1368 kB</span><br><span class="line">Unevictable:           0 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:             0 kB</span><br><span class="line">SwapFree:              0 kB</span><br><span class="line">Dirty:                44 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:          1444 kB</span><br><span class="line">Mapped:             2532 kB</span><br><span class="line">Shmem:                80 kB</span><br><span class="line">KReclaimable:       2664 kB</span><br><span class="line">Slab:               7220 kB</span><br><span class="line">SReclaimable:       2664 kB</span><br><span class="line">SUnreclaim:         4556 kB</span><br><span class="line">KernelStack:        1024 kB</span><br><span class="line">PageTables:          404 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:       85144 kB</span><br><span class="line">Committed_AS:       5004 kB</span><br><span class="line">VmallocTotal:   67108863 kB</span><br><span class="line">VmallocUsed:        4408 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">Percpu:               32 kB</span><br><span class="line">CmaTotal:              0 kB</span><br><span class="line">CmaFree:               0 kB</span><br><span class="line">[root@milkv-duo]~<span class="comment"># </span></span><br></pre></td></tr></table></figure>
<h2 id="ssh-into-milk-v-duo-256m-via-wired-connection">3.3 SSH into <a
target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a> via Wired
Connection</h2>
<p>After my clumsy soldering, <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo
256M</a> is now able to be connected via my home Intranet. Now, let's
<strong>ssh</strong> into <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo
256M</a> via its <strong>IP</strong> address.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@milkv-duo]~<span class="comment"># ip address</span></span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 0a:95:ef:1e:ec:c2 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.1.51/24 brd 192.168.1.255 scope global dynamic noprefixroute eth0</span><br><span class="line">       valid_lft 259082sec preferred_lft 226682sec</span><br><span class="line">3: usb0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc pfifo_fast state DOWN qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 5e:59:d4:f7:99:f7 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.42.1/24 brd 192.168.42.255 scope global usb0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>
<h1 id="camera-test---face-detection">4. Camera Test - Face
Detection</h1>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">[root@milkv-duo]~<span class="comment"># cd /bin</span></span><br><span class="line">[root@milkv-duo]/bin<span class="comment"># ls</span></span><br><span class="line"><span class="built_in">arch</span>           chattr         cpio           dumpkmap       getopt         <span class="built_in">link</span>           lsattr         mount          nuke           <span class="built_in">pwd</span>            setarch        su             <span class="built_in">uname</span></span><br><span class="line">ash            <span class="built_in">chgrp</span>          <span class="built_in">date</span>           <span class="built_in">echo</span>           grep           linux32        mk_cmds        mountpoint     pidof          resume         setpriv        <span class="built_in">sync</span>           usleep</span><br><span class="line"><span class="built_in">base32</span>         <span class="built_in">chmod</span>          <span class="built_in">dd</span>             egrep          gunzip         linux64        <span class="built_in">mkdir</span>          mt             ping           <span class="built_in">rm</span>             setserial      tar            vi</span><br><span class="line"><span class="built_in">base64</span>         <span class="built_in">chown</span>          <span class="built_in">df</span>             <span class="literal">false</span>          gzip           <span class="built_in">ln</span>             <span class="built_in">mknod</span>          <span class="built_in">mv</span>             pipe_progress  <span class="built_in">rmdir</span>          sh             <span class="built_in">touch</span>          watch</span><br><span class="line">busybox        compile_et     dmesg          fdflush        hostname       login          <span class="built_in">mktemp</span>         netstat        <span class="built_in">printenv</span>       run-parts      <span class="built_in">sleep</span>          <span class="literal">true</span>           zcat</span><br><span class="line"><span class="built_in">cat</span>            <span class="built_in">cp</span>             dnsdomainname  fgrep          <span class="built_in">kill</span>           <span class="built_in">ls</span>             more           <span class="built_in">nice</span>           ps             sed            <span class="built_in">stty</span>           umount</span><br><span class="line">[root@milkv-duo]/bin<span class="comment"># camera-test.sh </span></span><br><span class="line">[SAMPLE_COMM_SNS_ParseIni]-1950: Parse /mnt/data/sensor_cfg.ini</span><br><span class="line">[parse_source_devnum]-1605: devNum =  1</span><br><span class="line">[parse_sensor_name]-1686: sensor =  GCORE_GC2083_MIPI_2M_30FPS_10BIT</span><br><span class="line">[parse_sensor_busid]-1714: bus_id =  2</span><br><span class="line">[parse_sensor_i2caddr]-1725: sns_i2c_addr =  37</span><br><span class="line">[parse_sensor_mipidev]-1736: mipi_dev =  0</span><br><span class="line">[parse_sensor_laneid]-1747: Lane_id =  1, 0, 2, -1, -1</span><br><span class="line">[parse_sensor_pnswap]-1758: pn_swap =  0, 0, 0, 0, 0</span><br><span class="line">MMF Version:7e0cc6a08-musl_riscv64</span><br><span class="line">Create VBPool[0], size: (3110400 * 3) = 9331200 bytes</span><br><span class="line">Create VBPool[1], size: (3110400 * 3) = 9331200 bytes</span><br><span class="line">Create VBPool[2], size: (2764800 * 1) = 2764800 bytes</span><br><span class="line">Total memory of VB pool: 21427200 bytes</span><br><span class="line">Initialize SYS and VB</span><br><span class="line">Initialize VI</span><br><span class="line">ISP Vipipe(0) Allocate pa(0x8c771000) va(0x0x3fbed36000) size(291120)</span><br><span class="line">stSnsrMode.u16Width 1920 stSnsrMode.u16Height 1080 25.000000 wdrMode 0 pstSnsObj 0x3fbf86b400</span><br><span class="line">[SAMPLE_COMM_VI_StartMIPI]-483: sensor 0 stDevAttr.devno 0</span><br><span class="line">awbInit ver 6.8@2021500</span><br><span class="line">0 R:1400 B:3100 CT:2850</span><br><span class="line">1 R:1500 B:2500 CT:3900</span><br><span class="line">2 R:2300 B:1600 CT:6500</span><br><span class="line">Golden 1024 1024 1024</span><br><span class="line">WB Quadratic:0</span><br><span class="line">isWdr:0</span><br><span class="line">ViPipe:0,===GC2083 1080P 30fps 10bit LINE Init OK!===</span><br><span class="line">********************************************************************************</span><br><span class="line">cvi_bin_isp message</span><br><span class="line">gerritId:      36403          commitId:      c69c5863e      </span><br><span class="line">md5:           cab880835a2ad5184de5ed7762404b84</span><br><span class="line">sensorNum      1              </span><br><span class="line">sensorName0    2083           </span><br><span class="line"></span><br><span class="line">PQBIN message</span><br><span class="line">gerritId:      80171          commitId:      5c9d8fc5d      </span><br><span class="line">md5:           ba5a510e093ad42db6788e6c2d13169e</span><br><span class="line">sensorNum      3              </span><br><span class="line">sensorName0    2053           </span><br><span class="line"></span><br><span class="line">author:        wanqiang.he    desc:          思博慧CV1812H_GC2083_RGB_mode_V1.0.0</span><br><span class="line">createTime:    2023-08-04 16:48:08version:       V1.1           </span><br><span class="line">tool Version:       v3.0.5.24           mode:      </span><br><span class="line">********************************************************************************</span><br><span class="line">sensorName(0) mismatch, mwSns:2083 != pqBinSns:2053</span><br><span class="line">[SAMPLE_COMM_ISP_Thread]-95: ISP Dev 0 running!</span><br><span class="line">Initialize VPSS</span><br><span class="line">---------VPSS[0]---------</span><br><span class="line">Input size: (1920x1080)</span><br><span class="line">Input format: (19)</span><br><span class="line">VPSS physical device number: 1</span><br><span class="line">Src Frame Rate: -1</span><br><span class="line">Dst Frame Rate: -1</span><br><span class="line">    --------CHN[0]-------</span><br><span class="line">    Output size: (1920x1080)</span><br><span class="line">    Depth: 1</span><br><span class="line">    Do normalization: 0</span><br><span class="line">        Src Frame Rate: -1</span><br><span class="line">        Dst Frame Rate: -1</span><br><span class="line">    ----------------------</span><br><span class="line">    --------CHN[1]-------</span><br><span class="line">    Output size: (1920x1080)</span><br><span class="line">    Depth: 1</span><br><span class="line">    Do normalization: 0</span><br><span class="line">        Src Frame Rate: -1</span><br><span class="line">        Dst Frame Rate: -1</span><br><span class="line">    ----------------------</span><br><span class="line">------------------------</span><br><span class="line">Bind VI with VPSS Grp(0), Chn(0)</span><br><span class="line">Attach VBPool(0) to VPSS Grp(0) Chn(0)</span><br><span class="line">Attach VBPool(1) to VPSS Grp(0) Chn(1)</span><br><span class="line">Initialize VENC</span><br><span class="line">venc codec: h264</span><br><span class="line">venc frame size: 1920x1080</span><br><span class="line">Initialize RTSP</span><br><span class="line">rtsp://192.168.1.51/h264</span><br><span class="line">prio:0</span><br><span class="line">version: 1.4.0</span><br><span class="line">scrfd768432 Build at 2023-12-25 01:21:44 For platform cv181x</span><br><span class="line">Max SharedMem size:1658880</span><br><span class="line">anchor:-8,-8,8,8</span><br><span class="line">anchor:-16,-16,16,16</span><br><span class="line">bbox:bbox_8_Conv_dequant</span><br><span class="line">landmark:kps_8_Conv_dequant</span><br><span class="line">score:score_8_Sigmoid_dequant</span><br><span class="line">anchor:-32,-32,32,32</span><br><span class="line">anchor:-64,-64,64,64</span><br><span class="line">bbox:bbox_16_Conv_dequant</span><br><span class="line">landmark:kps_16_Conv_dequant</span><br><span class="line">score:score_16_Sigmoid_dequant</span><br><span class="line">anchor:-128,-128,128,128</span><br><span class="line">anchor:-256,-256,256,256</span><br><span class="line">bbox:bbox_32_Conv_dequant</span><br><span class="line">landmark:kps_32_Conv_dequant</span><br><span class="line">score:score_32_Sigmoid_dequant</span><br><span class="line">Enter TDL thread</span><br><span class="line">Enter encoder thread</span><br><span class="line">0 R:1165 B:3087 CT:2688</span><br><span class="line">1 R:1464 B:2327 CT:3937</span><br><span class="line">2 R:1974 B:1613 CT:7225</span><br><span class="line">Golden 1464 1024 2327</span><br><span class="line">wdrLEOnly:1</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p>One captured image over <code>rtsp://ipaddress/h264</code> is shown
as follows:</p>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/MilkV/MilkV-Duo-256M-Captured.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/MilkV/MilkV-Duo-256M-Captured.png"
alt="MilkV Duo Streaming" /></a></p>
<p>Now, it's the time to go to bed. Happy Chinese new year's Eve. The
new year's day of 2024 is February 10, 2024.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/02/03/SBCs/MCU/esp32-s3-eye/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/03/SBCs/MCU/esp32-s3-eye/" class="post-title-link" itemprop="url">ESP32 S3 EYE</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-02-03 16:29:13" itemprop="dateCreated datePublished" datetime="2024-02-03T16:29:13-08:00">2024-02-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-10-26 22:25:39" itemprop="dateModified" datetime="2024-10-26T22:25:39-07:00">2024-10-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/MCU/" itemprop="url" rel="index"><span itemprop="name">MCU</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Finally, in China, I setup my old laptop.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ neofetch</span><br><span class="line">            .-/+oossssoo+/-.               lvision@lvision-GT72-6QE </span><br><span class="line">        `:+ssssssssssssssssss+:`           ------------------------ </span><br><span class="line">      -+ssssssssssssssssssyyssss+-         OS: Ubuntu 22.04.3 LTS x86_64 </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       Host: GT72 6QE REV:1.0 </span><br><span class="line">   /ssssssssssshdmmNNmmyNMMMMhssssss/      Kernel: 6.5.0-15-generic </span><br><span class="line">  +ssssssssshmydMMMMMMMNddddyssssssss+     Uptime: 26 mins </span><br><span class="line"> /sssssssshNMMMyhhyyyyhmNMMMNhssssssss/    Packages: 3057 (dpkg), 13 (snap) </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Shell: zsh 5.8.1 </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   Resolution: 1920x1080 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   DE: GNOME 42.9 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   WM: Mutter </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   WM Theme: Adwaita </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Theme: Yaru [GTK2/3] </span><br><span class="line"> /sssssssshNMMMyhhyyyyhdNMMMNhssssssss/    Icons: Yaru [GTK2/3] </span><br><span class="line">  +sssssssssdmydMMMMMMMMddddyssssssss+     Terminal: gnome-terminal </span><br><span class="line">   /ssssssssssshdmNNNNmyNMMMMhssssss/      CPU: Intel i7-6700HQ (8) @ 3.500GHz </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       GPU: NVIDIA GeForce GTX 980M </span><br><span class="line">      -+sssssssssssssssssyyyssss+-         Memory: 3075MiB / 64254MiB </span><br><span class="line">        `:+ssssssssssssssssss+:`</span><br><span class="line">            .-/+oossssoo+/-.                                       </span><br><span class="line">                                                                   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">➜  ~ </span><br></pre></td></tr></table></figure>
<h1 id="overview">1. Overview</h1>
<h2 id="what-is-esp32-s3">1.1 What Is <a
target="_blank" rel="noopener" href="https://www.espressif.com/en/products/socs/esp32-s3">ESP32-S3</a></h2>
<p><a
target="_blank" rel="noopener" href="https://www.espressif.com/en/products/socs/esp32-s3">ESP32-S3</a>
<code>is a dual-core XTensa LX7 MCU, capable of running at 240 MHz. Apart from its 512 KB of internal SRAM, it also comes with integrated 2.4 GHz, 802.11 b/g/n Wi-Fi and Bluetooth 5 (LE) connectivity that provides long-range support.</code>
(Cite from <a target="_blank" rel="noopener" href="https://www.espressif.com">Espressif</a>'s official
online doc <a
target="_blank" rel="noopener" href="https://www.espressif.com/en/products/socs/esp32-s3">ESP32-S3</a>).</p>
<p>In this blog, I'm going to heavily follow <a
target="_blank" rel="noopener" href="https://github.com/espressif/esp-who/blob/master/docs/en/get-started/ESP32-S3-EYE_Getting_Started_Guide.md">ESP32-S3-EYE
Getting Started Guide</a>.</p>
<h2 id="directly-plug-in-usb-type-c">1.2 Directly Plug-In USB Type
C</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsusb | grep Espressif  </span><br><span class="line">Bus 009 Device 034: ID 303a:700f Espressif ESP32-S3-EYE</span><br><span class="line">➜  ~ </span><br></pre></td></tr></table></figure>
<h2 id="entering-flash-mode">1.3 Entering Flash Mode</h2>
<p>Steps to enter flash mode:</p>
<ul>
<li>Plug out USB Type C</li>
<li>Press <code>BOOT</code> button</li>
<li>Plug in USB Type C</li>
<li>Release <code>BOOT</code> button</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsusb| grep Espressif</span><br><span class="line">Bus 009 Device 035: ID 303a:1001 Espressif USB JTAG/serial debug unit</span><br><span class="line">➜  ~ </span><br></pre></td></tr></table></figure>
<h2
id="flash-default-firmware-esp32-s3-eye-v2.2-firmware-v0.2.0-en.bin">1.4
Flash Default Firmware <a
target="_blank" rel="noopener" href="https://github.com/espressif/esp-who/blob/master/default_bin/esp32-s3-eye/v2.2/esp32-s3-eye-v2.2-firmware-v0.2.0-en.bin">esp32-s3-eye-v2.2-firmware-v0.2.0-en.bin</a></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">➜  v2.2 git:(master) esptool.py --chip esp32s3 --port /dev/ttyACM0 --baud 460800 write_flash -z 0x0 esp32-s3-eye-v2.2-firmware-v0.2.0-en.bin</span><br><span class="line">esptool.py v4.8.1</span><br><span class="line">Serial port /dev/ttyACM0</span><br><span class="line">Connecting...</span><br><span class="line">Chip is ESP32-S3 (QFN56) (revision v0.2)</span><br><span class="line">Features: WiFi, BLE, Embedded PSRAM 8MB (AP_3v3)</span><br><span class="line">Crystal is 40MHz</span><br><span class="line">MAC: ec:da:3b:9d:58:18</span><br><span class="line">Uploading stub...</span><br><span class="line">Running stub...</span><br><span class="line">Stub running...</span><br><span class="line">Changing baud rate to 460800</span><br><span class="line">Changed.</span><br><span class="line">Configuring flash size...</span><br><span class="line">Flash will be erased from 0x00000000 to 0x00762fff...</span><br><span class="line">Compressed 7745536 bytes to 4981103...</span><br><span class="line">Wrote 7745536 bytes (4981103 compressed) at 0x00000000 in 48.0 seconds (effective 1292.1 kbit/s)...</span><br><span class="line">Hash of data verified.</span><br><span class="line"></span><br><span class="line">Leaving...</span><br><span class="line">Hard resetting via RTS pin...</span><br><span class="line">➜  v2.2 git:(master) </span><br></pre></td></tr></table></figure>
<h2 id="demonstration">1.5 Demonstration</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.espressif.com/en/products/devkits/esp-eye/resourceswww.espressif.com2">ESP-S3-EYE</a>
Booting</th>
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.espressif.com/en/products/devkits/esp-eye/resourceswww.espressif.com2">ESP-S3-EYE</a>
Camera</th>
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.espressif.com/en/products/devkits/esp-eye/resourceswww.espressif.com2">ESP-S3-EYE</a>
Face Detection</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/MCU/ESP32/esp32-s3-eye/booting.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/MCU/ESP32/esp32-s3-eye/booting.jpg"
alt="Luckfox Pico Ultra W Enable CSI" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/MCU/ESP32/esp32-s3-eye/video.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/MCU/ESP32/esp32-s3-eye/video.jpg"
alt="Luckfox Pico Ultra W CSI Enabled" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/MCU/ESP32/esp32-s3-eye/facedetection.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/MCU/ESP32/esp32-s3-eye/facedetection.jpg"
alt="Luckfox Pico Ultra W CSI Enabled" /></a></td>
</tr>
</tbody>
</table>
<h1 id="wifi">2. WiFi</h1>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/01/24/Coding/HowTo/qt5-assimp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/24/Coding/HowTo/qt5-assimp/" class="post-title-link" itemprop="url">How to build Qt5 with assimp?</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-01-24 00:00:00" itemprop="dateCreated datePublished" datetime="2024-01-24T00:00:00-08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Coding/HowTo/" itemprop="url" rel="index"><span itemprop="name">HowTo</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="symptom">1. Symptom</h2>
<p>When I tried to build <a
target="_blank" rel="noopener" href="https://download.qt.io/official_releases/qt/5.15/">qt 5.15</a>, I
<strong>always</strong> obtain the following <strong>ERROR</strong>
message:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Project ERROR: Library &#x27;assimp&#x27; is not defined.</span><br><span class="line">make[4]: *** [Makefile:85: sub-assimp-install_subtargets] Error 3</span><br><span class="line">make[4]: Leaving directory &#x27;/opt/qt/qt-everywhere-src-5.15.12/qtquick3d/src/plugins/assetimporters&#x27;</span><br><span class="line">make[3]: *** [Makefile:59: sub-assetimporters-install_subtargets] Error 2</span><br><span class="line">make[3]: Leaving directory &#x27;/opt/qt/qt-everywhere-src-5.15.12/qtquick3d/src/plugins&#x27;</span><br><span class="line">make[2]: *** [Makefile:206: sub-plugins-install_subtargets-ordered] Error 2</span><br><span class="line">make[2]: Leaving directory &#x27;/opt/qt/qt-everywhere-src-5.15.12/qtquick3d/src&#x27;</span><br><span class="line">make[1]: *** [Makefile:62: sub-src-install_subtargets] Error 2</span><br><span class="line">make[1]: Leaving directory &#x27;/opt/qt/qt-everywhere-src-5.15.12/qtquick3d&#x27;</span><br><span class="line">make: *** [Makefile:378: module-qtquick3d-install_subtargets] Error 2</span><br></pre></td></tr></table></figure>
<h2 id="reason">2. Reason</h2>
<p>Why? Please refer to <a
target="_blank" rel="noopener" href="https://blog.csdn.net/Taozi825232603/article/details/132220891">QT5.15在Ubuntu22.04上编译流程</a>.</p>
<h2 id="solution">3. Solution</h2>
<ul>
<li>Modify <strong>line 13</strong> of
<code>/opt/qt/qt-everywhere-src-5.15.12/qtquick3d/src/plugins/assetimporters/assimp/assimp.pro</code>
from <code>QMAKE_USE_PRIVATE += assimp</code> to
<code>QMAKE_USE_PRIVATE += quick3d-assimp</code>.</li>
<li>Don't use <strong>assimp-5.2.2</strong> from Ubuntu default repo,
but build and install <a
target="_blank" rel="noopener" href="https://github.com/assimp/assimp.git">assimp</a> (5.2.3 or above)
from source.</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/01/20/SBCs/RISC-V/LuckFox-Pico-Max/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/20/SBCs/RISC-V/LuckFox-Pico-Max/" class="post-title-link" itemprop="url">LuckFox Pico Max RV1106</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-01-20 10:14:18" itemprop="dateCreated datePublished" datetime="2024-01-20T10:14:18-08:00">2024-01-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-10-25 04:30:18" itemprop="dateModified" datetime="2024-10-25T04:30:18-07:00">2024-10-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>China indeed is becoming better and better. Let me show you some
pictures in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Suzhou">SuZhou</a>
before my flight back to <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Vancouver">Vancouver</a>.</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Temple @ Lingyanshan, MUdu, Suzhou</th>
<th style="text-align: center;">Stone Turtle @ Lingyanshan, Mudu,
Suzhou</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/LingYanShanTemple.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/LingYanShanTemple.jpg"
alt="Linyanshan Temple" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/LingYanShanTurtle.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/LingYanShanTurtle.jpg"
alt="Linyanshan Turtle" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/ShanTangRoad.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/ShanTangRoad.jpg"
alt="ShanTang Road" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/XiangXi_Bridge.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/XiangXi_Bridge.jpg"
alt="XiangXi Bridge" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/XiangXi.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/XiangXi.jpg"
alt="XiangXi" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/XiangXi_UnknownBridge.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/XiangXi_UnknownBridge.jpg"
alt="XiangXi Unknown Bridge" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/DownTown_XuanGuanTemple.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/DownTown_XuanGuanTemple.jpg"
alt="XuanGuan Temple" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/DownTown_PingJiangRoad_Starbucks.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/DownTown_PingJiangRoad_Starbucks.jpg"
alt="PingJiangRoad Starbucks" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/DownTown_PingJiangRoad.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/DownTown_PingJiangRoad.jpg"
alt="PingJiang Road" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/DownTown_PingJiangRoad_SideRoad.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Suzhou/DownTown_PingJiangRoad_SideRoad.jpg"
alt="PingJiangRoad Side Road" /></a></td>
</tr>
</tbody>
</table>
<h1 id="my-working-environment">1. My Working Environment</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ neofetch                                                              </span><br><span class="line">            .-/+oossssoo+/-.               lvision@lvision-MS-7C60 </span><br><span class="line">        `:+ssssssssssssssssss+:`           ----------------------- </span><br><span class="line">      -+ssssssssssssssssssyyssss+-         OS: Ubuntu 24.04 LTS x86_64 </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       Host: MS-7C60 1.0 </span><br><span class="line">   /ssssssssssshdmmNNmmyNMMMMhssssss/      Kernel: 6.8.0-39-generic </span><br><span class="line">  +ssssssssshmydMMMMMMMNddddyssssssss+     Uptime: 18 hours, 3 mins </span><br><span class="line"> /sssssssshNMMMyhhyyyyhmNMMMNhssssssss/    Packages: 5669 (dpkg), 25 (brew), 18 (snap) </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Shell: zsh 5.9 </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   Resolution: 2560x1440 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   DE: GNOME 46.0 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   WM: Mutter </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   WM Theme: Adwaita </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Theme: Adwaita [GTK2/3] </span><br><span class="line"> /sssssssshNMMMyhhyyyyhdNMMMNhssssssss/    Icons: Adwaita [GTK2/3] </span><br><span class="line">  +sssssssssdmydMMMMMMMMddddyssssssss+     Terminal: gnome-terminal </span><br><span class="line">   /ssssssssssshdmNNNNmyNMMMMhssssss/      CPU: AMD Ryzen Threadripper 3960X (48) @ 3.800GHz </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       GPU: NVIDIA GeForce RTX 3090 </span><br><span class="line">      -+sssssssssssssssssyyyssss+-         Memory: 9520MiB / 257591MiB </span><br><span class="line">        `:+ssssssssssssssssss+:`</span><br><span class="line">            .-/+oossssoo+/-.                                </span><br></pre></td></tr></table></figure>
<h1 id="introduction">2. Introduction</h1>
<h2 id="first-look">2.1 First Look</h2>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Luckfox Pico Max Top View</th>
<th style="text-align: center;">Luckfox Pico Max Bottom View</th>
<th style="text-align: center;">Luckfox Pico Max Top View with
Camera</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/LuckfoxPicoMax_Top.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/LuckfoxPicoMax_Top.jpg"
alt="Luckfox Pico Max Top View" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/LuckfoxPicoMax_Bottom.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/LuckfoxPicoMax_Bottom.jpg"
alt="Luckfox Pico Max Bottom View" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/LuckfoxPicoMax_Top_Camera.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/LuckfoxPicoMax_Top_Camera.jpg"
alt="Luckfox Pico Max Top View with Camera" /></a></td>
</tr>
</tbody>
</table>
<h2 id="official-documentation">2.2 Official Documentation</h2>
<p>Actually, ALL you need can be found at:</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://wiki.luckfox.com/Luckfox-Pico/Luckfox-Pico-quick-start">Luckfox
Pico Getting Started Tutorial</a></li>
</ul>
<h2 id="luckfox-pico-max">2.3 Luckfox Pico Max</h2>
<p>According to the <a
target="_blank" rel="noopener" href="https://wiki.luckfox.com/Luckfox-Pico/Luckfox-Pico-quick-start#product-parameters">Luckfox
Pico Product Parameters</a>, two streams of the products can be
categorized into 2 classes by their chips:</p>
<ul>
<li>RV1103:
<ul>
<li>Luckfox Pico</li>
<li>Luckfox Pico Mini A</li>
<li>Luckfox Pico Mini B</li>
<li>Luckfox Pico Plus</li>
</ul></li>
<li>RV1106:
<ul>
<li>Luckfox Pico Pro</li>
<li>Luckfox Pico Max</li>
</ul></li>
</ul>
<blockquote>
<p>[!NOTE]<br />
From <a target="_blank" rel="noopener" href="https://www.taobao.com/">Taobao</a>, the one I purchased
is a <strong>Luckfox Pico Max</strong>.</p>
</blockquote>
<h1 id="have-some-fun">3. Have Some Fun</h1>
<h2 id="lsusb-for-direct-usb-plug-in">3.1 <code>lsusb</code> For Direct
USB Plug-In</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsusb | grep -i Fuzhou</span><br><span class="line">Bus 009 Device 013: ID 2207:0019 Fuzhou Rockchip Electronics Company rk3xxx</span><br></pre></td></tr></table></figure>
<p><strong><span style="color:red">A little weird: Why
<code>rk3xxx</code> but not <code>rv1106</code> ???</span></strong></p>
<h2 id="ssh-into-luckfox-pico">3.2 <code>ssh</code> Into <a
target="_blank" rel="noopener" href="https://www.luckfox.com/Luckfox-Pico">Luckfox Pico</a></h2>
<p>I personally prefer <code>ssh</code> into <a
target="_blank" rel="noopener" href="https://www.luckfox.com/Luckfox-Pico">LuckFox Pico</a> over
Intranet and talk a look.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ ssh root@192.168.1.66</span><br><span class="line"># pwd</span><br><span class="line">/root</span><br><span class="line"># cd /</span><br><span class="line"># ls -la</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x   20 1002     1002          1584 Nov 14  2023 .</span><br><span class="line">drwxr-xr-x   20 1002     1002          1584 Nov 14  2023 ..</span><br><span class="line">drwxrwxr-x    2 1002     1002          5704 Nov 16  2023 bin</span><br><span class="line">lrwxrwxrwx    1 1002     1002             8 Sep  1 09:04 data -&gt; userdata</span><br><span class="line">drwxr-xr-x   12 root     root          2020 Jan  1 12:00 dev</span><br><span class="line">drwxrwxr-x   11 1002     1002          2184 Jan  1 12:00 etc</span><br><span class="line">drwxrwxr-x    3 1002     1002          2168 Nov 16  2023 lib</span><br><span class="line">lrwxrwxrwx    1 1002     1002             3 Nov 14  2023 lib32 -&gt; lib</span><br><span class="line">lrwxrwxrwx    1 1002     1002             3 Nov 30  2021 lib64 -&gt; lib</span><br><span class="line">lrwxrwxrwx    1 1002     1002            11 Nov 14  2023 linuxrc -&gt; bin/busybox</span><br><span class="line">drwxr-xr-x    2 1002     1002           160 Oct 16  2023 media</span><br><span class="line">drwxr-xr-x    3 1002     1002           224 Oct 16  2023 mnt</span><br><span class="line">drwxrwxr-x    3 1002     1002           296 Jan  1 13:10 oem</span><br><span class="line">drwxr-xr-x    2 1002     1002           160 Oct 16  2023 opt</span><br><span class="line">dr-xr-xr-x  126 root     root             0 Jan  1 12:00 proc</span><br><span class="line">drwxrwxr-x    6 1002     1002           664 Nov 16  2023 rockchip_test</span><br><span class="line">drwx------    2 1002     1002           160 Oct 16  2023 root</span><br><span class="line">drwxr-xr-x    6 root     root           220 Jan  1 12:00 run</span><br><span class="line">drwxrwxr-x    2 1002     1002          5120 Nov 16  2023 sbin</span><br><span class="line">dr-xr-xr-x   13 root     root             0 Jan  1 12:00 sys</span><br><span class="line">drwxrwxrwt    3 root     root           100 Jan  1 13:06 tmp</span><br><span class="line">drwxrwxr-x    2 1002     1002           312 Jan  1 12:00 userdata</span><br><span class="line">drwxrwxr-x    7 1002     1002           608 Nov 14  2023 usr</span><br><span class="line">drwxr-xr-x    5 1002     1002           736 Nov 16  2023 var</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># uname -a</span><br><span class="line">Linux luckfox 5.10.110 #1 Tue Nov 14 18:06:04 CST 2023 armv7l GNU/Linux</span><br><span class="line"># python --version</span><br><span class="line">Python 3.11.6</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># df -h</span><br><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">ubi0:rootfs             181.3M     60.0M    121.3M  33% /</span><br><span class="line">devtmpfs                 90.9M         0     90.9M   0% /dev</span><br><span class="line">tmpfs                    91.0M         0     91.0M   0% /dev/shm</span><br><span class="line">tmpfs                    91.0M     64.0K     90.9M   0% /tmp</span><br><span class="line">tmpfs                    91.0M    488.0K     90.5M   1% /run</span><br><span class="line">/dev/ubi4_0              20.2M     17.1M      3.0M  85% /oem</span><br><span class="line">/dev/ubi5_0               2.2M     28.0K      2.2M   1% /userdata</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># cat /proc/cpuinfo</span><br><span class="line">processor	: 0</span><br><span class="line">model name	: ARMv7 Processor rev 5 (v7l)</span><br><span class="line">BogoMIPS	: 61.13</span><br><span class="line">Features	: half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae </span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 7</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0xc07</span><br><span class="line">CPU revision	: 5</span><br><span class="line">Hardware	: Generic DT based system</span><br><span class="line">Revision	: 0000</span><br><span class="line">Serial		: eb8d68468b29abe9</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"># cat /proc/meminfo</span><br><span class="line">MemTotal:         186388 kB</span><br><span class="line">MemFree:          156648 kB</span><br><span class="line">MemAvailable:     164500 kB</span><br><span class="line">Buffers:               0 kB</span><br><span class="line">Cached:            11224 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:             6112 kB</span><br><span class="line">Inactive:          10000 kB</span><br><span class="line">Active(anon):        200 kB</span><br><span class="line">Inactive(anon):     5248 kB</span><br><span class="line">Active(file):       5912 kB</span><br><span class="line">Inactive(file):     4752 kB</span><br><span class="line">Unevictable:           0 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:             0 kB</span><br><span class="line">SwapFree:              0 kB</span><br><span class="line">Dirty:                 4 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:          4908 kB</span><br><span class="line">Mapped:             7520 kB</span><br><span class="line">Shmem:               560 kB</span><br><span class="line">KReclaimable:       3840 kB</span><br><span class="line">Slab:               8156 kB</span><br><span class="line">SReclaimable:       3840 kB</span><br><span class="line">SUnreclaim:         4316 kB</span><br><span class="line">KernelStack:         576 kB</span><br><span class="line">PageTables:          428 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:       93192 kB</span><br><span class="line">Committed_AS:      19308 kB</span><br><span class="line">VmallocTotal:    1032192 kB</span><br><span class="line">VmallocUsed:        3580 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">Percpu:               32 kB</span><br><span class="line">CmaTotal:          67584 kB</span><br><span class="line">CmaAllocated:         12 kB</span><br><span class="line">CmaReleased:       67572 kB</span><br><span class="line">CmaFree:               0 kB</span><br></pre></td></tr></table></figure>
<p><strong><span style="color:red">From what I can see after SSH into my
<a target="_blank" rel="noopener" href="https://www.luckfox.com/Luckfox-Pico">Luckfox Pico</a>, the one
I purchased is a <a
target="_blank" rel="noopener" href="https://www.luckfox.com/EN-Luckfox-Pico-Pro">Luckfox Pico
Pro</a>.</span></strong></p>
<h1 id="reflash">4. Reflash</h1>
<h2 id="entering-flash-mode">4.1 Entering Flash Mode</h2>
<ul>
<li>Press <code>BOOT</code> button</li>
<li>Press <code>RESET</code> button</li>
<li>Release <code>RESET</code> button</li>
<li>Release <code>BOOT</code> button</li>
</ul>
<p><strong><span style="color:red">To demonstrate it is flash mode
now:</span></strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsusb | grep -i Fuzhou</span><br><span class="line">Bus 009 Device 015: ID 2207:110c Fuzhou Rockchip Electronics Company </span><br></pre></td></tr></table></figure>
<h2 id="flash-firmware">4.2 Flash firmware</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">➜  Luckfox_Pico_Pro_Max_Flash sudo upgrade_tool uf update.img </span><br><span class="line">[sudo] password for lvision: </span><br><span class="line">Loading firmware...</span><br><span class="line">Support Type:1106	FW Ver:0.0.00	FW Time:2024-07-10 14:43:58</span><br><span class="line">Loader ver:1.01	Loader Time:2024-07-10 14:42:28</span><br><span class="line">Start to upgrade firmware...</span><br><span class="line">Download Boot Start</span><br><span class="line">Download Boot Success</span><br><span class="line">Wait For Maskrom Start</span><br><span class="line">Wait For Maskrom Success</span><br><span class="line">Test Device Start</span><br><span class="line">Test Device Success</span><br><span class="line">Check Chip Start</span><br><span class="line">Check Chip Success</span><br><span class="line">Get FlashInfo Start</span><br><span class="line">Get FlashInfo Success</span><br><span class="line">Prepare IDB Start</span><br><span class="line">Prepare IDB Success</span><br><span class="line">Download IDB Start</span><br><span class="line">Download IDB Success</span><br><span class="line">Download Firmware Start</span><br><span class="line">Download Image... (100%)</span><br><span class="line">Download Firmware Success</span><br><span class="line">Upgrade firmware ok.</span><br></pre></td></tr></table></figure>
<h2 id="ssh-into-luckfox-pico-max">4.3 <code>ssh</code> Into <a
target="_blank" rel="noopener" href="https://www.luckfox.com/EN-Luckfox-Pico-Max">LuckFox Pico
Max</a></h2>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Luckfox Pico Max CPUInfo</th>
<th style="text-align: center;">Luckfox Pico Max MemInfo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/luckfox_cpuinfo.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/luckfox_cpuinfo.png"
alt="Luckfox Pico Max CPUInfo" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/luckfox_meminfo.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/luckfox_meminfo.png"
alt="Luckfox Pico Max MemInfo" /></a></td>
</tr>
</tbody>
</table>
<h1 id="luckfox-pico-max-csi-camera">5. <a
target="_blank" rel="noopener" href="https://www.luckfox.com/EN-Luckfox-Pico-Max">Luckfox Pico Max</a>
<a
target="_blank" rel="noopener" href="https://wiki.luckfox.com/Luckfox-Pico/Luckfox-Pico-RV1106/Luckfox-Pico-Pro-Max/CSI-Camera/">CSI
Camera</a></h1>
<h2 id="connection-of-csi-camera">5.1 Connection Of <a
target="_blank" rel="noopener" href="https://wiki.luckfox.com/Luckfox-Pico/Luckfox-Pico-RV1106/Luckfox-Pico-Pro-Max/CSI-Camera/">CSI
Camera</a></h2>
<p>For my <a target="_blank" rel="noopener" href="https://www.luckfox.com/EN-Luckfox-Pico-Max">LuckFox
Pico Max</a>, I need to follow the following citation:
<code>When connecting the camera to LuckFox Pico Pro/Max development boards, ensure that the metal side of the camera ribbon cable faces the chip on the development board.</code>
(Refer to <a
target="_blank" rel="noopener" href="https://wiki.luckfox.com/Luckfox-Pico/Luckfox-Pico-RV1106/Luckfox-Pico-Pro-Max/CSI-Camera/">CSI
Camera</a>)</p>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/devices_listed_rkipc.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/devices_listed_rkipc.png"
alt="v4l2-ctl --list-devices and rkipc.ini" /></a></p>
<h2 id="content-of-rkipc.ini">5.2 Content of <code>rkipc.ini</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">[root@luckfox data]# cat rkipc.ini </span><br><span class="line">[audio.0]</span><br><span class="line">enable = 1</span><br><span class="line">card_name = hw:0,0</span><br><span class="line">encode_type = G711A</span><br><span class="line">format = S16</span><br><span class="line">sample_rate = 8000</span><br><span class="line">channels = 2</span><br><span class="line">frame_size = 1152</span><br><span class="line">bit_rate = 16000</span><br><span class="line">input = mic_in</span><br><span class="line">volume = 50</span><br><span class="line">enable_aed = 0</span><br><span class="line">enable_bcd = 0</span><br><span class="line">enable_vqe = 1</span><br><span class="line">vqe_cfg = /oem/usr/share/vqefiles/config_aivqe.json</span><br><span class="line">rt_audio_period_size = 1024</span><br><span class="line"></span><br><span class="line">[video.source]</span><br><span class="line">enable_aiq = 1</span><br><span class="line">enable_vo = 0</span><br><span class="line">vo_dev_id = 3 ; 0 is hdmi, 3 is mipi</span><br><span class="line">enable_ivs = 1</span><br><span class="line">enable_jpeg = 1</span><br><span class="line">enable_venc_0 = 1</span><br><span class="line">enable_venc_1 = 1</span><br><span class="line">enable_venc_2 = 0</span><br><span class="line">enable_npu = 1</span><br><span class="line">npu_fps = 10</span><br><span class="line">buffer_line = 1296</span><br><span class="line">enable_rtsp = 1</span><br><span class="line">enable_rtmp = 0</span><br><span class="line">rotation = 0 ; available value:0 90 180 270</span><br><span class="line"></span><br><span class="line">[video.0]</span><br><span class="line">buffer_size = 1492992 ; w * h / 2</span><br><span class="line">buffer_count = 4</span><br><span class="line">enable_refer_buffer_share = 1</span><br><span class="line">stream_type = mainStream</span><br><span class="line">video_type = compositeStream</span><br><span class="line">max_width = 2304</span><br><span class="line">max_height = 1296</span><br><span class="line">width = 2304</span><br><span class="line">height = 1296</span><br><span class="line">rc_mode = CBR</span><br><span class="line">rc_quality = high</span><br><span class="line">src_frame_rate_den = 1</span><br><span class="line">src_frame_rate_num = 25</span><br><span class="line">dst_frame_rate_den = 1</span><br><span class="line">dst_frame_rate_num = 25</span><br><span class="line">target_rate = 0</span><br><span class="line">mid_rate = 1024</span><br><span class="line">max_rate = 2048</span><br><span class="line">min_rate = 0</span><br><span class="line">output_data_type = H.265</span><br><span class="line">smart = close</span><br><span class="line">h264_profile = high</span><br><span class="line">gop = 50</span><br><span class="line">smartp_viridrlen = 25</span><br><span class="line">gop_mode = normalP</span><br><span class="line">stream_smooth = 50</span><br><span class="line">enable_motion_deblur = 1</span><br><span class="line">enable_motion_static_switch = 0</span><br><span class="line">frame_min_i_qp = 26</span><br><span class="line">frame_min_qp = 28</span><br><span class="line">frame_max_i_qp = 51</span><br><span class="line">frame_max_qp = 51</span><br><span class="line">scalinglist = 0</span><br><span class="line">enable_debreath_effect = 0</span><br><span class="line">debreath_effect_strength = 16</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">[roi.4]</span><br><span class="line">stream_type = thirdStream</span><br><span class="line">id = 1</span><br><span class="line">enabled = 0</span><br><span class="line">name = test</span><br><span class="line">position_x = 0</span><br><span class="line">position_y = 0</span><br><span class="line">width = 0</span><br><span class="line">height = 0</span><br><span class="line">quality_level = 3</span><br><span class="line"></span><br><span class="line">[roi.5]</span><br><span class="line">stream_type = thirdStream</span><br><span class="line">id = 2</span><br><span class="line">enabled = 0</span><br><span class="line">name = test</span><br><span class="line">position_x = 0</span><br><span class="line">position_y = 0</span><br><span class="line">width = 0</span><br><span class="line">height = 0</span><br><span class="line">quality_level = 3</span><br><span class="line"></span><br><span class="line">[region_clip.1]</span><br><span class="line">enabled = 0</span><br><span class="line">position_x = 0</span><br><span class="line">position_y = 0</span><br><span class="line">width = 640</span><br><span class="line">height = 480</span><br><span class="line"></span><br><span class="line">[network.ntp]</span><br><span class="line">enable = 1</span><br><span class="line">refresh_time_s = 60</span><br><span class="line">ntp_server = 119.28.183.184</span><br><span class="line">[root@luckfox data]# </span><br></pre></td></tr></table></figure>
<h2 id="snapshot-of-streamed-video-over-rtsp">5.3 Snapshot of Streamed
Video Over RTSP</h2>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/vlcsnap-2024-10-25-02h57m54s226.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/RISC-V/Luckfox-Pico/Max/vlcsnap-2024-10-25-02h57m54s226.png"
alt="Snapshot" /></a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2023/12/19/SBCs/RISC-V/BeagleV-Fire-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/19/SBCs/RISC-V/BeagleV-Fire-1/" class="post-title-link" itemprop="url">BeagleV-Fire 1</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-12-19 13:29:33" itemprop="dateCreated datePublished" datetime="2023-12-19T13:29:33-08:00">2023-12-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 21:18:28" itemprop="dateModified" datetime="2024-09-28T21:18:28-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>BeagleV®-Fire is a revolutionary single-board computer (SBC) powered by the Microchip’s PolarFire® MPFS025T 5x core RISC-V System on Chip (SoC) with FPGA fabric.</code>
(Cited from <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/boards/beaglev-fire">BeagleV-Fire
Board</a>).</p>
<h1 id="introduction">1. Introduction</h1>
<p>This <a
target="_blank" rel="noopener" href="https://www.microchip.com/en-us/product/mpfs025t">MPFS025T</a> is
actually a <a
target="_blank" rel="noopener" href="https://www.microchip.com/en-us/products/fpgas-and-plds/fpgas/polarfire-fpgas">PolarFire
Family FPGA SoC</a>, fabriced with both FPGA and RISC-V CPU. I'm saving
my word in this part. Let's just do it.</p>
<h1 id="official-ubuntu">2. Official Ubuntu</h1>
<p>Approximately 25 days ago, the official page for the <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/boards/beaglev-fire">BeagleV-Fire
Board</a> announced its first-ever distribution, the <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/distros/beaglev-fire-ubuntu-2023-11-21">BeagleV-Fire
Distro Ubuntu 2023-11-21</a>.</p>
<h1 id="flash-beaglev-fire-board">3. Flash <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/boards/beaglev-fire">BeagleV-Fire
Board</a></h1>
<p>In this section, we're going to strictly follow <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/readme.md">BeagleV-Fire
Ubuntu readme.md</a>, with trivial modifiations.</p>
<h2 id="update-all-packages-to-2023.09-in-01_git_sync.sh">3.1 Update ALL
Packages to 2023.09 in <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/01_git_sync.sh">01_git_sync.sh</a></h2>
<p>After you checkout <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu">BeagleV-Fire
Ubuntu</a>, modify <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/01_git_sync.sh">01_git_sync.sh</a>
as:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ git diff 01_git_sync.sh </span><br><span class="line"></span><br><span class="line">diff --git a/01_git_sync.sh b/01_git_sync.sh</span><br><span class="line">index cf3e230..6ab34c1 100755</span><br><span class="line">--- a/01_git_sync.sh</span><br><span class="line">+++ b/01_git_sync.sh</span><br><span class="line">@@ -3,11 +3,11 @@</span><br><span class="line"> GIT_DEPTH=&quot;20&quot;</span><br><span class="line"> GCC_VERSION=&quot;11.4.0&quot;</span><br><span class="line"> </span><br><span class="line">-HSS_BRANCH=&quot;v2023.02&quot;</span><br><span class="line">+HSS_BRANCH=&quot;v2023.09&quot;</span><br><span class="line"> HSS_REPO=&quot;https://github.com/polarfire-soc/hart-software-services.git&quot;</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">UBOOT_BRANCH=<span class="string">&quot;mpfs-uboot-2022.01&quot;</span></span></span><br><span class="line">-UBOOT_BRANCH=&quot;linux4microchip+fpga-2023.02&quot;</span><br><span class="line">+UBOOT_BRANCH=&quot;linux4microchip+fpga-2023.09&quot;</span><br><span class="line"> UBOOT_REPO=&quot;https://github.com/polarfire-soc/u-boot.git&quot;</span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">UBOOT_REPO=<span class="string">&quot;https://git.beagleboard.org/beaglev-fire/beaglev-fire-u-boot.git&quot;</span></span></span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">UBOOT_REPO=<span class="string">&quot;git@git.beagleboard.org:beaglev-fire/beaglev-fire-u-boot.git&quot;</span></span></span><br><span class="line">@@ -16,7 +16,7 @@ DT_BRANCH=&quot;v6.1.x-Beagle&quot;</span><br><span class="line"> DT_REPO=&quot;https://git.beagleboard.org/beagleboard/BeagleBoard-DeviceTrees.git&quot;</span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">DT_REPO=<span class="string">&quot;git@git.beagleboard.org:beagleboard/BeagleBoard-DeviceTrees.git&quot;</span></span></span><br><span class="line"> </span><br><span class="line">-LINUX_BRANCH=&quot;linux4microchip+fpga-2023.06&quot;</span><br><span class="line">+LINUX_BRANCH=&quot;linux4microchip+fpga-2023.09&quot;</span><br><span class="line"> LINUX_REPO=&quot;https://github.com/linux4microchip/linux.git&quot;</span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">LINUX_REPO=<span class="string">&quot;https://git.beagleboard.org/beaglev-fire/beaglev-fire-linux.git&quot;</span></span></span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">LINUX_REPO=<span class="string">&quot;git@git.beagleboard.org:beaglev-fire/beaglev-fire-linux.git&quot;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Namely, use <strong>ALL</strong> possible <strong>NEWEST</strong> or
<strong>MOST UP-TO-DATE</strong> packages. As you can see,
<strong>ALL</strong> branches that I'm using are of
<strong>2023.09</strong>.</p>
<h2 id="start-building">3.2 Start Building</h2>
<h3 id="git_sync.sh">3.2.1 <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/01_git_sync.sh">01_git_sync.sh</a></h3>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./01_git_sync.sh </span><br><span class="line">git clone -b v2023.09 https://github.com/polarfire-soc/hart-software-services.git ./hart-software-services/ --depth=20</span><br><span class="line">Cloning into &#x27;./hart-software-services&#x27;...</span><br><span class="line">remote: Enumerating objects: 1609, done.</span><br><span class="line">remote: Counting objects: 100% (1609/1609), done.</span><br><span class="line">remote: Compressing objects: 100% (1194/1194), done.</span><br><span class="line">remote: Total 1609 (delta 513), reused 1014 (delta 361), pack-reused 0</span><br><span class="line">Receiving objects: 100% (1609/1609), 3.58 MiB | 8.44 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (513/513), done.</span><br><span class="line">Note: switching to &#x27;919a27fa692d356a8fa0d9a6c4b950d04bee41bf&#x27;.</span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -c with the switch command. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to false</span><br><span class="line"></span><br><span class="line">git clone -b linux4microchip+fpga-2023.09 https://github.com/polarfire-soc/u-boot.git ./u-boot/ --depth=20</span><br><span class="line">Cloning into &#x27;./u-boot&#x27;...</span><br><span class="line">remote: Enumerating objects: 21670, done.</span><br><span class="line">remote: Counting objects: 100% (21670/21670), done.</span><br><span class="line">remote: Compressing objects: 100% (18160/18160), done.</span><br><span class="line">remote: Total 21670 (delta 4173), reused 11080 (delta 3124), pack-reused 0</span><br><span class="line">Receiving objects: 100% (21670/21670), 27.91 MiB | 13.00 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (4173/4173), done.</span><br><span class="line">Note: switching to &#x27;8f5e331e3f09cdf469d528905f5d6a7139016634&#x27;.</span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -c with the switch command. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to false</span><br><span class="line"></span><br><span class="line">Updating files: 100% (19905/19905), done.</span><br><span class="line">git clone -b v6.1.x-Beagle https://git.beagleboard.org/beagleboard/BeagleBoard-DeviceTrees.git ./device-tree/ --depth=20</span><br><span class="line">Cloning into &#x27;./device-tree&#x27;...</span><br><span class="line">remote: Enumerating objects: 390, done.</span><br><span class="line">remote: Counting objects: 100% (390/390), done.</span><br><span class="line">remote: Compressing objects: 100% (251/251), done.</span><br><span class="line">remote: Total 390 (delta 191), reused 225 (delta 120), pack-reused 0</span><br><span class="line">Receiving objects: 100% (390/390), 368.83 KiB | 6.96 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (191/191), done.</span><br><span class="line">git clone -b linux4microchip+fpga-2023.09 https://github.com/linux4microchip/linux.git ./linux/ --depth=20</span><br><span class="line">Cloning into &#x27;./linux&#x27;...</span><br><span class="line">info: Could not add alternate for &#x27;/home/lvision/linux-src/&#x27;: path &#x27;/home/lvision/linux-src/&#x27; does not exist</span><br><span class="line">remote: Enumerating objects: 94584, done.</span><br><span class="line">remote: Counting objects: 100% (94584/94584), done.</span><br><span class="line">remote: Compressing objects: 100% (84459/84459), done.</span><br><span class="line">remote: Total 94584 (delta 12732), reused 88132 (delta 9251), pack-reused 0</span><br><span class="line">Receiving objects: 100% (94584/94584), 263.65 MiB | 19.75 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (12732/12732), done.</span><br><span class="line">Note: switching to &#x27;25e35c7c54ad853d03c14a02b189b408cb5b5eb3&#x27;.</span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -c with the switch command. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to false</span><br><span class="line"></span><br><span class="line">Updating files: 100% (78845/78845), done.</span><br></pre></td></tr></table></figure>
<h3 id="build_hss.sh">3.2.2 <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/02_build_hss.sh">02_build_hss.sh</a></h3>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./02_build_hss.sh </span><br><span class="line">make: Entering directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator&#x27;</span><br><span class="line"> RM      /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/hss-payload-generator /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/main.o /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/yaml_parser.o /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/blob_handler.o /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/elf_parser.o /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/elf_strings.o /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/crc32.o /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/generate_payload.o /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/dump_payload.o /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/debug_printf.o</span><br><span class="line">make: Leaving directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator&#x27;</span><br><span class="line">make -C hart-software-services/tools/hss-payload-generator/</span><br><span class="line">make: Entering directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator&#x27;</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/main.o</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/yaml_parser.o</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/blob_handler.o</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/elf_parser.o</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/elf_strings.o</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/crc32.o</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/generate_payload.o</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/dump_payload.o</span><br><span class="line"> CC        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/debug_printf.o</span><br><span class="line"> LD        /home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/hss-payload-generator</span><br><span class="line">make: Leaving directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator&#x27;</span><br><span class="line">&#x27;./hart-software-services/tools/hss-payload-generator/hss-payload-generator&#x27; -&gt; &#x27;./deploy/hss-payload-generator&#x27;</span><br></pre></td></tr></table></figure>
<h3 id="build_u-boot.sh">3.2.3 <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/03_build_u-boot.sh">03_build_u-boot.sh</a></h3>
<p><span style="color:red">An issue: </span><a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/issues/4">Error:
illegal operands `li
t1,(CFG_SYS_INIT_RAM_ADDR+CFG_SYS_INIT_RAM_SIZE-400)'</a></p>
<p><span style="color:red">Solution: </span> Modifly line 98 of file <a
target="_blank" rel="noopener" href="https://github.com/polarfire-soc/u-boot/blob/linux4microchip%2Bfpga-2023.09/arch/riscv/cpu/start.S">u-boot/arch/riscv/cpu/start.s</a>
from <code>li    t1, SYS_INIT_SP_ADDR</code> to <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lui t1, %hi(0x80000000)</span><br><span class="line">addi t1, t1, %lo(0x80000000)</span><br></pre></td></tr></table></figure></p>
<p><span style="color:red">Then, start building: </span></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./03_build_u-boot.sh </span><br><span class="line">make: Entering directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">  CLEAN   dts/../arch/riscv/dts</span><br><span class="line">  CLEAN   dts</span><br><span class="line">  CLEAN   lib/efi_loader</span><br><span class="line">  CLEAN   tools</span><br><span class="line">  CLEAN   tools/lib tools/common</span><br><span class="line">  CLEAN   include/generated/env.in include/generated/env.txt u-boot u-boot.bin u-boot.cfg u-boot.dtb u-boot-dtb.bin u-boot.lds u-boot.map u-boot-nodtb.bin u-boot.srec u-boot.sym System.map defconfig</span><br><span class="line">  CLEAN   scripts/basic</span><br><span class="line">  CLEAN   scripts/dtc</span><br><span class="line">  CLEAN   scripts/kconfig</span><br><span class="line">  CLEAN   include/config include/generated</span><br><span class="line">  CLEAN   .config .config.old include/autoconf.mk include/autoconf.mk.dep include/config.h</span><br><span class="line">make: Leaving directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">&#x27;../patches/u-boot/beaglev-fire/microchip_mpfs_icicle.h&#x27; -&gt; &#x27;include/configs/microchip_mpfs_icicle.h&#x27;</span><br><span class="line">&#x27;../patches/u-boot/beaglev-fire/microchip-mpfs-icicle-kit.dts&#x27; -&gt; &#x27;arch/riscv/dts/microchip-mpfs-icicle-kit.dts&#x27;</span><br><span class="line">&#x27;../patches/u-boot/beaglev-fire/microchip_mpfs_icicle_defconfig&#x27; -&gt; &#x27;configs/microchip_mpfs_icicle_defconfig&#x27;</span><br><span class="line">make: Entering directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/kconfig/conf.o</span><br><span class="line">  YACC    scripts/kconfig/zconf.tab.c</span><br><span class="line">  LEX     scripts/kconfig/zconf.lex.c</span><br><span class="line">  HOSTCC  scripts/kconfig/zconf.tab.o</span><br><span class="line">  HOSTLD  scripts/kconfig/conf</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># configuration written to .config</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">make: Leaving directory <span class="string">&#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span></span></span><br><span class="line">make: Entering directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">scripts/kconfig/conf  --olddefconfig Kconfig</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># configuration written to .config</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">make: Leaving directory <span class="string">&#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span></span></span><br><span class="line">make: Entering directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">scripts/kconfig/conf  --savedefconfig=defconfig Kconfig</span><br><span class="line">make: Leaving directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">&#x27;./u-boot/defconfig&#x27; -&gt; &#x27;./u-boot/configs/microchip_mpfs_icicle_defconfig&#x27;</span><br><span class="line">&#x27;./u-boot/defconfig&#x27; -&gt; &#x27;./patches/u-boot/beaglev-fire/microchip_mpfs_icicle_defconfig&#x27;</span><br><span class="line">make -C u-boot -j48 ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- all</span><br><span class="line">make: Entering directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">scripts/kconfig/conf  --syncconfig Kconfig</span><br><span class="line">  UPD     include/config.h</span><br><span class="line">  CFG     u-boot.cfg</span><br><span class="line">  GEN     include/autoconf.mk.dep</span><br><span class="line">......</span><br><span class="line">In file included from ././include/linux/kconfig.h:4,</span><br><span class="line">                 from &lt;command-line&gt;:</span><br><span class="line">include/generated/autoconf.h:142: note: this is the location of the previous definition</span><br><span class="line">  142 | #define CONFIG_SYS_BOOTM_LEN 0x800000</span><br><span class="line">      | </span><br><span class="line">  AR      drivers/core/built-in.o</span><br><span class="line">  AR      drivers/mtd/ubi/built-in.o</span><br><span class="line">  AR      lib/zlib/built-in.o</span><br><span class="line">  AR      drivers/mtd/built-in.o</span><br><span class="line">  AR      drivers/built-in.o</span><br><span class="line">  AR      fs/fat/built-in.o</span><br><span class="line">  AR      fs/ubifs/built-in.o</span><br><span class="line">  AR      fs/built-in.o</span><br><span class="line">  AR      lib/built-in.o</span><br><span class="line">  LD      u-boot</span><br><span class="line">  OBJCOPY u-boot.srec</span><br><span class="line">  OBJCOPY u-boot-nodtb.bin</span><br><span class="line">  SYM     u-boot.sym</span><br><span class="line">  DTC     arch/riscv/dts/microchip-mpfs-icicle-kit.dtb</span><br><span class="line">  DTC     arch/riscv/dts/microchip-mpfs-icicle-kit-amp.dtb</span><br><span class="line">  DTC     arch/riscv/dts/microchip-mpfs-icicle-kit-qspi-nor.dtb</span><br><span class="line">  SHIPPED dts/dt.dtb</span><br><span class="line">  CAT     u-boot-dtb.bin</span><br><span class="line">  COPY    u-boot.dtb</span><br><span class="line">  COPY    u-boot.bin</span><br><span class="line">  OFCHK   .config</span><br><span class="line">make: Leaving directory &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">&#x27;./u-boot/u-boot.bin&#x27; -&gt; &#x27;./deploy/u-boot.bin&#x27;</span><br><span class="line">&#x27;./u-boot/u-boot.bin&#x27; -&gt; &#x27;./deploy/src.bin&#x27;</span><br></pre></td></tr></table></figure>
<h3 id="build_linux.sh">3.2.4 <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/04_build_linux.sh">04_build_linux.sh</a></h3>
<p><span style="color:red">Two issues: </span></p>
<ul>
<li><p><a
target="_blank" rel="noopener" href="https://forum.beagleboard.org/t/kernel-successfully-built-for-beaglev-fire-but-still-obtain-error-messages/36806/2">cp:
cannot stat './arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dtb': No
such file or directory</a> <span style="color:red">Solution: adding
<code>dtb-$(CONFIG_SOC_MICROCHIP_POLARFIRE) += mpfs-beaglev-fire.dtb</code>
into file
<code>/home/lvision/Desktop/BeagleV-Fire-ubuntu/linux/arch/riscv/boot/dts/microchip/Makefile</code>.</span></p></li>
<li><p><a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/issues/2">No
rule to make target 'firmware/regulatory.db'</a> <span
style="color:red">Solution: copy files <code>regulatory.db</code> and
<code>regulatory.db.p7s</code> obtained from
https://git.kernel.org/pub/scm/linux/kernel/git/sforshee/wireless-regdb.git/
under folder
<code>/home/lvision/Desktop/BeagleV-Fire-ubuntu/linux/firmware`` (You may have to create such</code>firmware`
folder).</span></p></li>
</ul>
<p><span style="color:red">Then, start building: </span></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./04_build_linux.sh </span><br><span class="line">Applying: PCIe: Change controller and bridge base address.</span><br><span class="line">Applying: GPIO: Add Microchip CoreGPIO driver.</span><br><span class="line">Applying: ADC: Add Microchip MCP356X driver.</span><br><span class="line">error: patch failed: drivers/iio/adc/Makefile:68</span><br><span class="line">error: drivers/iio/adc/Makefile: patch does not apply</span><br><span class="line">Patch failed at 0001 ADC: Add Microchip MCP356X driver.</span><br><span class="line">hint: Use &#x27;git am --show-current-patch=diff&#x27; to see the failed patch</span><br><span class="line">When you have resolved this problem, run &quot;git am --continue&quot;.</span><br><span class="line">If you prefer to skip this patch, run &quot;git am --skip&quot; instead.</span><br><span class="line">To restore the original branch and stop patching, run &quot;git am --abort&quot;.</span><br><span class="line">fatal: previous rebase directory .git/rebase-apply still exists but mbox given.</span><br><span class="line">fatal: previous rebase directory .git/rebase-apply still exists but mbox given.</span><br><span class="line">fatal: previous rebase directory .git/rebase-apply still exists but mbox given.</span><br><span class="line">fatal: previous rebase directory .git/rebase-apply still exists but mbox given.</span><br><span class="line">fatal: previous rebase directory .git/rebase-apply still exists but mbox given.</span><br><span class="line">&#x27;../device-tree/src/microchip/mpfs-beaglev-fire.dts&#x27; -&gt; &#x27;arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dts&#x27;</span><br><span class="line">&#x27;../device-tree/src/microchip/mpfs-beaglev-fire-fabric.dtsi&#x27; -&gt; &#x27;arch/riscv/boot/dts/microchip/mpfs-beaglev-fire-fabric.dtsi&#x27;</span><br><span class="line">make ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- clean</span><br><span class="line">&#x27;../patches/linux/mpfs_defconfig&#x27; -&gt; &#x27;./arch/riscv/configs/mpfs_defconfig&#x27;</span><br><span class="line">make ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- mpfs_defconfig</span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/kconfig/conf.o</span><br><span class="line">  HOSTCC  scripts/kconfig/confdata.o</span><br><span class="line">  HOSTCC  scripts/kconfig/expr.o</span><br><span class="line">  LEX     scripts/kconfig/lexer.lex.c</span><br><span class="line">  YACC    scripts/kconfig/parser.tab.[ch]</span><br><span class="line">  HOSTCC  scripts/kconfig/lexer.lex.o</span><br><span class="line">  HOSTCC  scripts/kconfig/menu.o</span><br><span class="line">  HOSTCC  scripts/kconfig/parser.tab.o</span><br><span class="line">  HOSTCC  scripts/kconfig/preprocess.o</span><br><span class="line">  HOSTCC  scripts/kconfig/symbol.o</span><br><span class="line">  HOSTCC  scripts/kconfig/util.o</span><br><span class="line">  HOSTLD  scripts/kconfig/conf</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># configuration written to .config</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">make -j48 ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- olddefconfig</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># No change to .config</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">make -j48 ARCH=riscv CROSS_COMPILE=riscv64-linux-gnu- Image modules dtbs</span></span><br><span class="line">  SYNC    include/config/auto.conf.cmd</span><br><span class="line">  WRAP    arch/riscv/include/generated/uapi/asm/errno.h</span><br><span class="line">  WRAP    arch/riscv/include/generated/uapi/asm/fcntl.h</span><br><span class="line">  WRAP    arch/riscv/include/generated/uapi/asm/ioctls.h</span><br><span class="line">  WRAP    arch/riscv/include/generated/uapi/asm/ioctl.h</span><br><span class="line">  WRAP    arch/riscv/include/generated/uapi/asm/ipcbuf.h</span><br><span class="line">  WRAP    arch/riscv/include/generated/uapi/asm/msgbuf.h</span><br><span class="line">  WRAP    arch/riscv/include/generated/uapi/asm/mman.h</span><br><span class="line">......</span><br><span class="line">  LD [M]  net/unix/unix_diag.ko</span><br><span class="line">  LD [M]  net/vmw_vsock/vmw_vsock_virtio_transport.ko</span><br><span class="line">  LD [M]  net/vmw_vsock/vsock.ko</span><br><span class="line">  LD [M]  net/vmw_vsock/vmw_vsock_virtio_transport_common.ko</span><br><span class="line">  LD [M]  net/vmw_vsock/vsock_diag.ko</span><br><span class="line">  LD [M]  net/vmw_vsock/vsock_loopback.ko</span><br><span class="line">  LD [M]  net/wireless/cfg80211.ko</span><br><span class="line">  LD [M]  net/wireless/lib80211.ko</span><br><span class="line">  LD [M]  net/wireless/lib80211_crypt_ccmp.ko</span><br><span class="line">  LD [M]  net/wireless/lib80211_crypt_tkip.ko</span><br><span class="line">  LD [M]  net/wireless/lib80211_crypt_wep.ko</span><br><span class="line">  LD [M]  net/xdp/xsk_diag.ko</span><br><span class="line">  LD [M]  net/xfrm/xfrm_algo.ko</span><br><span class="line">  LD [M]  net/xfrm/xfrm_interface.ko</span><br><span class="line">  LD [M]  net/xfrm/xfrm_ipcomp.ko</span><br><span class="line">  LD [M]  net/xfrm/xfrm_user.ko</span><br><span class="line">  NM      .tmp_vmlinux.kallsyms2.syms</span><br><span class="line">  KSYMS   .tmp_vmlinux.kallsyms2.S</span><br><span class="line">  AS      .tmp_vmlinux.kallsyms2.S</span><br><span class="line">  LD      vmlinux</span><br><span class="line">  NM      System.map</span><br><span class="line">  SORTTAB vmlinux</span><br><span class="line">  OBJCOPY arch/riscv/boot/Image</span><br><span class="line">  Kernel: arch/riscv/boot/Image is ready</span><br><span class="line">Compressing 6.1.43-linux4microchip+fpga-2023.09-20231219+-modules.tar.gz...</span><br><span class="line">&#x27;./.config&#x27; -&gt; &#x27;../patches/linux/mpfs_defconfig&#x27;</span><br><span class="line">&#x27;./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dts&#x27; -&gt; &#x27;../patches/linux/dts/mpfs-beaglev-fire.dts&#x27;</span><br><span class="line">&#x27;./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire-fabric.dtsi&#x27; -&gt; &#x27;../patches/linux/dts/mpfs-beaglev-fire-fabric.dtsi&#x27;</span><br><span class="line">&#x27;./arch/riscv/boot/Image&#x27; -&gt; &#x27;../deploy/input/Image&#x27;</span><br><span class="line">&#x27;./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dtb&#x27; -&gt; &#x27;../deploy/input/mpfs-beaglev-fire.dtb&#x27;</span><br><span class="line">&#x27;./patches/linux/beaglev_fire.its&#x27; -&gt; &#x27;./deploy/input/beaglev_fire.its&#x27;</span><br><span class="line">FIT description: U-Boot fitImage for the BeagleV-Fire</span><br><span class="line">Created:         Tue Dec 19 12:58:17 2023</span><br><span class="line"> Image 0 (kernel)</span><br><span class="line">  Description:  Linux kernel</span><br><span class="line">  Created:      Tue Dec 19 12:58:17 2023</span><br><span class="line">  Type:         Kernel Image</span><br><span class="line">  Compression:  gzip compressed</span><br><span class="line">  Data Size:    8622322 Bytes = 8420.24 KiB = 8.22 MiB</span><br><span class="line">  Architecture: RISC-V</span><br><span class="line">  OS:           Linux</span><br><span class="line">  Load Address: 0x80200000</span><br><span class="line">  Entry Point:  0x80200000</span><br><span class="line">  Hash algo:    sha256</span><br><span class="line">  Hash value:   82f0ce932fe469cd5ea7aa4d3230f49560ed490d92ad2e9e555a488b10ae3dae</span><br><span class="line"> Image 1 (base_fdt)</span><br><span class="line">  Description:  Flattened Device Tree blob</span><br><span class="line">  Created:      Tue Dec 19 12:58:17 2023</span><br><span class="line">  Type:         Flat Device Tree</span><br><span class="line">  Compression:  uncompressed</span><br><span class="line">  Data Size:    20670 Bytes = 20.19 KiB = 0.02 MiB</span><br><span class="line">  Architecture: RISC-V</span><br><span class="line">  Load Address: 0x8a000000</span><br><span class="line">  Hash algo:    sha256</span><br><span class="line">  Hash value:   b8fcfe485d229df53d3f68d5db0372237c8754bc1e96822c4527362ce076d537</span><br><span class="line"> Default Configuration: &#x27;kernel_dtb&#x27;</span><br><span class="line"> Configuration 0 (kernel_dtb)</span><br><span class="line">  Description:  1 Linux kernel, FDT blob</span><br><span class="line">  Kernel:       kernel</span><br><span class="line">  FDT:          base_fdt</span><br><span class="line"> Configuration 1 (base_dtb)</span><br><span class="line">  Description:  Base FDT blob for BeagleV-Fire board</span><br><span class="line">  Kernel:       unavailable</span><br><span class="line">  FDT:          base_fdt</span><br></pre></td></tr></table></figure>
<h3 id="generate_payload.bin">3.2.5 <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/05_generate_payload.bin">05_generate_payload.bin</a></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./05_generate_payload.bin.sh </span><br><span class="line">Hart Software Service formatted boot image generator v0.99.37</span><br><span class="line">Copyright (c) 2021-2022 Microchip FPGA Embedded Systems Solutions.</span><br><span class="line"></span><br><span class="line">Parsing set-name</span><br><span class="line">Parsing hart entry points</span><br><span class="line">	Entry Point U54_1 is 0x80200000</span><br><span class="line">	Entry Point U54_2 is 0x80200000</span><br><span class="line">	Entry Point U54_3 is 0x80200000</span><br><span class="line">	Entry Point U54_4 is 0x80200000</span><br><span class="line">Parsing payload &gt;&gt;src.bin&lt;&lt;</span><br><span class="line">	exec_addr is 0x80200000</span><br><span class="line">	owner is 1</span><br><span class="line">	secondary is 2</span><br><span class="line">	secondary is 3</span><br><span class="line">	secondary is 4</span><br><span class="line">	priv_mode is 1</span><br><span class="line"></span><br><span class="line">Processing ELF &gt;&gt;src.bin&lt;&lt;</span><br><span class="line">&gt;&gt;src.bin&lt;&lt; is not an ELF object</span><br><span class="line"></span><br><span class="line">Processing blob &gt;&gt;src.bin&lt;&lt; - placing at 0x80200000</span><br><span class="line">lastChunk is 0, numChunks is 1</span><br><span class="line">Set-name is &gt;&gt;PolarFire-SoC-HSS::U-Boot&lt;&lt;</span><br><span class="line">Output filename is &gt;&gt;./input/payload.bin&lt;&lt;</span><br><span class="line">Outputting Payload Header</span><br><span class="line">Outputting Code/Data Chunks</span><br><span class="line">Outputting ZI Chunks</span><br><span class="line">Outputting Binary Data</span><br><span class="line">Outputting Payload Header</span><br><span class="line">Tue 19 Dec 2023 12:58:45 PM PST</span><br><span class="line">[u-boot.bin: U-Boot 2023.07.02-linux4microchip+fpga-2023.09-dirty (Dec 19 2023 - 12:53:03 -0800)]</span><br><span class="line">[src.bin:    U-Boot 2023.07.02-linux4microchip+fpga-2023.09-dirty (Dec 19 2023 - 12:53:03 -0800)]</span><br><span class="line">[payload.bin:U-Boot 2023.07.02-linux4microchip+fpga-2023.09-dirty (Dec 19 2023 - 12:53:03 -0800)]</span><br></pre></td></tr></table></figure>
<h3 id="generate_debian_console_root.sh">3.2.6 <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/06_generate_debian_console_root.sh">06_generate_debian_console_root.sh</a></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ sudo ./06_generate_debian_console_root.sh</span><br><span class="line">--2023-12-19 12:59:30--  https://rcn-ee.net/rootfs/debian-riscv64-sid-minimal/2023-12-19/debian-sid-console-riscv64-2023-12-19.tar.xz</span><br><span class="line">Resolving rcn-ee.net (rcn-ee.net)... 2606:4700:3037::ac43:8616, 2606:4700:3037::6815:5fb, 172.67.134.22, ...</span><br><span class="line">Connecting to rcn-ee.net (rcn-ee.net)|2606:4700:3037::ac43:8616|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 397978580 (380M) [application/x-xz]</span><br><span class="line">Saving to: ‘./deploy/debian-sid-console-riscv64-2023-12-19.tar.xz’</span><br><span class="line"></span><br><span class="line">debian-sid-console-riscv64-2023-12-19.tar.xz                          100%[======================================================================================================================================================================&gt;] 379.54M  86.4MB/s    in 4.7s    </span><br><span class="line"></span><br><span class="line">2023-12-19 12:59:35 (80.9 MB/s) - ‘./deploy/debian-sid-console-riscv64-2023-12-19.tar.xz’ saved [397978580/397978580]</span><br><span class="line"></span><br><span class="line">Extracting: debian-sid-console-riscv64-2023-12-19/riscv64-rootfs-*.tar</span><br><span class="line">&#x27;./deploy/boot.scr&#x27; -&gt; &#x27;deploy/input/boot.scr&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/eth0-DHCP.network&#x27; -&gt; &#x27;./ignore/.root/etc/systemd/network/eth0.network&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/eth1-DHCP.network&#x27; -&gt; &#x27;./ignore/.root/etc/systemd/network/eth1.network&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/nginx/nginx-autoindex&#x27; -&gt; &#x27;./ignore/.root/etc/nginx/sites-enabled/default&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/nginx/Cockpit.html&#x27; -&gt; &#x27;./ignore/.root/var/www/html/Cockpit.html&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/nginx/Docs-BeagleBoard.html&#x27; -&gt; &#x27;./ignore/.root/var/www/html/Docs-BeagleBoard.html&#x27;</span><br><span class="line">---------------------</span><br><span class="line">File Size</span><br><span class="line">1.4G	ignore/.root/</span><br><span class="line">---------------------</span><br><span class="line">0+0 records in</span><br><span class="line">0+0 records out</span><br><span class="line">0 bytes copied, 0.000160765 s, 0.0 kB/s</span><br><span class="line">mke2fs 1.46.5 (30-Dec-2021)</span><br><span class="line">Discarding device blocks: done                            </span><br><span class="line">Creating filesystem with 563200 4k blocks and 140832 inodes</span><br><span class="line">Filesystem UUID: 99243c2d-5c98-489f-a06f-719f691c31f1</span><br><span class="line">Superblock backups stored on blocks: </span><br><span class="line">	32768, 98304, 163840, 229376, 294912</span><br><span class="line"></span><br><span class="line">Allocating group tables: done                            </span><br><span class="line">Writing inode tables: done                            </span><br><span class="line">Creating journal (16384 blocks): done</span><br><span class="line">Copying files into the device: done</span><br><span class="line">Writing superblocks and filesystem accounting information: done  </span><br></pre></td></tr></table></figure>
<h3 id="create_sdcard_img.sh">3.2.7 <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu/-/blob/main/07_create_sdcard_img.sh">07_create_sdcard_img.sh</a></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ sudo ./07_create_sdcard_img.sh </span><br><span class="line">INFO: cmd: &quot;mkdir -p &quot;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/tmp&quot;&quot; (stderr):</span><br><span class="line">INFO: cmd: &quot;rm -rf &quot;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/tmp&quot;/*&quot; (stderr):</span><br><span class="line">INFO: cmd: &quot;mkdir -p &quot;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/tmp&quot;&quot; (stderr):</span><br><span class="line">INFO: cmd: &quot;cp -a &quot;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/root&quot; &quot;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/tmp/root&quot;&quot; (stderr):</span><br><span class="line">INFO: hdimage(sdcard.img): The option &#x27;gpt&#x27; is deprecated. Use &#x27;partition-table-type&#x27; instead</span><br><span class="line">INFO: cmd: &quot;mkdir -p &quot;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/images&quot;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;mkdosfs   &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file &#x27;beaglev_fire.itb&#x27; as &#x27;beaglev_fire.itb&#x27; ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27; &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/input/beaglev_fire.itb&#x27; &#x27;::&#x27;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file &#x27;boot.scr&#x27; as &#x27;boot.scr&#x27; ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27; &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/input/boot.scr&#x27; &#x27;::&#x27;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file &#x27;mpfs-beaglev-fire.dtb&#x27; as &#x27;mpfs-beaglev-fire.dtb&#x27; ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27; &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/input/mpfs-beaglev-fire.dtb&#x27; &#x27;::&#x27;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file &#x27;Image&#x27; as &#x27;Image&#x27; ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27; &#x27;/home/lvision/Desktop/BeagleV-Fire-ubuntu/deploy/input/Image&#x27; &#x27;::&#x27;&quot; (stderr):</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;uboot&#x27; (in MBR) from &#x27;payload.bin&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;kernel&#x27; (in MBR) from &#x27;boot.vfat&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;root&#x27; (in MBR) from &#x27;root.ext4&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;[MBR]&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;[GPT header]&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;[GPT array]&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;[GPT backup]&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): writing GPT</span><br><span class="line">INFO: hdimage(sdcard.img): writing protective MBR</span><br><span class="line">INFO: hdimage(sdcard.img): writing MBR</span><br><span class="line">bmaptool: debug: opened image &quot;./images/sdcard.img&quot;</span><br><span class="line">bmaptool: debug: block size 4096, blocks count 578750, image size 2370560000</span><br><span class="line">bmaptool: debug: FilemapFiemap: initializing</span><br><span class="line">bmaptool: debug: FilemapFiemap: block_is_mapped(0) returns True</span><br><span class="line">bmaptool: debug: FilemapFiemap: get_mapped_ranges(0,  578750(578749))</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (0, 8521)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (15545, 15833)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (15837, 15843)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (15853, 18412)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (23677, 48315)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (48589, 113851)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (114125, 179387)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (179661, 244923)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (245197, 310459)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (310733, 390634)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (539833, 539835)</span><br><span class="line">bmaptool: debug: FilemapFiemap: yielding range (578729, 578749)</span><br></pre></td></tr></table></figure>
<h3 id="flash-sd-card">3.2.8 Flash SD Card</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ll deploy/images </span><br><span class="line">total 1.5G</span><br><span class="line">-rw-r--r-- 1 root root  60M Dec 15 05:14 boot.vfat</span><br><span class="line">-rw-r--r-- 1 root root 3.5K Dec 15 05:14 sdcard.bmap</span><br><span class="line">-rw-r--r-- 1 root root 2.3G Dec 15 05:14 sdcard.img</span><br></pre></td></tr></table></figure>
<h1 id="demonstration">4. Demonstration</h1>
<h2 id="initial-look">4.1 Initial Look</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ ssh beagle@192.168.1.17</span><br><span class="line">Ubuntu 23.04</span><br><span class="line"></span><br><span class="line">BeagleBoard.org Ubuntu 23.04 Console Image 2023-10-19</span><br><span class="line">Support: https://bbb.io/debian</span><br><span class="line">default username:password is [beagle:temppwd]</span><br><span class="line"></span><br><span class="line">beagle@192.168.1.17&#x27;s password: </span><br><span class="line">Last login: Fri Dec 15 12:12:31 2023 from 192.168.1.1</span><br><span class="line">beagle@BeagleV:~$ uname -a</span><br><span class="line">Linux BeagleV 6.1.33-linux4microchip+fpga-2023.06-20231019+ #1 SMP Thu Oct 19 16:01:29 UTC 2023 riscv64 riscv64 riscv64 GNU/Linux</span><br><span class="line">beagle@BeagleV:~$ lsb_release -a</span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID:	Ubuntu</span><br><span class="line">Description:	Ubuntu 23.04</span><br><span class="line">Release:	23.04</span><br><span class="line">Codename:	lunar</span><br><span class="line">➜  ~ df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/root        15G  4.0G  9.7G  30% /</span><br><span class="line">tmpfs           771M     0  771M   0% /dev/shm</span><br><span class="line">tmpfs           309M  1.6M  307M   1% /run</span><br><span class="line">tmpfs           5.0M     0  5.0M   0% /run/lock</span><br><span class="line">/dev/mmcblk0p2   60M   33M   28M  55% /boot/firmware</span><br><span class="line">tmpfs           155M     0  155M   0% /run/user/1000</span><br></pre></td></tr></table></figure>
<h2 id="after-update-upgrade-and-installed-neofetch">4.2 After
Update-Upgrade and Installed Neofetch</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ neofetch</span><br><span class="line">            .-/+oossssoo+/-.               beagle@BeagleV </span><br><span class="line">        `:+ssssssssssssssssss+:`           -------------- </span><br><span class="line">      -+ssssssssssssssssssyyssss+-         OS: Ubuntu 23.04 riscv64 </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       Host: BeagleBoard BeagleV-Fire </span><br><span class="line">   /ssssssssssshdmmNNmmyNMMMMhssssss/      Kernel: 6.1.33-linux4microchip+fpga-2023.06-20231019+ </span><br><span class="line">  +ssssssssshmydMMMMMMMNddddyssssssss+     Uptime: 4 hours, 58 mins </span><br><span class="line"> /sssssssshNMMMyhhyyyyhmNMMMNhssssssss/    Packages: 898 (dpkg) </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Shell: zsh 5.9 </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   Terminal: /dev/pts/0 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   CPU: (4) </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   Memory: 137MiB / 1541MiB </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+</span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.                           </span><br><span class="line"> /sssssssshNMMMyhhyyyyhdNMMMNhssssssss/                            </span><br><span class="line">  +sssssssssdmydMMMMMMMMddddyssssssss+</span><br><span class="line">   /ssssssssssshdmNNNNmyNMMMMhssssss/</span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.</span><br><span class="line">      -+sssssssssssssssssyyyssss+-</span><br><span class="line">        `:+ssssssssssssssssss+:`</span><br><span class="line">            .-/+oossssoo+/-.</span><br><span class="line"></span><br><span class="line">➜  ~ </span><br></pre></td></tr></table></figure>
<h2 id="weird">4.3 Weird</h2>
<p><strong><span style="color:red">Did you find what's
weird?</span></strong> - In the above subsection <a
href="#326-06_generate_debian_console_rootsh">3.2.6</a>, I clearly used
<strong>debian rootfs</strong>. However, my <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/boards/beaglev-fire">BeagleV-Fire
Board</a> is now running <strong>Ubuntu 23.04</strong>????? - I am using
a SD card of size <strong>32G</strong>, why this one is detected as
<strong>16G ONLY</strong>?????</p>
<p>Some more investigation clearly shows that I do have 2 block
devices:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsblk</span><br><span class="line">NAME         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS</span><br><span class="line">mmcblk1      179:0    0  28.9G  0 disk </span><br><span class="line">├─mmcblk1p1  179:1    0 722.5K  0 part </span><br><span class="line">├─mmcblk1p2  179:2    0    60M  0 part </span><br><span class="line">└─mmcblk1p3  179:3    0  28.9G  0 part </span><br><span class="line">mmcblk0      179:8    0  14.6G  0 disk </span><br><span class="line">├─mmcblk0p1  179:9    0   684K  0 part </span><br><span class="line">├─mmcblk0p2  179:10   0    60M  0 part /boot/firmware</span><br><span class="line">└─mmcblk0p3  179:11   0  14.5G  0 part /</span><br><span class="line">mmcblk0boot0 179:16   0     4M  1 disk </span><br><span class="line">mmcblk0boot1 179:24   0     4M  1 disk </span><br></pre></td></tr></table></figure>
<ul>
<li><strong>mmcblk1</strong> is the SD card of size
<strong>32G</strong></li>
<li><strong>mmcblk0</strong> is the on-board <strong>eMMC</strong> of
size <strong>16G</strong></li>
</ul>
<p><strong><span style="color:red">Solution: refer to <a
target="_blank" rel="noopener" href="https://docs.beagleboard.org/latest/boards/beaglev/fire/demos-and-tutorials/flashing-board.html">Beagleboard
Official Documentation Flashing Board</a></span></strong></p>
<h2 id="finally">4.4 Finally</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">beagle@BeagleV:~$ cat /proc/cpuinfo</span><br><span class="line">processor	: 0</span><br><span class="line">hart		: 1</span><br><span class="line">isa		: rv64imafdc</span><br><span class="line">mmu		: sv39</span><br><span class="line">uarch		: sifive,u54-mc</span><br><span class="line">mvendorid	: 0x1cf</span><br><span class="line">marchid		: 0x1</span><br><span class="line">mimpid		: 0x0</span><br><span class="line"></span><br><span class="line">processor	: 1</span><br><span class="line">hart		: 2</span><br><span class="line">isa		: rv64imafdc</span><br><span class="line">mmu		: sv39</span><br><span class="line">uarch		: sifive,u54-mc</span><br><span class="line">mvendorid	: 0x1cf</span><br><span class="line">marchid		: 0x1</span><br><span class="line">mimpid		: 0x0</span><br><span class="line"></span><br><span class="line">processor	: 2</span><br><span class="line">hart		: 3</span><br><span class="line">isa		: rv64imafdc</span><br><span class="line">mmu		: sv39</span><br><span class="line">uarch		: sifive,u54-mc</span><br><span class="line">mvendorid	: 0x1cf</span><br><span class="line">marchid		: 0x1</span><br><span class="line">mimpid		: 0x0</span><br><span class="line"></span><br><span class="line">processor	: 3</span><br><span class="line">hart		: 4</span><br><span class="line">isa		: rv64imafdc</span><br><span class="line">mmu		: sv39</span><br><span class="line">uarch		: sifive,u54-mc</span><br><span class="line">mvendorid	: 0x1cf</span><br><span class="line">marchid		: 0x1</span><br><span class="line">mimpid		: 0x0</span><br><span class="line"></span><br><span class="line">beagle@BeagleV:~$ cat /proc/meminfo</span><br><span class="line">MemTotal:        1578744 kB</span><br><span class="line">MemFree:         1246916 kB</span><br><span class="line">MemAvailable:    1433180 kB</span><br><span class="line">Buffers:           12136 kB</span><br><span class="line">Cached:           181060 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:            46052 kB</span><br><span class="line">Inactive:         210292 kB</span><br><span class="line">Active(anon):       1460 kB</span><br><span class="line">Inactive(anon):    63260 kB</span><br><span class="line">Active(file):      44592 kB</span><br><span class="line">Inactive(file):   147032 kB</span><br><span class="line">Unevictable:           0 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:             0 kB</span><br><span class="line">SwapFree:              0 kB</span><br><span class="line">Zswap:                 0 kB</span><br><span class="line">Zswapped:              0 kB</span><br><span class="line">Dirty:                20 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:         63172 kB</span><br><span class="line">Mapped:            99268 kB</span><br><span class="line">Shmem:              1572 kB</span><br><span class="line">KReclaimable:      21992 kB</span><br><span class="line">Slab:              50108 kB</span><br><span class="line">SReclaimable:      21992 kB</span><br><span class="line">SUnreclaim:        28116 kB</span><br><span class="line">KernelStack:        2160 kB</span><br><span class="line">PageTables:         1892 kB</span><br><span class="line">SecPageTables:         0 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:      789372 kB</span><br><span class="line">Committed_AS:     424384 kB</span><br><span class="line">VmallocTotal:   67108864 kB</span><br><span class="line">VmallocUsed:        7684 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">Percpu:             1152 kB</span><br><span class="line">HugePages_Total:       0</span><br><span class="line">HugePages_Free:        0</span><br><span class="line">HugePages_Rsvd:        0</span><br><span class="line">HugePages_Surp:        0</span><br><span class="line">Hugepagesize:       2048 kB</span><br><span class="line">Hugetlb:               0 kB</span><br></pre></td></tr></table></figure>
<p>Clearly, this <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Single-board_computer">Single-board
computer</a> is using <a
target="_blank" rel="noopener" href="https://www.sifive.com/risc-v-core-ip">SiFive Cores</a>. That is
<strong>ALL</strong> for today. Temoparily. See you next time.</p>
<h2 id="further-demonstration">4.5 Further Demonstration</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://forum.beagleboard.org/t/beaglev-fire-microsd/36845">BeagleV-Fire
microSD</a></li>
<li><a
target="_blank" rel="noopener" href="https://forum.beagleboard.org/t/do-we-still-need-those-3-patches-for-u-boot-linux4microchip-fpga-2023-09-in-03-build-u-boot-sh/36866">Do
we still need those 3 patches for u-boot linux4microchip+fpga-2023.09 in
03_build_u-boot.sh?</a></li>
</ul>
<p>This is truly a provisional milestone:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">[  OK  ] Finished systemd-user-sessions.service - Permit User Sessions.</span><br><span class="line">[   24.197143] imx219 1-0010: failed to read chip id 219</span><br><span class="line">[   24.202314] imx219: probe of 1-0010 failed with error -5</span><br><span class="line">[   24.667023] usb0: HOST MAC 00:04:a3:d5:1a:45</span><br><span class="line">[   24.671376] usb0: MAC 00:04:a3:d5:1a:46</span><br><span class="line">[   24.680189] configfs-gadget.g_multi gadget.0: unable to autoconfigure all endpoints</span><br><span class="line">[   24.693802] udc musb-hdrc.1.auto: failed to start g_multi: -524</span><br><span class="line">[   24.699874] configfs-gadget.g_multi: probe of gadget.0 failed with error -524</span><br><span class="line">[   24.707368] UDC core: g_multi: couldn&#x27;t find an available UDC or it&#x27;s busy</span><br><span class="line">[FAILED] Failed to start bb-usb-gadgets.service - BeagleBoard.org USB gadgets.</span><br><span class="line">See &#x27;systemctl status bb-usb-gadgets.service&#x27; for details.</span><br><span class="line">[  OK  ] Finished cockpit-motd.service - Cockpit motd updater service.</span><br><span class="line">[  OK  ] Started nginx.service - A high per… server and a reverse proxy server.</span><br><span class="line">[  OK  ] Started getty@tty1.service - Getty on tty1.</span><br><span class="line">[  OK  ] Started serial-getty@ttyGS0.service - Serial Getty on ttyGS0.</span><br><span class="line">[  OK  ] Started serial-getty@ttyS0.service - Serial Getty on ttyS0.</span><br><span class="line">[  OK  ] Reached target getty.target - Login Prompts.</span><br><span class="line">[  OK  ] Finished grow_partition.service - Grow Root Partition.</span><br><span class="line"></span><br><span class="line">Debian GNU/Linux trixie/sid BeagleV ttyS0</span><br><span class="line"></span><br><span class="line">BeagleBoard.org Debian Sid Console Image 2023-12-19</span><br><span class="line">Support: https://bbb.io/debian</span><br><span class="line">default username:password is [debian:temppwd]</span><br><span class="line"></span><br><span class="line">Web console: https://BeagleV.localdomain:9090/</span><br><span class="line"></span><br><span class="line">BeagleV login: debian</span><br><span class="line">Password: </span><br><span class="line"></span><br><span class="line">The programs included with the Debian GNU/Linux system are free software;</span><br><span class="line">the exact distribution terms for each program are described in the</span><br><span class="line">individual files in /usr/share/doc/*/copyright.</span><br><span class="line"></span><br><span class="line">Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent</span><br><span class="line">permitted by applicable law.</span><br><span class="line">debian@BeagleV:~$ neofetch</span><br><span class="line">Command &#x27;neofetch&#x27; not found, but can be installed with:</span><br><span class="line">sudo apt install neofetch</span><br><span class="line">debian@BeagleV:~$ sudo apt install neofetch</span><br><span class="line">[sudo] password for debian: </span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">E: Unable to locate package neofetch</span><br><span class="line">debian@BeagleV:~$ uname -a</span><br><span class="line">Linux BeagleV 6.1.43-linux4microchip+fpga-2023.09-20231219+ #1 SMP Tue Dec 19 12:57:20 PST 2023 riscv64 GNU/Linux</span><br><span class="line">debian@BeagleV:~$ </span><br></pre></td></tr></table></figure>
<p>Now, plug in Wired connection,</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ ssh debian@192.168.1.17                                         </span><br><span class="line">The authenticity of host &#x27;192.168.1.17 (192.168.1.17)&#x27; can&#x27;t be established.</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">BeagleBoard.org Debian Sid Console Image 2023-12-19</span><br><span class="line">Support: https://bbb.io/debian</span><br><span class="line">default username:password is [debian:temppwd]</span><br><span class="line"></span><br><span class="line">debian@192.168.1.17&#x27;s password: </span><br><span class="line"></span><br><span class="line">The programs included with the Debian GNU/Linux system are free software;</span><br><span class="line">the exact distribution terms for each program are described in the</span><br><span class="line">individual files in /usr/share/doc/*/copyright.</span><br><span class="line"></span><br><span class="line">Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent</span><br><span class="line">permitted by applicable law.</span><br><span class="line">Last login: Tue Dec 19 08:27:24 2023</span><br><span class="line">debian@BeagleV:~$ sudo apt update</span><br><span class="line">[sudo] password for debian: </span><br><span class="line">Get:1 http://deb.debian.org/debian sid InRelease [198 kB]</span><br><span class="line">Get:3 http://repos.rcn-ee.com/debian-riscv64 sid InRelease [3083 B]                                                                    </span><br><span class="line">Get:2 https://debian.beagle.cc/riscv64 sid InRelease [3083 B]                                        </span><br><span class="line">Get:4 http://deb.debian.org/debian sid/main riscv64 Packages [9076 kB]</span><br><span class="line">Get:5 http://repos.rcn-ee.com/debian-riscv64 sid/main riscv64 Packages [13.0 kB]</span><br><span class="line">Get:6 https://debian.beagle.cc/riscv64 sid/main riscv64 Packages [13.0 kB]</span><br><span class="line">Get:7 http://deb.debian.org/debian sid/main riscv64 Components [4198 kB]</span><br><span class="line">Get:8 http://deb.debian.org/debian sid/main riscv64 Contents (deb) [10.3 MB]</span><br><span class="line">Get:9 http://deb.debian.org/debian sid/main all Contents (deb) [37.8 MB]</span><br><span class="line">Fetched 61.6 MB in 3min 0s (341 kB/s)</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">6 packages can be upgraded. Run &#x27;apt list --upgradable&#x27; to see them.</span><br><span class="line">debian@BeagleV:~$ apt list --upgradable</span><br><span class="line">Listing... Done</span><br><span class="line">appstream/unstable 1.0.1-2 riscv64 [upgradable from: 1.0.1-1]</span><br><span class="line">libappstream5/unstable 1.0.1-2 riscv64 [upgradable from: 1.0.1-1]</span><br><span class="line">libjs-sphinxdoc/unstable 7.2.6-3 all [upgradable from: 7.2.6-2]</span><br><span class="line">openssh-client/unstable 1:9.6p1-1 riscv64 [upgradable from: 1:9.5p1-2]</span><br><span class="line">openssh-server/unstable 1:9.6p1-1 riscv64 [upgradable from: 1:9.5p1-2]</span><br><span class="line">openssh-sftp-server/unstable 1:9.6p1-1 riscv64 [upgradable from: 1:9.5p1-2]</span><br><span class="line">debian@BeagleV:~$ sudo apt upgrade</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">Calculating upgrade... Done</span><br><span class="line">The following packages will be upgraded:</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">debian@BeagleV:~$ neofetch</span><br><span class="line">       _,met$$$$$gg.          debian@BeagleV </span><br><span class="line">    ,g$$$$$$$$$$$$$$$P.       -------------- </span><br><span class="line">  ,g$$P&quot;     &quot;&quot;&quot;Y$$.&quot;.        OS: Debian GNU/Linux trixie/sid riscv64 </span><br><span class="line"> ,$$P&#x27;              `$$$.     Host: BeagleBoard BeagleV-Fire </span><br><span class="line">&#x27;,$$P       ,ggs.     `$$b:   Kernel: 6.1.43-linux4microchip+fpga-2023.09-20231219+ </span><br><span class="line">`d$$&#x27;     ,$P&quot;&#x27;   .    $$$    Uptime: 12 mins </span><br><span class="line"><span class="meta prompt_"> $</span><span class="language-bash"><span class="variable">$P</span>      d$<span class="string">&#x27;     ,    $$P    Packages: 587 (dpkg)</span></span> </span><br><span class="line"><span class="meta prompt_"> $</span><span class="language-bash"><span class="string">$:      $$.   -    ,d$$&#x27;</span>    Shell: bash 5.2.21</span> </span><br><span class="line"><span class="meta prompt_"> $</span><span class="language-bash">$;      Y<span class="variable">$b</span>._   _,d<span class="variable">$P</span><span class="string">&#x27;      Terminal: /dev/pts/0</span></span> </span><br><span class="line"><span class="meta prompt_"> Y$</span><span class="language-bash"><span class="string">$.    `.`&quot;Y$$$$P&quot;&#x27;</span>         CPU: (4)</span> </span><br><span class="line"> `$$b      &quot;-.__              Memory: 88MiB / 1541MiB </span><br><span class="line">  `Y$$</span><br><span class="line">   `Y$$.                                              </span><br><span class="line">     `$$b.                                            </span><br><span class="line">       `Y$$b.</span><br><span class="line">          `&quot;Y$b._</span><br><span class="line">              `&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
<p><strong><span style="color:red">Bingo!!! Debian!!!
</span></strong></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2023/12/18/OperatingSystems/LinuxKenerl/riscv/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/18/OperatingSystems/LinuxKenerl/riscv/" class="post-title-link" itemprop="url">RISC-V</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-12-18 22:43:00" itemprop="dateCreated datePublished" datetime="2023-12-18T22:43:00-08:00">2023-12-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-10-17 15:48:26" itemprop="dateModified" datetime="2024-10-17T15:48:26-07:00">2024-10-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Operating-System/" itemprop="url" rel="index"><span itemprop="name">Operating System</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Operating-System/Linux-Kernel/" itemprop="url" rel="index"><span itemprop="name">Linux Kernel</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Today, I would disclose <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/RISC-V">RISC-V</a>. Let's save my
word and dive into it directly. As of today, December 18, 2023,
<strong>MOST</strong> of <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/RISC-V">RISC-V</a> chips are
designed and manufactured by Chinese companies.</p>
<h1 id="related-companies">1. Related Companies</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.andestech.com/">Andes Tech</a> - headquarter in
Taiwan</li>
<li><a target="_blank" rel="noopener" href="https://www.sifive.com/">SiFive</a> - headquarter in Santa
Clara, USA</li>
<li><a target="_blank" rel="noopener" href="https://www.starfivetech.com/">StarFive</a> - headquarter
in Shanghai, China</li>
<li><a target="_blank" rel="noopener" href="https://www.canaan.io/">Canaan</a> - headquarter in
Beijing, China</li>
<li><a target="_blank" rel="noopener" href="https://www.microchip.com/">Microchip</a> - headquarter in
Arizona, USA</li>
<li><a target="_blank" rel="noopener" href="https://www.allwinnertech.com/">All Winner Tech</a> -
headquarter in Zhuhai, China</li>
<li><a target="_blank" rel="noopener" href="https://www.t-head.cn/">T-Head</a> - headquarter in
Hangzhou, China. An <a target="_blank" rel="noopener" href="https://www.alibaba.com/">Alibaba</a>
company</li>
</ul>
<h1 id="u-boot">2. <a
target="_blank" rel="noopener" href="https://github.com/u-boot/u-boot">U-Boot</a></h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">➜  u-boot git:(master) ✗ ls arch</span><br><span class="line">arc  arm  Kconfig  Kconfig.nxp  m68k  microblaze  mips  nios2  powerpc  riscv  sandbox  sh  u-boot-elf.lds  x86  xtensa</span><br><span class="line">➜  u-boot git:(master) ✗ cd arch/riscv </span><br><span class="line">➜  riscv git:(master) ✗ ls cpu</span><br><span class="line">andesv5     cpu.c  cpu.su  fu740    jh7110    mtrap.o  start.o  u-boot.lds</span><br><span class="line">built-in.o  cpu.o  fu540   generic  Makefile  mtrap.S  start.S  u-boot-spl.lds</span><br><span class="line">➜  riscv git:(master) ✗ ls dts</span><br><span class="line">ae350_32.dts                         hifive-unmatched-a00.dts                  mpfs-icicle-kit.dts</span><br><span class="line">ae350_64.dts                         hifive-unmatched-a00-u-boot.dtsi          mpfs-icicle-kit-fabric.dtsi</span><br><span class="line">ae350-u-boot.dtsi                    jh7110.dtsi                               mpfs-icicle-kit-u-boot.dtsi</span><br><span class="line">binman.dtsi                          jh7110-starfive-visionfive-2.dtb          openpiton-riscv64.dts</span><br><span class="line">fu540-c000.dtsi                      jh7110-starfive-visionfive-2.dts          qemu-virt32.dts</span><br><span class="line">fu540-c000-u-boot.dtsi               jh7110-starfive-visionfive-2.dtsi         qemu-virt64.dts</span><br><span class="line">fu540-hifive-unleashed-a00-ddr.dtsi  jh7110-starfive-visionfive-2-u-boot.dtsi  sunxi-d1s-t113.dtsi</span><br><span class="line">fu740-c000.dtsi                      jh7110-u-boot.dtsi                        sunxi-d1-t113.dtsi</span><br><span class="line">fu740-c000-u-boot.dtsi               k210.dtsi                                 th1520.dtsi</span><br><span class="line">fu740-hifive-unmatched-a00-ddr.dtsi  k210-maix-bit.dts                         th1520-lichee-module-4a.dtsi</span><br><span class="line">hifive-unleashed-a00.dts             Makefile                                  th1520-lichee-pi-4a.dts</span><br><span class="line">hifive-unleashed-a00-u-boot.dtsi     mpfs.dtsi</span><br><span class="line">➜  riscv git:(master) ✗ </span><br></pre></td></tr></table></figure>
<h2 id="cpu">2.1 CPU</h2>
<p>Let's simple analyze all 5 folders under subfolder
<strong>cpu</strong>.</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.andestech.com/en/2022/07/20/andes-technology-risc-v-processors-reveal-outstanding-performance-and-efficiency-in-mlperf-tiny/">andesv5</a>
- designed by <a target="_blank" rel="noopener" href="https://www.andestech.com/">Andes Tech</a></li>
<li><a
target="_blank" rel="noopener" href="https://static.dev.sifive.com/FU540-C000-v1.0.pdf">fu540</a> -
designed by <a target="_blank" rel="noopener" href="https://www.sifive.com/">SiFive</a></li>
<li><a target="_blank" rel="noopener" href="https://www.sifive.com/boards/hifive-unmatched">fu740</a> -
designed by <a target="_blank" rel="noopener" href="https://www.sifive.com/">SiFive</a></li>
<li><a target="_blank" rel="noopener" href="https://www.starfivetech.com/en/site/soc">jh7110</a> -
designed by <a target="_blank" rel="noopener" href="https://www.starfivetech.com/">StarFive</a></li>
<li>generic</li>
</ul>
<h2 id="dts">2.2 DTS</h2>
<p>Let's further analyze all device trees under subfolder
<strong>dts</strong>.</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.andestech.com/en/products-solutions/andeshape-platforms/ae350-axi-based-platform-pre-integrated-with-n25f-nx25f-a25-ax25/">ae350</a>
- designed by <a target="_blank" rel="noopener" href="https://www.andestech.com/">Andes Tech</a></li>
<li><a
target="_blank" rel="noopener" href="https://static.dev.sifive.com/FU540-C000-v1.0.pdf">fu540</a> -
designed by <a target="_blank" rel="noopener" href="https://www.sifive.com/">SiFive</a></li>
<li><a target="_blank" rel="noopener" href="https://www.sifive.com/boards/hifive-unmatched">fu740</a> -
designed by <a target="_blank" rel="noopener" href="https://www.sifive.com/">SiFive</a></li>
<li><a target="_blank" rel="noopener" href="https://www.sifive.com/boards/hifive1-rev-b">hifive</a> -
designed by <a target="_blank" rel="noopener" href="https://www.sifive.com/">SiFive</a></li>
<li><a target="_blank" rel="noopener" href="https://www.starfivetech.com/en/site/soc">jh7110</a> -
designed by <a target="_blank" rel="noopener" href="https://www.starfivetech.com/">StarFive</a></li>
<li><a target="_blank" rel="noopener" href="https://www.canaan.io/product/kendryteai">k210</a> -
designed by <a target="_blank" rel="noopener" href="https://www.canaan.io/">Canaan</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.microchip.com/en-us/products/fpgas-and-plds/system-on-chip-fpgas/polarfire-soc-fpgas">mpfs</a>
- designed by <a target="_blank" rel="noopener" href="https://www.microchip.com/">Microchip</a></li>
<li><a target="_blank" rel="noopener" href="https://parallel.princeton.edu/openpiton/">openpiton</a> -
designed by <a
target="_blank" rel="noopener" href="https://parallel.princeton.edu/openpiton/">Princeton
OpenPiton</a></li>
<li><a target="_blank" rel="noopener" href="https://linux-sunxi.org/D1">sunxi</a> - designed by <a
target="_blank" rel="noopener" href="https://www.allwinnertech.com/">All Winner Tech</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.cnx-software.com/2022/10/04/alibaba-t-head-th1520-risc-v-processor-to-power-the-roma-laptop/">th1520</a>
- designed by <a target="_blank" rel="noopener" href="https://www.t-head.cn/">T-Head</a>, it's just <a
target="_blank" rel="noopener" href="https://www.t-head.cn/product/c910?lang=en">Xuantie C910</a></li>
</ul>
<h1 id="linux-kernel">3. <a target="_blank" rel="noopener" href="https://www.kernel.org">Linux
Kernel</a></h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">➜  linux ls arch</span><br><span class="line">alpha  arm    csky     ia64     loongarch  microblaze  nios2     parisc   riscv  sh     um   xtensa</span><br><span class="line">arc    arm64  hexagon  Kconfig  m68k       mips        openrisc  powerpc  s390   sparc  x86</span><br><span class="line">➜  linux cd arch/riscv </span><br><span class="line">➜  riscv ls configs</span><br><span class="line">32-bit.config  defconfig             nommu_k210_sdcard_defconfig  rv32_defconfig</span><br><span class="line">64-bit.config  nommu_k210_defconfig  nommu_virt_defconfig</span><br><span class="line">➜  riscv ls boot/dts </span><br><span class="line">allwinner  canaan  Makefile  microchip  renesas  sifive  starfive  thead</span><br></pre></td></tr></table></figure>
<h2 id="dts-1">3.1 DTS</h2>
<p>Again, let's analyze all 5 folders under subfolder
<strong>dts</strong>.</p>
<ul>
<li>allwinner - <a target="_blank" rel="noopener" href="https://www.allwinnertech.com/">All Winner
Tech</a></li>
<li>canaan - <a target="_blank" rel="noopener" href="https://www.canaan.io/">Canaan</a></li>
<li>microchip - <a target="_blank" rel="noopener" href="https://www.microchip.com/">Microchip</a></li>
<li>renesas - <a target="_blank" rel="noopener" href="https://www.renesas.com/">Renesas</a></li>
<li>sifive - <a target="_blank" rel="noopener" href="https://www.sifive.com/">SiFive</a></li>
<li>starfive - <a target="_blank" rel="noopener" href="https://www.starfivetech.com/">StarFive</a></li>
<li>thead - <a target="_blank" rel="noopener" href="https://www.t-head.cn/">T-Head</a></li>
</ul>
<p>By the way: recent <a
target="_blank" rel="noopener" href="https://store-usa.arduino.cc/pages/uno-r4?selectedStore=us">Arduino
UNO R4</a> uses a <a
target="_blank" rel="noopener" href="https://www.renesas.com/us/en/products/microcontrollers-microprocessors/ra-cortex-m-mcus/ra4m1-32-bit-microcontrollers-48mhz-arm-cortex-m4-and-lcd-controller-and-cap-touch-hmi">Renesas
RA4M1</a>, a <strong>32-bit Arm® Cortex®-M4</strong> MCU.</p>
<p><strong><span style="color:red">Conclusion: MOST of recent RISC-V
chips are supported, designed, and manufactured by
China.</span></strong></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2023/12/13/SBCs/RISC-V/VisionFive2-03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/13/SBCs/RISC-V/VisionFive2-03/" class="post-title-link" itemprop="url">VisionFive2 - 03</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-12-13 00:00:00" itemprop="dateCreated datePublished" datetime="2023-12-13T00:00:00-08:00">2023-12-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a
target="_blank" rel="noopener" href="https://www.kickstarter.com/projects/starfive/visionfive-2">VisionFive2</a>
has been talked twice recently: - <a
href="/2023/11/14/SBCs/RISC-V/VisionFive2-01/">VisionFive2 - 01</a> - <a
href="/2023/12/08/SBCs/RISC-V/VisionFive2-02/">VisionFive2 - 02</a></p>
<p>Today, we're going to follow <a
target="_blank" rel="noopener" href="https://docs.u-boot.org/en/latest/board/starfive/visionfive2.html">U-Boot
VisionFive2</a> and demonstrate the <strong>MOST up-to-date</strong> <a
target="_blank" rel="noopener" href="https://github.com/u-boot/u-boot">U-Boot</a>, <a
target="_blank" rel="noopener" href="https://www.kernel.org">Linux kernel</a>, and <a
target="_blank" rel="noopener" href="https://github.com/riscv-software-src/opensbi">OpenSBI</a>.</p>
<h1 id="building">1. Building</h1>
<h2 id="opensbi">1.1 <a
target="_blank" rel="noopener" href="https://github.com/riscv-software-src/opensbi">OpenSBI</a></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line">➜  opensbi git:(master) make PLATFORM=generic FW_TEXT_START=0x40000000 FW_OPTIONS=0</span><br><span class="line"> CC        lib/sbi/riscv_asm.o</span><br><span class="line"> CC        lib/sbi/riscv_atomic.o</span><br><span class="line"> AS        lib/sbi/riscv_hardfp.o</span><br><span class="line"> CC        lib/sbi/riscv_locks.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_exts.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_time.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_rfence.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_ipi.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_base.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_hsm.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_srst.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_susp.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_pmu.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_dbcn.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_cppc.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_legacy.o</span><br><span class="line"> CC        lib/sbi/sbi_ecall_vendor.o</span><br><span class="line"> CC        lib/sbi/sbi_bitmap.o</span><br><span class="line"> CC        lib/sbi/sbi_bitops.o</span><br><span class="line"> CC        lib/sbi/sbi_console.o</span><br><span class="line"> CC        lib/sbi/sbi_domain.o</span><br><span class="line"> CC        lib/sbi/sbi_emulate_csr.o</span><br><span class="line"> CC        lib/sbi/sbi_fifo.o</span><br><span class="line"> CC        lib/sbi/sbi_hart.o</span><br><span class="line"> CC        lib/sbi/sbi_heap.o</span><br><span class="line"> CC        lib/sbi/sbi_math.o</span><br><span class="line"> AS        lib/sbi/sbi_hfence.o</span><br><span class="line"> CC        lib/sbi/sbi_hsm.o</span><br><span class="line"> CC        lib/sbi/sbi_illegal_insn.o</span><br><span class="line"> CC        lib/sbi/sbi_init.o</span><br><span class="line"> CC        lib/sbi/sbi_ipi.o</span><br><span class="line"> CC        lib/sbi/sbi_irqchip.o</span><br><span class="line"> CC        lib/sbi/sbi_misaligned_ldst.o</span><br><span class="line"> CC        lib/sbi/sbi_platform.o</span><br><span class="line"> CC        lib/sbi/sbi_pmu.o</span><br><span class="line"> CC        lib/sbi/sbi_scratch.o</span><br><span class="line"> CC        lib/sbi/sbi_string.o</span><br><span class="line"> CC        lib/sbi/sbi_system.o</span><br><span class="line"> CC        lib/sbi/sbi_timer.o</span><br><span class="line"> CC        lib/sbi/sbi_tlb.o</span><br><span class="line"> CC        lib/sbi/sbi_trap.o</span><br><span class="line"> CC        lib/sbi/sbi_unpriv.o</span><br><span class="line"> AS        lib/sbi/sbi_expected_trap.o</span><br><span class="line"> CC        lib/sbi/sbi_cppc.o</span><br><span class="line"> AR        lib/libsbi.a</span><br><span class="line"> CC        platform/generic/lib/utils/timer/aclint_mtimer.o</span><br><span class="line"> CC        platform/generic/lib/utils/timer/andes_plmt.o</span><br><span class="line"> CC        platform/generic/lib/utils/timer/fdt_timer.o</span><br><span class="line"> CC        platform/generic/lib/utils/timer/fdt_timer_drivers.o</span><br><span class="line"> CC        platform/generic/lib/utils/timer/fdt_timer_mtimer.o</span><br><span class="line"> CC        platform/generic/lib/utils/timer/fdt_timer_plmt.o</span><br><span class="line"> CC        platform/generic/lib/utils/sys/htif.o</span><br><span class="line"> CC        platform/generic/lib/utils/sys/atcsmu.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_drivers.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_cadence.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_gaisler.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_htif.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_renesas_scif.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_shakti.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_sifive.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_litex.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_uart8250.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/fdt_serial_xlnx_uartlite.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/cadence-uart.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/gaisler-uart.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/renesas_scif.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/shakti-uart.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/sifive-uart.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/litex-uart.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/uart8250.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/xlnx-uartlite.o</span><br><span class="line"> CC        platform/generic/lib/utils/serial/semihosting.o</span><br><span class="line"> CC        platform/generic/lib/utils/reset/fdt_reset.o</span><br><span class="line"> CC        platform/generic/lib/utils/reset/fdt_reset_drivers.o</span><br><span class="line"> CC        platform/generic/lib/utils/reset/fdt_reset_atcwdt200.o</span><br><span class="line"> CC        platform/generic/lib/utils/reset/fdt_reset_gpio.o</span><br><span class="line"> CC        platform/generic/lib/utils/reset/fdt_reset_htif.o</span><br><span class="line"> CC        platform/generic/lib/utils/reset/fdt_reset_sunxi_wdt.o</span><br><span class="line"> CC        platform/generic/lib/utils/reset/fdt_reset_syscon.o</span><br><span class="line"> CC        platform/generic/lib/utils/regmap/fdt_regmap.o</span><br><span class="line"> CC        platform/generic/lib/utils/regmap/fdt_regmap_drivers.o</span><br><span class="line"> CC        platform/generic/lib/utils/regmap/fdt_regmap_syscon.o</span><br><span class="line"> CC        platform/generic/lib/utils/regmap/regmap.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt_addresses.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt_check.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt_empty_tree.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt_ro.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt_rw.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt_strerror.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt_sw.o</span><br><span class="line"> CC        platform/generic/lib/utils/libfdt/fdt_wip.o</span><br><span class="line"> CC        platform/generic/lib/utils/irqchip/fdt_irqchip.o</span><br><span class="line"> CC        platform/generic/lib/utils/irqchip/fdt_irqchip_drivers.o</span><br><span class="line"> CC        platform/generic/lib/utils/irqchip/fdt_irqchip_aplic.o</span><br><span class="line"> CC        platform/generic/lib/utils/irqchip/fdt_irqchip_imsic.o</span><br><span class="line"> CC        platform/generic/lib/utils/irqchip/fdt_irqchip_plic.o</span><br><span class="line"> CC        platform/generic/lib/utils/irqchip/aplic.o</span><br><span class="line"> CC        platform/generic/lib/utils/irqchip/imsic.o</span><br><span class="line"> CC        platform/generic/lib/utils/irqchip/plic.o</span><br><span class="line"> CC        platform/generic/lib/utils/ipi/aclint_mswi.o</span><br><span class="line"> CC        platform/generic/lib/utils/ipi/andes_plicsw.o</span><br><span class="line"> CC        platform/generic/lib/utils/ipi/fdt_ipi.o</span><br><span class="line"> CC        platform/generic/lib/utils/ipi/fdt_ipi_drivers.o</span><br><span class="line"> CC        platform/generic/lib/utils/ipi/fdt_ipi_mswi.o</span><br><span class="line"> CC        platform/generic/lib/utils/ipi/fdt_ipi_plicsw.o</span><br><span class="line"> CC        platform/generic/lib/utils/i2c/i2c.o</span><br><span class="line"> CC        platform/generic/lib/utils/i2c/fdt_i2c.o</span><br><span class="line"> CC        platform/generic/lib/utils/i2c/fdt_i2c_adapter_drivers.o</span><br><span class="line"> CC        platform/generic/lib/utils/i2c/fdt_i2c_sifive.o</span><br><span class="line"> CC        platform/generic/lib/utils/i2c/fdt_i2c_dw.o</span><br><span class="line"> CC        platform/generic/lib/utils/i2c/dw_i2c.o</span><br><span class="line"> CC        platform/generic/lib/utils/gpio/fdt_gpio.o</span><br><span class="line"> CC        platform/generic/lib/utils/gpio/fdt_gpio_drivers.o</span><br><span class="line"> CC        platform/generic/lib/utils/gpio/fdt_gpio_designware.o</span><br><span class="line"> CC        platform/generic/lib/utils/gpio/fdt_gpio_sifive.o</span><br><span class="line"> CC        platform/generic/lib/utils/gpio/fdt_gpio_starfive.o</span><br><span class="line"> CC        platform/generic/lib/utils/gpio/gpio.o</span><br><span class="line"> CC        platform/generic/lib/utils/fdt/fdt_domain.o</span><br><span class="line"> CC        platform/generic/lib/utils/fdt/fdt_pmu.o</span><br><span class="line"> CC        platform/generic/lib/utils/fdt/fdt_helper.o</span><br><span class="line"> CC        platform/generic/lib/utils/fdt/fdt_fixup.o</span><br><span class="line"> CC        platform/generic/thead/thead_c9xx_pmu.o</span><br><span class="line"> AS        platform/generic/thead/thead_c9xx_tlb_trap_handler.o</span><br><span class="line"> CC        platform/generic/thead/thead_c9xx_errata_tlb_flush.o</span><br><span class="line"> CC        platform/generic/thead/thead-generic.o</span><br><span class="line"> CC        platform/generic/starfive/jh7110.o</span><br><span class="line"> CC        platform/generic/sophgo/sg2042.o</span><br><span class="line"> CC        platform/generic/sifive/fu540.o</span><br><span class="line"> CC        platform/generic/sifive/fu740.o</span><br><span class="line"> CC        platform/generic/renesas/rzfive/rzfive.o</span><br><span class="line"> CC        platform/generic/platform.o</span><br><span class="line"> CC        platform/generic/platform_override_modules.o</span><br><span class="line"> CC        platform/generic/andes/ae350.o</span><br><span class="line"> AS        platform/generic/andes/sleep.o</span><br><span class="line"> CC        platform/generic/andes/andes45-pma.o</span><br><span class="line"> CC        platform/generic/andes/andes_sbi.o</span><br><span class="line"> CC        platform/generic/andes/andes_pmu.o</span><br><span class="line"> CC        platform/generic/allwinner/sun20i-d1.o</span><br><span class="line"> AR        platform/generic/lib/libplatsbi.a</span><br><span class="line"> AS        platform/generic/firmware/payloads/test_head.o</span><br><span class="line"> CC        platform/generic/firmware/payloads/test_main.o</span><br><span class="line"> MERGE     platform/generic/firmware/payloads/test.o</span><br><span class="line"> ELF       platform/generic/firmware/payloads/test.elf</span><br><span class="line"> OBJCOPY   platform/generic/firmware/payloads/test.bin</span><br><span class="line"> AS        platform/generic/firmware/fw_dynamic.o</span><br><span class="line"> ELF       platform/generic/firmware/fw_dynamic.elf</span><br><span class="line"> OBJCOPY   platform/generic/firmware/fw_dynamic.bin</span><br><span class="line"> AS        platform/generic/firmware/fw_jump.o</span><br><span class="line"> ELF       platform/generic/firmware/fw_jump.elf</span><br><span class="line"> OBJCOPY   platform/generic/firmware/fw_jump.bin</span><br><span class="line"> AS        platform/generic/firmware/fw_payload.o</span><br><span class="line"> ELF       platform/generic/firmware/fw_payload.elf</span><br><span class="line"> OBJCOPY   platform/generic/firmware/fw_payload.bin</span><br></pre></td></tr></table></figure>
<h2 id="u-boot">1.2 <a
target="_blank" rel="noopener" href="https://github.com/u-boot/u-boot">U-Boot</a></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">➜  u-boot git:(master) ✗ make starfive_visionfive2_defconfig</span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/kconfig/conf.o</span><br><span class="line">  YACC    scripts/kconfig/zconf.tab.c</span><br><span class="line">  LEX     scripts/kconfig/zconf.lex.c</span><br><span class="line">  HOSTCC  scripts/kconfig/zconf.tab.o</span><br><span class="line">  HOSTLD  scripts/kconfig/conf</span><br><span class="line">#</span><br><span class="line"># configuration written to .config</span><br><span class="line">#</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">➜  u-boot git:(master) ✗ make OPENSBI=$OPENSBI</span><br><span class="line">scripts/kconfig/conf  --syncconfig Kconfig</span><br><span class="line">  UPD     include/config.h</span><br><span class="line">  CFG     spl/u-boot.cfg</span><br><span class="line">  GEN     spl/include/autoconf.mk</span><br><span class="line">  CFG     u-boot.cfg</span><br><span class="line">  GEN     include/autoconf.mk</span><br><span class="line">  GEN     include/autoconf.mk.dep</span><br><span class="line">  UPD     include/generated/timestamp_autogenerated.h</span><br><span class="line">  ENVC    include/generated/env.txt</span><br><span class="line">  ENVP    include/generated/env.in</span><br><span class="line">  ENVT    include/generated/environment.h</span><br><span class="line">  CC      lib/asm-offsets.s</span><br><span class="line">  CC      arch/riscv/lib/asm-offsets.s</span><br><span class="line">  PYMOD   rebuild</span><br><span class="line">/home/lvision/Desktop/VisionFive/u-boot/scripts/dtc/pylibfdt/setup.py:40: SyntaxWarning: invalid escape sequence &#x27;\w&#x27;</span><br><span class="line">  RE_KEY_VALUE = re.compile(&#x27;(?P&lt;key&gt;\w+) *(?P&lt;plus&gt;[+])?= *(?P&lt;value&gt;.*)$&#x27;)</span><br><span class="line">  HOSTCC  scripts/dtc/dtc.o</span><br><span class="line">  HOSTCC  scripts/dtc/flattree.o</span><br><span class="line">......</span><br><span class="line">  AR      spl/drivers/spi/built-in.o</span><br><span class="line">  CC      spl/drivers/timer/timer-uclass.o</span><br><span class="line">  CC      spl/drivers/timer/riscv_timer.o</span><br><span class="line">  CC      spl/drivers/timer/riscv_aclint_timer.o</span><br><span class="line">  AR      spl/drivers/timer/built-in.o</span><br><span class="line">  AR      spl/drivers/built-in.o</span><br><span class="line">  AR      spl/dts/built-in.o</span><br><span class="line">  CC      spl/fs/fs_internal.o</span><br><span class="line">  AR      spl/fs/built-in.o</span><br><span class="line">  LDS     spl/u-boot-spl.lds</span><br><span class="line">  LD      spl/u-boot-spl</span><br><span class="line">  OBJCOPY spl/u-boot-spl-nodtb.bin</span><br><span class="line">mkdir -p spl/dts/</span><br><span class="line">  FDTGREP spl/dts/dt-spl.dtb</span><br><span class="line">  COPY    spl/u-boot-spl.dtb</span><br><span class="line">  CAT     spl/u-boot-spl-dtb.bin</span><br><span class="line">  COPY    spl/u-boot-spl.bin</span><br><span class="line">  SYM     spl/u-boot-spl.sym</span><br><span class="line">  MKIMAGE u-boot.img</span><br><span class="line">  COPY    u-boot.dtb</span><br><span class="line">  MKIMAGE u-boot-dtb.img</span><br><span class="line">  BINMAN  .binman_stamp</span><br><span class="line">  OFCHK   .config</span><br><span class="line">➜  u-boot git:(master) ✗ </span><br></pre></td></tr></table></figure>
<h2 id="linux-kernel">1.3 <a target="_blank" rel="noopener" href="https://www.kernel.org">Linux
Kernel</a></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">➜  linux make defconfig</span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/kconfig/conf.o</span><br><span class="line">  HOSTCC  scripts/kconfig/confdata.o</span><br><span class="line">  HOSTCC  scripts/kconfig/expr.o</span><br><span class="line">  LEX     scripts/kconfig/lexer.lex.c</span><br><span class="line">  YACC    scripts/kconfig/parser.tab.[ch]</span><br><span class="line">  HOSTCC  scripts/kconfig/lexer.lex.o</span><br><span class="line">  HOSTCC  scripts/kconfig/menu.o</span><br><span class="line">  HOSTCC  scripts/kconfig/parser.tab.o</span><br><span class="line">  HOSTCC  scripts/kconfig/preprocess.o</span><br><span class="line">  HOSTCC  scripts/kconfig/symbol.o</span><br><span class="line">  HOSTCC  scripts/kconfig/util.o</span><br><span class="line">  HOSTLD  scripts/kconfig/conf</span><br><span class="line">*** Default configuration is based on &#x27;defconfig&#x27;</span><br><span class="line">#</span><br><span class="line"># No change to .config</span><br><span class="line">#</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">➜  linux make menuconfig</span><br><span class="line">  HOSTCC  scripts/kconfig/mconf.o</span><br><span class="line">  HOSTCC  scripts/kconfig/lxdialog/checklist.o</span><br><span class="line">  HOSTCC  scripts/kconfig/lxdialog/inputbox.o</span><br><span class="line">  HOSTCC  scripts/kconfig/lxdialog/menubox.o</span><br><span class="line">  HOSTCC  scripts/kconfig/lxdialog/textbox.o</span><br><span class="line">  HOSTCC  scripts/kconfig/lxdialog/util.o</span><br><span class="line">  HOSTCC  scripts/kconfig/lxdialog/yesno.o</span><br><span class="line">  HOSTLD  scripts/kconfig/mconf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*** End of the configuration.</span><br><span class="line">*** Execute &#x27;make&#x27; to start the build or try &#x27;make help&#x27;.</span><br></pre></td></tr></table></figure>
<p>By configuring <strong>menuconfig</strong>, we ignore building
<strong>ALL other</strong> SoCs but tick <strong>VisionFive
ONLY</strong>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">➜  linux make -j16</span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/dtc/flattree.o</span><br><span class="line">  HOSTCC  scripts/dtc/dtc.o</span><br><span class="line">  HOSTCC  scripts/dtc/fstree.o</span><br><span class="line">  HOSTCC  scripts/dtc/livetree.o</span><br><span class="line">  HOSTCC  scripts/dtc/data.o</span><br><span class="line">  HOSTCC  scripts/dtc/treesource.o</span><br><span class="line">  HOSTCC  scripts/dtc/srcpos.o</span><br><span class="line">  HOSTCC  scripts/dtc/util.o</span><br><span class="line">  HOSTCC  scripts/dtc/checks.o</span><br><span class="line">  YACC    scripts/dtc/dtc-parser.tab.[ch]</span><br><span class="line">  LEX     scripts/dtc/dtc-lexer.lex.c</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt.o</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt_ro.o</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt_wip.o</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt_sw.o</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt_rw.o</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt_strerror.o</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt_empty_tree.o</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt_addresses.o</span><br><span class="line">  HOSTCC  scripts/dtc/libfdt/fdt_overlay.o</span><br><span class="line">  HOSTCC  scripts/dtc/fdtoverlay.o</span><br><span class="line">  HOSTCC  scripts/dtc/dtc-lexer.lex.o</span><br><span class="line">  HOSTCC  scripts/dtc/dtc-parser.tab.o</span><br><span class="line">  HOSTLD  scripts/dtc/fdtoverlay</span><br><span class="line">  HOSTLD  scripts/dtc/dtc</span><br><span class="line">......</span><br><span class="line">  LD [M]  net/8021q/8021q.ko</span><br><span class="line">  LD [M]  net/bridge/br_netfilter.ko</span><br><span class="line">  LD [M]  net/llc/llc.ko</span><br><span class="line">  LD [M]  net/bridge/bridge.ko</span><br><span class="line">  NM      .tmp_vmlinux.kallsyms1.syms</span><br><span class="line">  KSYMS   .tmp_vmlinux.kallsyms1.S</span><br><span class="line">  AS      .tmp_vmlinux.kallsyms1.S</span><br><span class="line">  LD      .tmp_vmlinux.kallsyms2</span><br><span class="line">  NM      .tmp_vmlinux.kallsyms2.syms</span><br><span class="line">  KSYMS   .tmp_vmlinux.kallsyms2.S</span><br><span class="line">  AS      .tmp_vmlinux.kallsyms2.S</span><br><span class="line">  LD      vmlinux</span><br><span class="line">  NM      System.map</span><br><span class="line">  SORTTAB vmlinux</span><br><span class="line">  OBJCOPY arch/riscv/boot/Image</span><br><span class="line">  GZIP    arch/riscv/boot/Image.gz</span><br><span class="line">  Kernel: arch/riscv/boot/Image.gz is ready</span><br></pre></td></tr></table></figure>
<h2 id="busybox">1.4 <a target="_blank" rel="noopener" href="https://busybox.net/">Busybox</a></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">➜  busybox make CROSS_COMPILE=riscv64-linux-gnu- ARCH=riscv defconfig</span><br><span class="line">scripts/kconfig/conf -d Config.in</span><br><span class="line">*</span><br><span class="line">* Busybox Configuration</span><br><span class="line">*</span><br><span class="line">*</span><br><span class="line">* Settings</span><br><span class="line">*</span><br><span class="line">Enable compatibility for full-blown desktop systems (8kb) (DESKTOP) [Y/n/?] (NEW) y</span><br><span class="line">Provide compatible behavior for rare corner cases (bigger code) (EXTRA_COMPAT) [N/y/?] (NEW) n</span><br><span class="line">Building for Fedora distribution (FEDORA_COMPAT) [N/y/?] (NEW) n</span><br><span class="line">Enable obsolete features removed before SUSv3 (INCLUDE_SUSv2) [Y/n/?] (NEW) y</span><br><span class="line">Support --long-options (LONG_OPTS) [Y/?] (NEW) y</span><br><span class="line">Show applet usage messages (SHOW_USAGE) [Y/n/?] (NEW) y</span><br><span class="line">  Show verbose applet usage messages (FEATURE_VERBOSE_USAGE) [Y/n/?] (NEW) y</span><br><span class="line">  Store applet usage messages in compressed form (FEATURE_COMPRESS_USAGE) [Y/n/?] (NEW) y</span><br><span class="line">Support files &gt; 2 GB (LFS) [Y/n/?] (NEW) y</span><br><span class="line">  Support 64bit wide time types (TIME64) [Y/n/?] (NEW) y</span><br><span class="line">Support PAM (Pluggable Authentication Modules) (PAM) [N/y/?] (NEW) n</span><br><span class="line">Use the devpts filesystem for Unix98 PTYs (FEATURE_DEVPTS) [Y/n/?] (NEW) y</span><br><span class="line">Support utmp file (FEATURE_UTMP) [Y/n/?] (NEW) y</span><br><span class="line">  Support wtmp file (FEATURE_WTMP) [Y/n/?] (NEW) y</span><br><span class="line">Support writing pidfiles (FEATURE_PIDFILE) [Y/n/?] (NEW) y</span><br><span class="line">  Directory for pidfiles (PID_FILE_PATH) [/var/run] (NEW) /var/run</span><br><span class="line">Include busybox applet (BUSYBOX) [Y/n/?] (NEW) y</span><br><span class="line">  Support --show SCRIPT (FEATURE_SHOW_SCRIPT) [Y/n] (NEW) y</span><br><span class="line">  Support --install [-s] to install applet links at runtime (FEATURE_INSTALLER) [Y/n/?] (NEW) y</span><br><span class="line">Don&#x27;t use /usr (INSTALL_NO_USR) [N/y/?] (NEW) n</span><br><span class="line">Drop SUID state for most applets (FEATURE_SUID) [Y/n/?] (NEW) y</span><br><span class="line">  Enable SUID configuration via /etc/busybox.conf (FEATURE_SUID_CONFIG) [Y/n/?] (NEW) y</span><br><span class="line">    Suppress warning message if /etc/busybox.conf is not readable (FEATURE_SUID_CONFIG_QUIET) [Y/n/?] (NEW) y</span><br><span class="line">exec prefers applets (FEATURE_PREFER_APPLETS) [N/y/?] (NEW) n</span><br><span class="line">Path to busybox executable (BUSYBOX_EXEC_PATH) [/proc/self/exe] (NEW) /proc/self/exe</span><br><span class="line">Support NSA Security Enhanced Linux (SELINUX) [N/y/?] (NEW) n</span><br><span class="line">Clean up all memory before exiting (usually not needed) (FEATURE_CLEAN_UP) [N/y/?] (NEW) n</span><br><span class="line">Support LOG_INFO level syslog messages (FEATURE_SYSLOG_INFO) [Y/n/?] (NEW) y</span><br><span class="line">*</span><br><span class="line">*</span><br><span class="line">* Build Options</span><br><span class="line">*</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">*</span><br><span class="line">* Options common to all shells</span><br><span class="line">*</span><br><span class="line">POSIX math support (FEATURE_SH_MATH) [Y/n/?] (NEW) y</span><br><span class="line">  Extend POSIX math support to 64 bit (FEATURE_SH_MATH_64) [Y/n/?] (NEW) y</span><br><span class="line">  Support BASE#nnnn literals (FEATURE_SH_MATH_BASE) [Y/n] (NEW) y</span><br><span class="line">Hide message on interactive shell startup (FEATURE_SH_EXTRA_QUIET) [Y/n/?] (NEW) y</span><br><span class="line">Standalone shell (FEATURE_SH_STANDALONE) [N/y/?] (NEW) n</span><br><span class="line">Run &#x27;nofork&#x27; applets directly (FEATURE_SH_NOFORK) [N/y/?] (NEW) n</span><br><span class="line">read -t N.NNN support (+110 bytes) (FEATURE_SH_READ_FRAC) [Y/n/?] (NEW) y</span><br><span class="line">Use $HISTFILESIZE (FEATURE_SH_HISTFILESIZE) [Y/n/?] (NEW) y</span><br><span class="line">Embed scripts in the binary (FEATURE_SH_EMBEDDED_SCRIPTS) [Y/n/?] (NEW) y</span><br><span class="line">*</span><br><span class="line">* System Logging Utilities</span><br><span class="line">*</span><br><span class="line">klogd (6.2 kb) (KLOGD) [Y/n/?] (NEW) y</span><br><span class="line">  *</span><br><span class="line">  * klogd should not be used together with syslog to kernel printk buffer</span><br><span class="line">  *</span><br><span class="line">  Use the klogctl() interface (FEATURE_KLOGD_KLOGCTL) [Y/n/?] (NEW) y</span><br><span class="line">logger (6.5 kb) (LOGGER) [Y/n/?] (NEW) y</span><br><span class="line">logread (5 kb) (LOGREAD) [Y/n/?] (NEW) y</span><br><span class="line">  Double buffering (FEATURE_LOGREAD_REDUCED_LOCKING) [Y/n/?] (NEW) y</span><br><span class="line">syslogd (14 kb) (SYSLOGD) [Y/n/?] (NEW) y</span><br><span class="line">  Rotate message files (FEATURE_ROTATE_LOGFILE) [Y/n/?] (NEW) y</span><br><span class="line">  Remote Log support (FEATURE_REMOTE_LOG) [Y/n/?] (NEW) y</span><br><span class="line">  Support -D (drop dups) option (FEATURE_SYSLOGD_DUP) [Y/n/?] (NEW) y</span><br><span class="line">  Support syslog.conf (FEATURE_SYSLOGD_CFG) [Y/n/?] (NEW) y</span><br><span class="line">  Include milliseconds in timestamps (FEATURE_SYSLOGD_PRECISE_TIMESTAMPS) [N/y/?] (NEW) n</span><br><span class="line">  Read buffer size in bytes (FEATURE_SYSLOGD_READ_BUFFER_SIZE) [256] (NEW) 256</span><br><span class="line">  Circular Buffer support (FEATURE_IPC_SYSLOG) [Y/n/?] (NEW) y</span><br><span class="line">    Circular buffer size in Kbytes (minimum 4KB) (FEATURE_IPC_SYSLOG_BUFFER_SIZE) [16] (NEW) 16</span><br><span class="line">  Linux kernel printk buffer support (FEATURE_KMSG_SYSLOG) [Y/n/?] (NEW) y</span><br><span class="line">➜  busybox </span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">➜  busybox make CROSS_COMPILE=riscv64-linux-gnu- ARCH=riscv menuconfig</span><br><span class="line">scripts/kconfig/mconf Config.in</span><br><span class="line">#</span><br><span class="line"># using defaults found in .config</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*** End of configuration.</span><br><span class="line">*** Execute &#x27;make&#x27; to build the project or try &#x27;make help&#x27;.</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">➜  busybox make CROSS_COMPILE=riscv64-linux-gnu- ARCH=riscv -j8       </span><br><span class="line">  LD      archival/built-in.o</span><br><span class="line">  CC      archival/bzip2.o</span><br><span class="line">  CC      archival/bbunzip.o</span><br><span class="line">  CC      archival/chksum_and_xwrite_tar_header.o</span><br><span class="line">  CC      archival/dpkg.o</span><br><span class="line">  CC      archival/cpio.o</span><br><span class="line">  CC      archival/dpkg_deb.o</span><br><span class="line">  LD      archival/libarchive/built-in.o</span><br><span class="line">  CC      archival/gzip.o</span><br><span class="line">  CC      archival/libarchive/common.o</span><br><span class="line">  CC      archival/lzop.o</span><br><span class="line">  CC      archival/libarchive/data_align.o</span><br><span class="line">  LD      console-tools/built-in.o</span><br><span class="line">  CC      console-tools/chvt.o</span><br><span class="line">  CC      console-tools/clear.o</span><br><span class="line">  CC      console-tools/deallocvt.o</span><br><span class="line">  CC      archival/libarchive/data_extract_all.o</span><br><span class="line">  LD      coreutils/built-in.o</span><br><span class="line">  CC      coreutils/basename.o</span><br><span class="line">  CC      coreutils/cat.o</span><br><span class="line">  CC      console-tools/dumpkmap.o</span><br><span class="line">archival/libarchive/data_extract_all.c: In function ‘data_extract_all’:</span><br><span class="line">archival/libarchive/data_extract_all.c:235:25: warning: ignoring return value of ‘chown’ declared with attribute ‘warn_unused_result’ [-Wunused-result]</span><br><span class="line">  235 |                         chown(dst_name, uid, gid);</span><br><span class="line">      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">  LD      coreutils/libcoreutils/built-in.o</span><br><span class="line">  CC      archival/libarchive/data_extract_to_command.o</span><br><span class="line">  CC      archival/libarchive/data_extract_to_stdout.o</span><br><span class="line">  CC      coreutils/libcoreutils/cp_mv_stat.o</span><br><span class="line">  LD      debianutils/built-in.o</span><br><span class="line">  CC      debianutils/pipe_progress.o</span><br><span class="line">console-tools/dumpkmap.c: In function ‘dumpkmap_main’:</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">  CC      libbb/verror_msg.o</span><br><span class="line">util-linux/mkfs_minix.c: In function ‘get_list_blocks’:</span><br><span class="line">util-linux/mkfs_minix.c:532:17: warning: ignoring return value of ‘fscanf’ declared with attribute ‘warn_unused_result’ [-Wunused-result]</span><br><span class="line">  532 |                 fscanf(listfile, &quot;%lu\n&quot;, &amp;blockno);</span><br><span class="line">      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">  CC      libbb/vfork_daemon_rexec.o</span><br><span class="line">  CC      libbb/warn_ignoring_args.o</span><br><span class="line">  CC      util-linux/mkswap.o</span><br><span class="line">  CC      util-linux/more.o</span><br><span class="line">  CC      libbb/wfopen.o</span><br><span class="line">  CC      util-linux/mount.o</span><br><span class="line">  CC      libbb/wfopen_input.o</span><br><span class="line">  CC      libbb/write.o</span><br><span class="line">  CC      util-linux/mountpoint.o</span><br><span class="line">  CC      libbb/xatonum.o</span><br><span class="line">  CC      util-linux/nsenter.o</span><br><span class="line">  CC      util-linux/pivot_root.o</span><br><span class="line">  CC      util-linux/rdate.o</span><br><span class="line">  CC      libbb/xconnect.o</span><br><span class="line">  CC      util-linux/rdev.o</span><br><span class="line">  CC      libbb/xfunc_die.o</span><br><span class="line">  CC      util-linux/readprofile.o</span><br><span class="line">  CC      libbb/xfuncs.o</span><br><span class="line">  CC      util-linux/renice.o</span><br><span class="line">  CC      libbb/xfuncs_printf.o</span><br><span class="line">  CC      util-linux/rev.o</span><br><span class="line">  CC      libbb/xgetcwd.o</span><br><span class="line">  CC      util-linux/rtcwake.o</span><br><span class="line">  CC      util-linux/script.o</span><br><span class="line">  CC      libbb/xgethostbyname.o</span><br><span class="line">  CC      libbb/xreadlink.o</span><br><span class="line">  CC      libbb/xrealloc_vector.o</span><br><span class="line">  CC      util-linux/scriptreplay.o</span><br><span class="line">  CC      util-linux/setarch.o</span><br><span class="line">  CC      libbb/xregcomp.o</span><br><span class="line">  CC      util-linux/setpriv.o</span><br><span class="line">  CC      util-linux/setsid.o</span><br><span class="line">  CC      util-linux/swaponoff.o</span><br><span class="line">  CC      util-linux/switch_root.o</span><br><span class="line">  CC      util-linux/taskset.o</span><br><span class="line">  CC      util-linux/uevent.o</span><br><span class="line">  CC      util-linux/umount.o</span><br><span class="line">  AR      libbb/lib.a</span><br><span class="line">  CC      util-linux/unshare.o</span><br><span class="line">  CC      util-linux/wall.o</span><br><span class="line">util-linux/unshare.c: In function ‘unshare_main’:</span><br><span class="line">util-linux/unshare.c:295:25: warning: ignoring return value of ‘read’ declared with attribute ‘warn_unused_result’ [-Wunused-result]</span><br><span class="line">  295 |                         read(fdp.rd, ns_ctx_list, 1); /* ...using bogus buffer */</span><br><span class="line">      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br><span class="line">  AR      util-linux/lib.a</span><br><span class="line">  LINK    busybox_unstripped</span><br><span class="line">Trying libraries: m resolv rt</span><br><span class="line"> Library m is needed, can&#x27;t exclude it (yet)</span><br><span class="line"> Library resolv is needed, can&#x27;t exclude it (yet)</span><br><span class="line"> Library rt is not needed, excluding it</span><br><span class="line"> Library m is needed, can&#x27;t exclude it (yet)</span><br><span class="line"> Library resolv is needed, can&#x27;t exclude it (yet)</span><br><span class="line">Final link with: m resolv</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">➜  busybox make CONFIG_PREFIX=./../busybox_rootfs install</span><br><span class="line">  ./../busybox_rootfs//bin/arch -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/ash -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/base32 -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/base64 -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/cat -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/chattr -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/chgrp -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/chmod -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/chown -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/conspy -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/cp -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/cpio -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/cttyhack -&gt; busybox</span><br><span class="line">  ./../busybox_rootfs//bin/date -&gt; busybox</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">  ./../busybox_rootfs//usr/sbin/ubirmvol -&gt; ../../bin/busybox</span><br><span class="line">  ./../busybox_rootfs//usr/sbin/ubirsvol -&gt; ../../bin/busybox</span><br><span class="line">  ./../busybox_rootfs//usr/sbin/ubiupdatevol -&gt; ../../bin/busybox</span><br><span class="line">  ./../busybox_rootfs//usr/sbin/udhcpd -&gt; ../../bin/busybox</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--------------------------------------------------</span><br><span class="line">You will probably need to make your busybox binary</span><br><span class="line">setuid root to ensure all configured applets will</span><br><span class="line">work properly.</span><br><span class="line">--------------------------------------------------</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">➜  busybox mkdir -p initramfs/&#123;bin,dev,etc,home,mnt,proc,sys,usr&#125;</span><br><span class="line">➜  busybox cd initramfs/dev</span><br><span class="line">➜  dev sudo mknod sda b 8 0 </span><br><span class="line">[sudo] password for lvision: </span><br><span class="line">mknod: sda: File exists</span><br><span class="line">➜  dev sudo mknod console c 5 1</span><br><span class="line">mknod: console: File exists</span><br><span class="line">➜  dev cd ..</span><br><span class="line">➜  initramfs cp -r ../../busybox_rootfs/* ./</span><br><span class="line">➜  initramfs ll</span><br><span class="line">total 2.3M</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:59 bin</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:57 dev</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 etc</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 home</span><br><span class="line">-rwxrwxr-x 1 lvision lvision   73 Dec 16 03:00 init</span><br><span class="line">lrwxrwxrwx 1 lvision lvision   11 Dec 16 02:59 linuxrc -&gt; bin/busybox</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 mnt</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 proc</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:59 sbin</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 sys</span><br><span class="line">drwxrwxr-x 4 lvision lvision 4.0K Dec 16 02:59 usr</span><br><span class="line">➜  initramfs </span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  initramfs vim init</span><br></pre></td></tr></table></figure>
<p>and put</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">mount -t proc none /proc</span><br><span class="line">mount -t sysfs none /sys</span><br><span class="line">exec /bin/sh</span><br></pre></td></tr></table></figure>
<p>in file <strong>init</strong>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">➜  initramfs cat init </span><br><span class="line">#!/bin/sh</span><br><span class="line">mount -t proc none /proc</span><br><span class="line">mount -t sysfs none /sys</span><br><span class="line">exec /bin/sh</span><br><span class="line">➜  initramfs chmod +x init </span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">➜  initramfs find . -print0 | cpio --null -ov --format=newc &gt; initramfs.cpio </span><br><span class="line">.</span><br><span class="line">./etc</span><br><span class="line">./init</span><br><span class="line">./busybox_rootfs</span><br><span class="line">./busybox_rootfs/bin</span><br><span class="line">./busybox_rootfs/bin/cpio</span><br><span class="line">./busybox_rootfs/bin/ln</span><br><span class="line">./busybox_rootfs/bin/su</span><br><span class="line">./busybox_rootfs/bin/pwd</span><br><span class="line">./busybox_rootfs/bin/gzip</span><br><span class="line">./busybox_rootfs/bin/link</span><br><span class="line">./busybox_rootfs/bin/lzop</span><br><span class="line">./busybox_rootfs/bin/nice</span><br><span class="line">./busybox_rootfs/bin/makemime</span><br><span class="line">./busybox_rootfs/bin/fatattr</span><br><span class="line">./busybox_rootfs/bin/busybox</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">./usr/sbin/sendmail</span><br><span class="line">./usr/sbin/rtcwake</span><br><span class="line">./usr/sbin/ftpd</span><br><span class="line">./usr/sbin/adduser</span><br><span class="line">./usr/sbin/nbd-client</span><br><span class="line">./usr/sbin/dhcprelay</span><br><span class="line">./usr/sbin/brctl</span><br><span class="line">./usr/sbin/mim</span><br><span class="line">./usr/sbin/udhcpd</span><br><span class="line">./usr/sbin/nologin</span><br><span class="line">./usr/sbin/ubidetach</span><br><span class="line">./usr/sbin/addgroup</span><br><span class="line">./usr/sbin/fdformat</span><br><span class="line">./usr/sbin/crond</span><br><span class="line">./sys</span><br><span class="line">11511 blocks</span><br><span class="line">➜  initramfs gzip ./initramfs.cpio</span><br><span class="line">➜  initramfs ll</span><br><span class="line">total 1.4M</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 03:58 bin</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:57 dev</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 etc</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 home</span><br><span class="line">-rwxrwxr-x 1 lvision lvision   73 Dec 16 03:55 init</span><br><span class="line">-rw-rw-r-- 1 lvision lvision 1.4M Dec 16 04:01 initramfs.cpio.gz</span><br><span class="line">lrwxrwxrwx 1 lvision lvision   11 Dec 16 03:58 linuxrc -&gt; bin/busybox</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 mnt</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 proc</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 03:58 sbin</span><br><span class="line">drwxrwxr-x 2 lvision lvision 4.0K Dec 16 02:56 sys</span><br><span class="line">drwxrwxr-x 4 lvision lvision 4.0K Dec 16 02:59 usr</span><br></pre></td></tr></table></figure>
<h1 id="flashing">2. Flashing</h1>
<h2 id="prepare-sd-disk">2.1 Prepare SD Disk</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">➜  VisionFive sudo sgdisk --clear \</span><br><span class="line">  --set-alignment=2 \</span><br><span class="line">  --new=1:4096:8191 --change-name=1:spl --typecode=1:2E54B353-1271-4842-806F-E436D6AF6985\</span><br><span class="line">  --new=2:8192:16383 --change-name=2:uboot --typecode=2:BC13C2FF-59E6-4262-A352-B275FD6F7172  \</span><br><span class="line">  --new=3:16384:1654784 --change-name=3:system --typecode=3:EBD0A0A2-B9E5-4433-87C0-68B6B72699C7 \</span><br><span class="line">  /dev/sdb</span><br><span class="line"></span><br><span class="line">Setting name!</span><br><span class="line">partNum is 0</span><br><span class="line">Setting name!</span><br><span class="line">partNum is 1</span><br><span class="line">Setting name!</span><br><span class="line">partNum is 2</span><br><span class="line">The operation has completed successfully.</span><br></pre></td></tr></table></figure>
<h2 id="flash-the-sd-card">2.2 Flash the SD Card</h2>
<p>Including <strong>ALL</strong> the above, say: - <a
target="_blank" rel="noopener" href="https://github.com/u-boot/u-boot">U-Boot</a> - <a
target="_blank" rel="noopener" href="https://www.kernel.org">Linux Kernel</a> - <a
target="_blank" rel="noopener" href="https://busybox.net/">Busybox</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">➜  VisionFive sudo dd if=./u-boot/spl/u-boot-spl.bin.normal.out of=/dev/sdb1</span><br><span class="line">275+1 records in</span><br><span class="line">275+1 records out</span><br><span class="line">140919 bytes (141 kB, 138 KiB) copied, 0.111194 s, 1.3 MB/s</span><br><span class="line">➜  VisionFive sudo dd if=./u-boot/u-boot.itb of=/dev/sdb2</span><br><span class="line">1994+1 records in</span><br><span class="line">1994+1 records out</span><br><span class="line">1020947 bytes (1.0 MB, 997 KiB) copied, 0.0101341 s, 101 MB/s</span><br><span class="line">➜  VisionFive sudo mount /dev/sdb3 /mnt/</span><br><span class="line">➜  VisionFive sudo cp ./u-boot/spl/u-boot-spl.bin.normal.out /mnt</span><br><span class="line">➜  VisionFive sudo cp ./u-boot/u-boot.itb /mnt</span><br><span class="line">➜  VisionFive sudo cp ./linux/arch/riscv/boot/Image.gz /mnt</span><br><span class="line">➜  VisionFive sudo cp ./busybox/initramfs/initramfs.cpio.gz /mnt</span><br><span class="line">➜  VisionFive sudo cp ./linux/arch/riscv/boot/dts/starfive/jh7110-starfive-visionfive-2-v1.3b.dtb /mnt</span><br></pre></td></tr></table></figure>
<p>Then, we take a look at our built system currently under folder
<code>/mnt</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">➜  VisionFive ll /mnt</span><br><span class="line">total 9.2M</span><br><span class="line">lrwxrwxrwx  1 root root    7 Dec 15 00:10 bin -&gt; usr/bin</span><br><span class="line">drwxr-xr-x  3 root root 4.0K Dec 15 03:38 boot</span><br><span class="line">drwxr-xr-x  4 root root 4.0K Dec 15 00:10 dev</span><br><span class="line">drwxr-xr-x 84 root root 4.0K Dec 15 00:26 etc</span><br><span class="line">drwxr-xr-x  3 root root 4.0K Dec 15 00:26 home</span><br><span class="line">-rw-r--r--  1 root root 6.6M Dec 16 04:12 Image.gz</span><br><span class="line">-rw-r--r--  1 root root 1.4M Dec 16 04:13 initramfs.cpio.gz</span><br><span class="line">-rw-r--r--  1 root root  30K Dec 16 04:14 jh7110-starfive-visionfive-2-v1.3b.dtb</span><br><span class="line">lrwxrwxrwx  1 root root    7 Dec 15 00:10 lib -&gt; usr/lib</span><br><span class="line">drwx------  2 root root  16K Dec 15 03:38 lost+found</span><br><span class="line">drwxr-xr-x  2 root root 4.0K Dec 15 00:10 media</span><br><span class="line">drwxr-xr-x  2 root root 4.0K Dec 15 00:10 mnt</span><br><span class="line">drwxr-xr-x  3 root root 4.0K Dec 15 00:26 opt</span><br><span class="line">drwxr-xr-x  2 root root 4.0K Jul 27 22:43 proc</span><br><span class="line">drwx------  3 root root 4.0K Dec 15 00:12 root</span><br><span class="line">drwxr-xr-x  2 root root 4.0K Jul 27 22:43 run</span><br><span class="line">lrwxrwxrwx  1 root root    8 Dec 15 00:10 sbin -&gt; usr/sbin</span><br><span class="line">drwxr-xr-x  2 root root 4.0K Dec 15 00:10 srv</span><br><span class="line">drwxr-xr-x  2 root root 4.0K Jul 27 22:43 sys</span><br><span class="line">drwxrwxrwt  2 root root 4.0K Dec 15 00:25 tmp</span><br><span class="line">-rw-r--r--  1 root root 998K Dec 16 04:11 u-boot.itb</span><br><span class="line">-rw-r--r--  1 root root 138K Dec 16 04:11 u-boot-spl.bin.normal.out</span><br><span class="line">drwxr-xr-x 11 root root 4.0K Dec 15 00:10 usr</span><br><span class="line">drwxr-xr-x 12 root root 4.0K Dec 15 00:21 var</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2023/12/08/SBCs/RISC-V/VisionFive2-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/08/SBCs/RISC-V/VisionFive2-02/" class="post-title-link" itemprop="url">VisionFive2 - 02</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-12-08 00:00:00" itemprop="dateCreated datePublished" datetime="2023-12-08T00:00:00-08:00">2023-12-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>In my <a href="/2023/11/14/SBCs/RISC-V/VisionFive2-01/">previous
post</a>, <a
target="_blank" rel="noopener" href="https://www.kickstarter.com/projects/starfive/visionfive-2">VisionFive2</a>
was briefly introduced and demonstrated. Today, we're going to follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a> and build a customized <a
target="_blank" rel="noopener" href="http://deb.debian.org/debian/dists/">Debian Distro</a> for <a
target="_blank" rel="noopener" href="https://www.kickstarter.com/projects/starfive/visionfive-2">VisionFive2</a>.</p>
<h1 id="build-linux-and-driver">1. Build Linux and Driver</h1>
<h2 id="build-linux-kernel">1.1 Build Linux Kernel</h2>
<p>Here, I'm <strong>NOT</strong> using <a
target="_blank" rel="noopener" href="https://github.com/starfive-tech/linux.git">StarFive Linux for
VisionFive2</a>, but standard <a target="_blank" rel="noopener" href="https://www.kernel.org">Linux
Kernel</a>, today's newest version <a
target="_blank" rel="noopener" href="https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.6.5.tar.xz">Linux
Kernel 6.6.5</a>.</p>
<p>Well, of course, before building, <a
target="_blank" rel="noopener" href="https://github.com/starfive-tech/linux/blob/e5249867764fc4b6fe1ca526eefff36f26389779/arch/riscv/configs/starfive_visionfive2_defconfig">starfive_visionfive2_defconfig</a>
is to be copied under the folder where <a
target="_blank" rel="noopener" href="https://www.kernel.org">Linux Kernel</a> stays.</p>
<h2 id="build-vpu-driver">Build VPU Driver</h2>
<p>Due to some kernel incompatibility issue, I asked a question at
VisionFive2 Github issues: <a
target="_blank" rel="noopener" href="https://github.com/starfive-tech/soft_3rdpart/issues/6">Failed to
build VisionFive2 soft_3rdpart</a>, which also provides the
solution.</p>
<h2 id="build-spl-tool">Build SPL Tool</h2>
<p>Nothing tough.</p>
<h1 id="create-debian-root-filesystem">2. Create Debian Root
Filesystem</h1>
<h2 id="create-bootstrap-rootfs">2.1 Create BootStrap Rootfs</h2>
<p>Instead of using a <strong>snapshot</strong>, I'm using a standard
release <a target="_blank" rel="noopener" href="http://deb.debian.org/debian/dists/Debian12.3/">Debian
12.3</a> of <strong>sid</strong>.</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">➜  VF2 sudo debootstrap --arch=riscv64 --no-check-gpg --no-merged-usr --exclude=usr-is-merged sid riscv-chroot http://deb.debian.org/debian/</span><br><span class="line">I: Retrieving InRelease </span><br><span class="line">I: Retrieving Packages </span><br><span class="line">I: Validating Packages </span><br><span class="line">I: Resolving dependencies of required packages...</span><br><span class="line">I: Resolving dependencies of base packages...</span><br><span class="line">I: Checking component main on http://deb.debian.org/debian...</span><br><span class="line">I: Retrieving libacl1 2.3.1-3+b1</span><br><span class="line">I: Validating libacl1 2.3.1-3+b1</span><br><span class="line">I: Retrieving adduser 3.137</span><br><span class="line">I: Validating adduser 3.137</span><br><span class="line">I: Retrieving libapparmor1 3.0.12-1+b1</span><br><span class="line">I: Validating libapparmor1 3.0.12-1+b1</span><br><span class="line">I: Retrieving apt 2.7.7</span><br><span class="line">I: Validating apt 2.7.7</span><br><span class="line">I: Retrieving apt-utils 2.7.7</span><br><span class="line">I: Validating apt-utils 2.7.7</span><br><span class="line">......</span><br><span class="line">I: Configuring libgssapi-krb5-2:riscv64...</span><br><span class="line">I: Configuring whiptail...</span><br><span class="line">I: Configuring libtirpc3:riscv64...</span><br><span class="line">I: Configuring libnftables1:riscv64...</span><br><span class="line">I: Configuring nftables...</span><br><span class="line">I: Configuring iproute2...</span><br><span class="line">I: Configuring isc-dhcp-client...</span><br><span class="line">I: Configuring ifupdown...</span><br><span class="line">I: Configuring tasksel...</span><br><span class="line">I: Configuring tasksel-data...</span><br><span class="line">I: Configuring libc-bin...</span><br><span class="line">I: Base system installed successfully.</span><br><span class="line">➜  VF2</span><br></pre></td></tr></table></figure>
<p><span style="color:red">All occurrences of
<strong>riscv-chroot-snapshots</strong> now changes to
<strong>riscv-chroot</strong>.</span></p>
<h2 id="some-other-preparations">2.2 Some Other Preparations</h2>
<ul>
<li>Install Kernel Packages: As mentioned, I'm using <a
target="_blank" rel="noopener" href="https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.6.5.tar.xz">Linux
Kernel 6.6.5</a></li>
<li>Copy VPU Driver: <a
target="_blank" rel="noopener" href="https://www.kickstarter.com/projects/starfive/visionfive-2">VisionFive2</a>'s
VPU is <strong>ONLY</strong> for video processing. Namely, this
<strong>VPU</strong> refers to <strong>video processing unit</strong>,
unlike <a
target="_blank" rel="noopener" href="https://www.intel.com/content/www/us/en/products/details/processors/movidius-vpu.html">Intel
Movidius Vision Processing Unit</a></li>
<li>Copy AIC8800 (WiFi-Dongle) and ESWIN6600U (WiFi-Dongle) Firmware: It
looks to me: without using these 2 types of WiFi-Dongle, it's
<strong>pointless</strong> to copy the firmware files under the
specified folder.</li>
<li>Copy Mesa Packages: I was trying to use the <strong>newest</strong>
of today: <a
target="_blank" rel="noopener" href="https://github.com/starfive-tech/Debian/releases/download/v0.11.0-engineering-release-wayland/mesa-debs.tar.gz">Mesa
v0.11.0-engineering-release-wayland</a>, but finally realize <span
style="color:red">there is NO point to carry out this step, for the Mesa
version coming with <a
target="_blank" rel="noopener" href="http://deb.debian.org/debian/dists/Debian12.3/">Debian 12.3</a> is
even newer.</span>.</li>
<li>Copy and Install Proprietary GPU Driver: this seems to be a
<strong>MUST</strong>.</li>
<li>Copy Applications: I ignored this entire part.</li>
</ul>
<h1 id="configure-debian">3. Configure Debian</h1>
<h2 id="chroot-bootstrap-rootfs">3.1 Chroot Bootstrap Rootfs</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  VF2 sudo chroot $VF2_WORK_DIR/riscv-chroot</span><br><span class="line">root@lvision-MS-7C60:/# ls</span><br><span class="line">bin  boot  dev	etc  home  lib	media  mnt  opt  proc  root  run  sbin	srv  sys  tmp  usr  var</span><br><span class="line">root@lvision-MS-7C60:/# </span><br></pre></td></tr></table></figure>
<h2 id="update-apt-source">3.2 Update APT Source</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@lvision-MS-7C60:/# echo &quot;Acquire::Check-Valid-Until no;&quot; &gt; /etc/apt/apt.conf.d/99-no-check-valid-until</span><br><span class="line">root@lvision-MS-7C60:/# apt update -y</span><br><span class="line">Hit:1 http://deb.debian.org/debian sid InRelease</span><br><span class="line">Get:2 http://deb.debian.org/debian sid/main Translation-en [7070 kB]</span><br><span class="line">Fetched 7070 kB in 6s (1200 kB/s)        </span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">All packages are up to date.</span><br><span class="line">root@lvision-MS-7C60:/# apt upgrade -y</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Calculating upgrade... Done</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.</span><br></pre></td></tr></table></figure>
<h2 id="install-basic-tools">3.3 Install Basic Tools</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br></pre></td><td class="code"><pre><span class="line">root@lvision-MS-7C60:/# apt install initramfs-tools systemd-timesyncd rsync bash-completion u-boot-menu wget binutils alsa-utils</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  alsa-topology-conf alsa-ucm-conf binutils-common binutils-riscv64-linux-gnu busybox ca-certificates initramfs-tools-core klibc-utils libasound2 libasound2-data</span><br><span class="line">  libatopology2 libbinutils libctf-nobfd0 libctf0 libfftw3-single3 libgomp1 libklibc libpsl5 libsamplerate0 libsframe1 linux-base openssl publicsuffix zstd</span><br><span class="line">Suggested packages:</span><br><span class="line">  dialog binutils-doc gprofng-gui libasound2-plugins libfftw3-bin libfftw3-dev openssh-client openssh-server python3 python3-braceexpand flash-kernel</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  alsa-topology-conf alsa-ucm-conf alsa-utils bash-completion binutils binutils-common binutils-riscv64-linux-gnu busybox ca-certificates initramfs-tools</span><br><span class="line">  initramfs-tools-core klibc-utils libasound2 libasound2-data libatopology2 libbinutils libctf-nobfd0 libctf0 libfftw3-single3 libgomp1 libklibc libpsl5 libsamplerate0</span><br><span class="line">  libsframe1 linux-base openssl publicsuffix rsync systemd-timesyncd u-boot-menu wget zstd</span><br><span class="line">0 upgraded, 32 newly installed, 0 to remove and 0 not upgraded.</span><br><span class="line">Need to get 12.3 MB of archives.</span><br><span class="line">After this operation, 44.9 MB of additional disk space will be used.</span><br><span class="line">Do you want to continue? [Y/n] </span><br><span class="line">Get:1 http://deb.debian.org/debian sid/main riscv64 rsync riscv64 3.2.7-1 [425 kB]</span><br><span class="line">Get:2 http://deb.debian.org/debian sid/main riscv64 bash-completion all 1:2.11-8 [224 kB]</span><br><span class="line">Get:3 http://deb.debian.org/debian sid/main riscv64 openssl riscv64 3.1.4-2 [1408 kB]</span><br><span class="line">Get:4 http://deb.debian.org/debian sid/main riscv64 ca-certificates all 20230311 [153 kB]</span><br><span class="line">Get:5 http://deb.debian.org/debian sid/main riscv64 systemd-timesyncd riscv64 255-1 [69.2 kB]</span><br><span class="line">Get:6 http://deb.debian.org/debian sid/main riscv64 libpsl5 riscv64 0.21.2-1+b1 [59.4 kB]</span><br><span class="line">Get:7 http://deb.debian.org/debian sid/main riscv64 wget riscv64 1.21.4-1 [963 kB]</span><br><span class="line">Get:8 http://deb.debian.org/debian sid/main riscv64 alsa-topology-conf all 1.2.5.1-2 [15.2 kB]</span><br><span class="line">Get:9 http://deb.debian.org/debian sid/main riscv64 libasound2-data all 1.2.10-1 [20.6 kB]</span><br><span class="line">Get:10 http://deb.debian.org/debian sid/main riscv64 libasound2 riscv64 1.2.10-1 [378 kB]</span><br><span class="line">Get:11 http://deb.debian.org/debian sid/main riscv64 alsa-ucm-conf all 1.2.10-1 [60.3 kB]</span><br><span class="line">Get:12 http://deb.debian.org/debian sid/main riscv64 libatopology2 riscv64 1.2.10-1 [60.5 kB]</span><br><span class="line">Get:13 http://deb.debian.org/debian sid/main riscv64 libgomp1 riscv64 13.2.0-8 [125 kB]</span><br><span class="line">Get:14 http://deb.debian.org/debian sid/main riscv64 libfftw3-single3 riscv64 3.3.10-1 [380 kB]</span><br><span class="line">Get:15 http://deb.debian.org/debian sid/main riscv64 libsamplerate0 riscv64 0.2.2-4 [950 kB]</span><br><span class="line">Get:16 http://deb.debian.org/debian sid/main riscv64 alsa-utils riscv64 1.2.10-1 [1125 kB]</span><br><span class="line">Get:17 http://deb.debian.org/debian sid/main riscv64 binutils-common riscv64 2.41.50.20231206-1 [2379 kB]</span><br><span class="line">Get:18 http://deb.debian.org/debian sid/main riscv64 libsframe1 riscv64 2.41.50.20231206-1 [76.1 kB]                                                                        </span><br><span class="line">Get:19 http://deb.debian.org/debian sid/main riscv64 libbinutils riscv64 2.41.50.20231206-1 [501 kB]                                                                        </span><br><span class="line">Get:20 http://deb.debian.org/debian sid/main riscv64 libctf-nobfd0 riscv64 2.41.50.20231206-1 [157 kB]                                                                      </span><br><span class="line">Get:21 http://deb.debian.org/debian sid/main riscv64 libctf0 riscv64 2.41.50.20231206-1 [92.5 kB]                                                                           </span><br><span class="line">Get:22 http://deb.debian.org/debian sid/main riscv64 binutils-riscv64-linux-gnu riscv64 2.41.50.20231206-1 [836 kB]                                                         </span><br><span class="line">Get:23 http://deb.debian.org/debian sid/main riscv64 binutils riscv64 2.41.50.20231206-1 [65.9 kB]                                                                          </span><br><span class="line">Get:24 http://deb.debian.org/debian sid/main riscv64 busybox riscv64 1:1.36.1-6 [509 kB]                                                                                    </span><br><span class="line">Get:25 http://deb.debian.org/debian sid/main riscv64 libklibc riscv64 2.0.13-2 [51.0 kB]                                                                                    </span><br><span class="line">Get:26 http://deb.debian.org/debian sid/main riscv64 klibc-utils riscv64 2.0.13-2 [108 kB]                                                                                  </span><br><span class="line">Get:27 http://deb.debian.org/debian sid/main riscv64 initramfs-tools-core all 0.142 [105 kB]                                                                                </span><br><span class="line">Get:28 http://deb.debian.org/debian sid/main riscv64 linux-base all 4.9 [31.8 kB]                                                                                           </span><br><span class="line">Get:29 http://deb.debian.org/debian sid/main riscv64 initramfs-tools all 0.142 [72.9 kB]                                                                                    </span><br><span class="line">Get:30 http://deb.debian.org/debian sid/main riscv64 publicsuffix all 20231001.0357-0.1 [125 kB]                                                                            </span><br><span class="line">Get:31 http://deb.debian.org/debian sid/main riscv64 u-boot-menu all 4.2.2 [9436 B]                                                                                         </span><br><span class="line">Get:32 http://deb.debian.org/debian sid/main riscv64 zstd riscv64 1.5.5+dfsg2-2 [771 kB]                                                                                    </span><br><span class="line">Fetched 12.3 MB in 11s (1082 kB/s)                                                                                                                                          </span><br><span class="line">perl: warning: Setting locale failed.</span><br><span class="line">perl: warning: Please check that your locale settings:</span><br><span class="line">	LANGUAGE = &quot;en_CA:en&quot;,</span><br><span class="line">	LC_ALL = (unset),</span><br><span class="line">	LC_PAPER = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_NUMERIC = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_IDENTIFICATION = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_MEASUREMENT = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_NAME = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_TELEPHONE = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_ADDRESS = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_MONETARY = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_TIME = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LANG = &quot;en_CA.UTF-8&quot;</span><br><span class="line">    are supported and installed on your system.</span><br><span class="line">perl: warning: Falling back to the standard locale (&quot;C&quot;).</span><br><span class="line">locale: Cannot set LC_CTYPE to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_MESSAGES to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_ALL to default locale: No such file or directory</span><br><span class="line">Extracting templates from packages: 100%</span><br><span class="line">Preconfiguring packages ...</span><br><span class="line">E: Can not write log (Is /dev/pts mounted?) - posix_openpt (19: No such device)</span><br><span class="line">Selecting previously unselected package rsync.</span><br><span class="line">(Reading database ... 10297 files and directories currently installed.)</span><br><span class="line">Preparing to unpack .../00-rsync_3.2.7-1_riscv64.deb ...</span><br><span class="line">Unpacking rsync (3.2.7-1) ...</span><br><span class="line">Selecting previously unselected package bash-completion.</span><br><span class="line">Preparing to unpack .../01-bash-completion_1%3a2.11-8_all.deb ...</span><br><span class="line">Unpacking bash-completion (1:2.11-8) ...</span><br><span class="line">Selecting previously unselected package openssl.</span><br><span class="line">Preparing to unpack .../02-openssl_3.1.4-2_riscv64.deb ...</span><br><span class="line">Unpacking openssl (3.1.4-2) ...</span><br><span class="line">Selecting previously unselected package ca-certificates.</span><br><span class="line">Preparing to unpack .../03-ca-certificates_20230311_all.deb ...</span><br><span class="line">Unpacking ca-certificates (20230311) ...</span><br><span class="line">Selecting previously unselected package systemd-timesyncd.</span><br><span class="line">Preparing to unpack .../04-systemd-timesyncd_255-1_riscv64.deb ...</span><br><span class="line">Unpacking systemd-timesyncd (255-1) ...</span><br><span class="line">Selecting previously unselected package libpsl5:riscv64.</span><br><span class="line">Preparing to unpack .../05-libpsl5_0.21.2-1+b1_riscv64.deb ...</span><br><span class="line">Unpacking libpsl5:riscv64 (0.21.2-1+b1) ...</span><br><span class="line">Selecting previously unselected package wget.</span><br><span class="line">Preparing to unpack .../06-wget_1.21.4-1_riscv64.deb ...</span><br><span class="line">Unpacking wget (1.21.4-1) ...</span><br><span class="line">Selecting previously unselected package alsa-topology-conf.</span><br><span class="line">Preparing to unpack .../07-alsa-topology-conf_1.2.5.1-2_all.deb ...</span><br><span class="line">Unpacking alsa-topology-conf (1.2.5.1-2) ...</span><br><span class="line">Selecting previously unselected package libasound2-data.</span><br><span class="line">Preparing to unpack .../08-libasound2-data_1.2.10-1_all.deb ...</span><br><span class="line">Unpacking libasound2-data (1.2.10-1) ...</span><br><span class="line">Selecting previously unselected package libasound2:riscv64.</span><br><span class="line">Preparing to unpack .../09-libasound2_1.2.10-1_riscv64.deb ...</span><br><span class="line">Unpacking libasound2:riscv64 (1.2.10-1) ...</span><br><span class="line">Selecting previously unselected package alsa-ucm-conf.</span><br><span class="line">Preparing to unpack .../10-alsa-ucm-conf_1.2.10-1_all.deb ...</span><br><span class="line">Unpacking alsa-ucm-conf (1.2.10-1) ...</span><br><span class="line">Selecting previously unselected package libatopology2:riscv64.</span><br><span class="line">Preparing to unpack .../11-libatopology2_1.2.10-1_riscv64.deb ...</span><br><span class="line">Unpacking libatopology2:riscv64 (1.2.10-1) ...</span><br><span class="line">Selecting previously unselected package libgomp1:riscv64.</span><br><span class="line">Preparing to unpack .../12-libgomp1_13.2.0-8_riscv64.deb ...</span><br><span class="line">Unpacking libgomp1:riscv64 (13.2.0-8) ...</span><br><span class="line">Selecting previously unselected package libfftw3-single3:riscv64.</span><br><span class="line">Preparing to unpack .../13-libfftw3-single3_3.3.10-1_riscv64.deb ...</span><br><span class="line">Unpacking libfftw3-single3:riscv64 (3.3.10-1) ...</span><br><span class="line">Selecting previously unselected package libsamplerate0:riscv64.</span><br><span class="line">Preparing to unpack .../14-libsamplerate0_0.2.2-4_riscv64.deb ...</span><br><span class="line">Unpacking libsamplerate0:riscv64 (0.2.2-4) ...</span><br><span class="line">Selecting previously unselected package alsa-utils.</span><br><span class="line">Preparing to unpack .../15-alsa-utils_1.2.10-1_riscv64.deb ...</span><br><span class="line">Unpacking alsa-utils (1.2.10-1) ...</span><br><span class="line">Selecting previously unselected package binutils-common:riscv64.</span><br><span class="line">Preparing to unpack .../16-binutils-common_2.41.50.20231206-1_riscv64.deb ...</span><br><span class="line">Unpacking binutils-common:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Selecting previously unselected package libsframe1:riscv64.</span><br><span class="line">Preparing to unpack .../17-libsframe1_2.41.50.20231206-1_riscv64.deb ...</span><br><span class="line">Unpacking libsframe1:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Selecting previously unselected package libbinutils:riscv64.</span><br><span class="line">Preparing to unpack .../18-libbinutils_2.41.50.20231206-1_riscv64.deb ...</span><br><span class="line">Unpacking libbinutils:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Selecting previously unselected package libctf-nobfd0:riscv64.</span><br><span class="line">Preparing to unpack .../19-libctf-nobfd0_2.41.50.20231206-1_riscv64.deb ...</span><br><span class="line">Unpacking libctf-nobfd0:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Selecting previously unselected package libctf0:riscv64.</span><br><span class="line">Preparing to unpack .../20-libctf0_2.41.50.20231206-1_riscv64.deb ...</span><br><span class="line">Unpacking libctf0:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Selecting previously unselected package binutils-riscv64-linux-gnu.</span><br><span class="line">Preparing to unpack .../21-binutils-riscv64-linux-gnu_2.41.50.20231206-1_riscv64.deb ...</span><br><span class="line">Unpacking binutils-riscv64-linux-gnu (2.41.50.20231206-1) ...</span><br><span class="line">Selecting previously unselected package binutils.</span><br><span class="line">Preparing to unpack .../22-binutils_2.41.50.20231206-1_riscv64.deb ...</span><br><span class="line">Unpacking binutils (2.41.50.20231206-1) ...</span><br><span class="line">Selecting previously unselected package busybox.</span><br><span class="line">Preparing to unpack .../23-busybox_1%3a1.36.1-6_riscv64.deb ...</span><br><span class="line">Unpacking busybox (1:1.36.1-6) ...</span><br><span class="line">Selecting previously unselected package libklibc:riscv64.</span><br><span class="line">Preparing to unpack .../24-libklibc_2.0.13-2_riscv64.deb ...</span><br><span class="line">Unpacking libklibc:riscv64 (2.0.13-2) ...</span><br><span class="line">Selecting previously unselected package klibc-utils.</span><br><span class="line">Preparing to unpack .../25-klibc-utils_2.0.13-2_riscv64.deb ...</span><br><span class="line">Unpacking klibc-utils (2.0.13-2) ...</span><br><span class="line">Selecting previously unselected package initramfs-tools-core.</span><br><span class="line">Preparing to unpack .../26-initramfs-tools-core_0.142_all.deb ...</span><br><span class="line">Unpacking initramfs-tools-core (0.142) ...</span><br><span class="line">Selecting previously unselected package linux-base.</span><br><span class="line">Preparing to unpack .../27-linux-base_4.9_all.deb ...</span><br><span class="line">Unpacking linux-base (4.9) ...</span><br><span class="line">Selecting previously unselected package initramfs-tools.</span><br><span class="line">Preparing to unpack .../28-initramfs-tools_0.142_all.deb ...</span><br><span class="line">Unpacking initramfs-tools (0.142) ...</span><br><span class="line">Selecting previously unselected package publicsuffix.</span><br><span class="line">Preparing to unpack .../29-publicsuffix_20231001.0357-0.1_all.deb ...</span><br><span class="line">Unpacking publicsuffix (20231001.0357-0.1) ...</span><br><span class="line">Selecting previously unselected package u-boot-menu.</span><br><span class="line">Preparing to unpack .../30-u-boot-menu_4.2.2_all.deb ...</span><br><span class="line">Unpacking u-boot-menu (4.2.2) ...</span><br><span class="line">Selecting previously unselected package zstd.</span><br><span class="line">Preparing to unpack .../31-zstd_1.5.5+dfsg2-2_riscv64.deb ...</span><br><span class="line">Unpacking zstd (1.5.5+dfsg2-2) ...</span><br><span class="line">Setting up libpsl5:riscv64 (0.21.2-1+b1) ...</span><br><span class="line">Setting up linux-base (4.9) ...</span><br><span class="line">locale: Cannot set LC_CTYPE to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_MESSAGES to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_ALL to default locale: No such file or directory</span><br><span class="line">Setting up wget (1.21.4-1) ...</span><br><span class="line">Setting up binutils-common:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Setting up libctf-nobfd0:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Setting up libgomp1:riscv64 (13.2.0-8) ...</span><br><span class="line">Setting up libsframe1:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Setting up libasound2-data (1.2.10-1) ...</span><br><span class="line">Setting up busybox (1:1.36.1-6) ...</span><br><span class="line">Setting up libklibc:riscv64 (2.0.13-2) ...</span><br><span class="line">Setting up bash-completion (1:2.11-8) ...</span><br><span class="line">Setting up systemd-timesyncd (255-1) ...</span><br><span class="line">Creating group &#x27;systemd-timesync&#x27; with GID 992.</span><br><span class="line">Creating user &#x27;systemd-timesync&#x27; (systemd Time Synchronization) with UID 992 and GID 992.</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Created symlink /etc/systemd/system/dbus-org.freedesktop.timesync1.service → /usr/lib/systemd/system/systemd-timesyncd.service.</span><br><span class="line">Created symlink /etc/systemd/system/sysinit.target.wants/systemd-timesyncd.service → /usr/lib/systemd/system/systemd-timesyncd.service.</span><br><span class="line">Setting up alsa-topology-conf (1.2.5.1-2) ...</span><br><span class="line">Setting up libasound2:riscv64 (1.2.10-1) ...</span><br><span class="line">Setting up libbinutils:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Setting up klibc-utils (2.0.13-2) ...</span><br><span class="line">No diversion &#x27;diversion of /usr/share/initramfs-tools/hooks/klibc to /usr/share/initramfs-tools/hooks/klibc^i-t by klibc-utils&#x27;, none removed.</span><br><span class="line">Setting up libsamplerate0:riscv64 (0.2.2-4) ...</span><br><span class="line">Setting up openssl (3.1.4-2) ...</span><br><span class="line">Setting up libatopology2:riscv64 (1.2.10-1) ...</span><br><span class="line">Setting up publicsuffix (20231001.0357-0.1) ...</span><br><span class="line">Setting up zstd (1.5.5+dfsg2-2) ...</span><br><span class="line">Setting up rsync (3.2.7-1) ...</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Running in chroot, ignoring request.</span><br><span class="line">Setting up libctf0:riscv64 (2.41.50.20231206-1) ...</span><br><span class="line">Setting up u-boot-menu (4.2.2) ...</span><br><span class="line">Setting up libfftw3-single3:riscv64 (3.3.10-1) ...</span><br><span class="line">Setting up alsa-ucm-conf (1.2.10-1) ...</span><br><span class="line">Setting up binutils-riscv64-linux-gnu (2.41.50.20231206-1) ...</span><br><span class="line">Setting up binutils (2.41.50.20231206-1) ...</span><br><span class="line">Setting up ca-certificates (20230311) ...</span><br><span class="line">locale: Cannot set LC_CTYPE to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_MESSAGES to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_ALL to default locale: No such file or directory</span><br><span class="line">Updating certificates in /etc/ssl/certs...</span><br><span class="line">140 added, 0 removed; done.</span><br><span class="line">Setting up alsa-utils (1.2.10-1) ...</span><br><span class="line">Setting up initramfs-tools-core (0.142) ...</span><br><span class="line">Setting up initramfs-tools (0.142) ...</span><br><span class="line">update-initramfs: deferring update (trigger activated)</span><br><span class="line">Processing triggers for libc-bin (2.37-13) ...</span><br><span class="line">Processing triggers for ca-certificates (20230311) ...</span><br><span class="line">Updating certificates in /etc/ssl/certs...</span><br><span class="line">0 added, 0 removed; done.</span><br><span class="line">Running hooks in /etc/ca-certificates/update.d...</span><br><span class="line">done.</span><br><span class="line">Processing triggers for initramfs-tools (0.142) ...</span><br></pre></td></tr></table></figure>
<p><span style="color:red">Can anybody tell me why:</span>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br></pre></td></tr></table></figure></p>
<p><span style="color:red">There is a clear typo, replace
<strong>sudo</strong> to <strong>apt install</strong>.</span></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line">root@lvision-MS-7C60:/# apt install network-manager network-manager-gnome openssh-server net-tools -y</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  adwaita-icon-theme at-spi2-common at-spi2-core dbus dbus-bin dbus-daemon dbus-session-bus-common dbus-system-bus-common dbus-user-session dconf-gsettings-backend</span><br><span class="line">  dconf-service dns-root-data dnsmasq-base fontconfig fontconfig-config fonts-dejavu-core fonts-dejavu-mono gcr gnome-icon-theme gnome-keyring gnome-keyring-pkcs11</span><br><span class="line">  gsettings-desktop-schemas gtk-update-icon-cache hicolor-icon-theme iso-codes libassuan0 libatk-bridge2.0-0 libatk1.0-0 libatspi2.0-0 libavahi-client3</span><br><span class="line">  libavahi-common-data libavahi-common3 libayatana-appindicator3-1 libayatana-ido3-0.4-0 libayatana-indicator3-7 libbluetooth3 libbrotli1 libcairo-gobject2 libcairo2</span><br><span class="line">  libcbor0.10 libcloudproviders0 libcolord2 libcups2 libcurl3-gnutls libdatrie1 libdbus-1-3 libdbusmenu-glib4 libdbusmenu-gtk3-4 libdconf1 libdeflate0 libduktape207</span><br><span class="line">  libepoxy0 libexpat1 libfido2-1 libfontconfig1 libfreetype6 libfribidi0 libgck-1-0 libgcr-base-3-1 libgcr-ui-3-1 libgdk-pixbuf-2.0-0 libgdk-pixbuf2.0-bin</span><br><span class="line">  libgdk-pixbuf2.0-common libglib2.0-0 libglib2.0-data libgraphite2-3 libgtk-3-0 libgtk-3-bin libgtk-3-common libgudev-1.0-0 libharfbuzz0b libicu72 libjbig0 libjim0.82</span><br><span class="line">  libjpeg62-turbo liblcms2-2 libldap-2.5-0 libldap-common liblerc4 libmbim-glib4 libmbim-proxy libmbim-utils libmm-glib0 libndp0 libnetfilter-conntrack3 libnfnetlink0</span><br><span class="line">  libnghttp2-14 libnl-3-200 libnl-genl-3-200 libnl-route-3-200 libnm0 libnma-common libnma0 libnsl2 libpam-gnome-keyring libpam-systemd libpango-1.0-0 libpangocairo-1.0-0</span><br><span class="line">  libpangoft2-1.0-0 libpcap0.8 libpcsclite1 libpixman-1-0 libpng16-16 libpolkit-agent-1-0 libpolkit-gobject-1-0 libqmi-glib5 libqmi-proxy libqmi-utils libqrtr-glib0</span><br><span class="line">  librsvg2-2 librsvg2-common librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db libsecret-1-0 libsecret-common libsharpyuv0 libssh2-1 libteamdctl0 libthai-data</span><br><span class="line">  libthai0 libtiff6 libusb-1.0-0 libwayland-client0 libwayland-cursor0 libwayland-egl1 libwebp7 libwrap0 libx11-6 libx11-data libxau6 libxcb-render0 libxcb-shm0 libxcb1</span><br><span class="line">  libxcomposite1 libxcursor1 libxdamage1 libxdmcp6 libxext6 libxfixes3 libxi6 libxinerama1 libxkbcommon0 libxml2 libxmuu1 libxrandr2 libxrender1 libxtst6</span><br><span class="line">  mobile-broadband-provider-info modemmanager ncurses-term notification-daemon openssh-client openssh-sftp-server p11-kit p11-kit-modules pinentry-gnome3 policykit-1-gnome</span><br><span class="line">  polkitd ppp runit-helper sgml-base shared-mime-info ucf usb-modeswitch usb-modeswitch-data usr-is-merged wireless-regdb wpasupplicant x11-common xauth xdg-user-dirs</span><br><span class="line">  xkb-data xml-core</span><br><span class="line">Suggested packages:</span><br><span class="line">  isoquery colord cups-common low-memory-monitor gvfs liblcms2-utils pcscd librsvg2-bin libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal libsasl2-modules-ldap</span><br><span class="line">  libsasl2-modules-otp libsasl2-modules-sql libteam-utils iptables network-manager-openconnect-gnome network-manager-openvpn-gnome network-manager-vpnc-gnome</span><br><span class="line">  network-manager-pptp-gnome keychain libpam-ssh monkeysphere ssh-askpass molly-guard ufw pinentry-doc polkitd-pkla sgml-base-doc comgt wvdial wpagui</span><br><span class="line">  libengine-pkcs11-openssl debhelper</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  adwaita-icon-theme at-spi2-common at-spi2-core dbus dbus-bin dbus-daemon dbus-session-bus-common dbus-system-bus-common dbus-user-session dconf-gsettings-backend</span><br><span class="line">  dconf-service dns-root-data dnsmasq-base fontconfig fontconfig-config fonts-dejavu-core fonts-dejavu-mono gcr gnome-icon-theme gnome-keyring gnome-keyring-pkcs11</span><br><span class="line">  gsettings-desktop-schemas gtk-update-icon-cache hicolor-icon-theme iso-codes libassuan0 libatk-bridge2.0-0 libatk1.0-0 libatspi2.0-0 libavahi-client3</span><br><span class="line">  libavahi-common-data libavahi-common3 libayatana-appindicator3-1 libayatana-ido3-0.4-0 libayatana-indicator3-7 libbluetooth3 libbrotli1 libcairo-gobject2 libcairo2</span><br><span class="line">  libcbor0.10 libcloudproviders0 libcolord2 libcups2 libcurl3-gnutls libdatrie1 libdbus-1-3 libdbusmenu-glib4 libdbusmenu-gtk3-4 libdconf1 libdeflate0 libduktape207</span><br><span class="line">  libepoxy0 libexpat1 libfido2-1 libfontconfig1 libfreetype6 libfribidi0 libgck-1-0 libgcr-base-3-1 libgcr-ui-3-1 libgdk-pixbuf-2.0-0 libgdk-pixbuf2.0-bin</span><br><span class="line">  libgdk-pixbuf2.0-common libglib2.0-0 libglib2.0-data libgraphite2-3 libgtk-3-0 libgtk-3-bin libgtk-3-common libgudev-1.0-0 libharfbuzz0b libicu72 libjbig0 libjim0.82</span><br><span class="line">  libjpeg62-turbo liblcms2-2 libldap-2.5-0 libldap-common liblerc4 libmbim-glib4 libmbim-proxy libmbim-utils libmm-glib0 libndp0 libnetfilter-conntrack3 libnfnetlink0</span><br><span class="line">  libnghttp2-14 libnl-3-200 libnl-genl-3-200 libnl-route-3-200 libnm0 libnma-common libnma0 libnsl2 libpam-gnome-keyring libpam-systemd libpango-1.0-0 libpangocairo-1.0-0</span><br><span class="line">  libpangoft2-1.0-0 libpcap0.8 libpcsclite1 libpixman-1-0 libpng16-16 libpolkit-agent-1-0 libpolkit-gobject-1-0 libqmi-glib5 libqmi-proxy libqmi-utils libqrtr-glib0</span><br><span class="line">  librsvg2-2 librsvg2-common librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db libsecret-1-0 libsecret-common libsharpyuv0 libssh2-1 libteamdctl0 libthai-data</span><br><span class="line">  libthai0 libtiff6 libusb-1.0-0 libwayland-client0 libwayland-cursor0 libwayland-egl1 libwebp7 libwrap0 libx11-6 libx11-data libxau6 libxcb-render0 libxcb-shm0 libxcb1</span><br><span class="line">  libxcomposite1 libxcursor1 libxdamage1 libxdmcp6 libxext6 libxfixes3 libxi6 libxinerama1 libxkbcommon0 libxml2 libxmuu1 libxrandr2 libxrender1 libxtst6</span><br><span class="line">  mobile-broadband-provider-info modemmanager ncurses-term net-tools network-manager network-manager-gnome notification-daemon openssh-client openssh-server</span><br><span class="line">  openssh-sftp-server p11-kit p11-kit-modules pinentry-gnome3 policykit-1-gnome polkitd ppp runit-helper sgml-base shared-mime-info ucf usb-modeswitch usb-modeswitch-data</span><br><span class="line">  usr-is-merged wireless-regdb wpasupplicant x11-common xauth xdg-user-dirs xkb-data xml-core</span><br><span class="line">0 upgraded, 179 newly installed, 0 to remove and 0 not upgraded.</span><br><span class="line">Need to get 70.3 MB of archives.</span><br><span class="line">After this operation, 295 MB of additional disk space will be used.</span><br><span class="line">Get:1 http://deb.debian.org/debian sid/main riscv64 libdbus-1-3 riscv64 1.14.10-3 [207 kB]</span><br><span class="line">Get:2 http://deb.debian.org/debian sid/main riscv64 dbus-bin riscv64 1.14.10-3 [105 kB]</span><br><span class="line">Get:3 http://deb.debian.org/debian sid/main riscv64 dbus-session-bus-common all 1.14.10-3 [78.9 kB]</span><br><span class="line">Get:4 http://deb.debian.org/debian sid/main riscv64 libexpat1 riscv64 2.5.0-2+b1 [95.2 kB]</span><br><span class="line">Get:5 http://deb.debian.org/debian sid/main riscv64 dbus-daemon riscv64 1.14.10-3 [185 kB]</span><br><span class="line">Get:6 http://deb.debian.org/debian sid/main riscv64 dbus-system-bus-common all 1.14.10-3 [80.0 kB]</span><br><span class="line">Get:7 http://deb.debian.org/debian sid/main riscv64 usr-is-merged all 38 [5504 B]</span><br><span class="line">Get:8 http://deb.debian.org/debian sid/main riscv64 dbus riscv64 1.14.10-3 [98.3 kB]</span><br><span class="line">Get:9 http://deb.debian.org/debian sid/main riscv64 libcbor0.10 riscv64 0.10.2-1.1 [27.3 kB]</span><br><span class="line">Get:10 http://deb.debian.org/debian sid/main riscv64 libfido2-1 riscv64 1.14.0-1 [82.1 kB]</span><br><span class="line">Get:11 http://deb.debian.org/debian sid/main riscv64 openssh-client riscv64 1:9.5p1-2 [984 kB]</span><br><span class="line">Get:12 http://deb.debian.org/debian sid/main riscv64 openssh-sftp-server riscv64 1:9.5p1-2 [66.8 kB]</span><br><span class="line">Get:13 http://deb.debian.org/debian sid/main riscv64 ucf all 3.0043+nmu1 [55.2 kB]</span><br><span class="line">Get:14 http://deb.debian.org/debian sid/main riscv64 runit-helper all 2.15.2 [6520 B]</span><br><span class="line">Get:15 http://deb.debian.org/debian sid/main riscv64 libnsl2 riscv64 1.3.0-3 [40.0 kB]</span><br><span class="line">Get:16 http://deb.debian.org/debian sid/main riscv64 libwrap0 riscv64 7.6.q-32 [55.4 kB]</span><br><span class="line">Get:17 http://deb.debian.org/debian sid/main riscv64 openssh-server riscv64 1:9.5p1-2 [447 kB]</span><br><span class="line">Get:18 http://deb.debian.org/debian sid/main riscv64 sgml-base all 1.31 [15.4 kB]</span><br><span class="line">Get:19 http://deb.debian.org/debian sid/main riscv64 libpam-systemd riscv64 255-1 [260 kB]</span><br><span class="line">Get:20 http://deb.debian.org/debian sid/main riscv64 ncurses-term all 6.4+20231121-1 [508 kB]</span><br><span class="line">Get:21 http://deb.debian.org/debian sid/main riscv64 hicolor-icon-theme all 0.17-2 [11.4 kB]</span><br><span class="line">Get:22 http://deb.debian.org/debian sid/main riscv64 libgdk-pixbuf2.0-common all 2.42.10+dfsg-3 [307 kB]</span><br><span class="line">Get:23 http://deb.debian.org/debian sid/main riscv64 libglib2.0-0 riscv64 2.78.3-1 [1467 kB]</span><br><span class="line">Get:24 http://deb.debian.org/debian sid/main riscv64 libicu72 riscv64 72.1-4 [9375 kB]</span><br><span class="line">Get:25 http://deb.debian.org/debian sid/main riscv64 libxml2 riscv64 2.9.14+dfsg-1.3+b2 [706 kB]                                                                            </span><br><span class="line">Get:26 http://deb.debian.org/debian sid/main riscv64 shared-mime-info riscv64 2.4-1 [750 kB]                                                                                </span><br><span class="line">Get:27 http://deb.debian.org/debian sid/main riscv64 libjpeg62-turbo riscv64 1:2.1.5-2+b1 [154 kB]                                                                          </span><br><span class="line">Get:28 http://deb.debian.org/debian sid/main riscv64 libpng16-16 riscv64 1.6.40-2 [282 kB]                                                                                  </span><br><span class="line">Get:29 http://deb.debian.org/debian sid/main riscv64 libdeflate0 riscv64 1.18-1 [37.2 kB]                                                                                   </span><br><span class="line">Get:30 http://deb.debian.org/debian sid/main riscv64 libjbig0 riscv64 2.1-6.1 [32.8 kB]                                                                                     </span><br><span class="line">Get:31 http://deb.debian.org/debian sid/main riscv64 liblerc4 riscv64 4.0.0+ds-4 [176 kB]</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">Setting up notification-daemon (3.20.0-4) ...</span><br><span class="line">Setting up at-spi2-core (2.50.0-1) ...</span><br><span class="line">Setting up libayatana-indicator3-7:riscv64 (0.9.3-1.1) ...</span><br><span class="line">Setting up libgcr-ui-3-1:riscv64 (3.41.1-3) ...</span><br><span class="line">Setting up gcr (3.41.1-3) ...</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Created symlink /etc/systemd/user/graphical-session-pre.target.wants/gcr-ssh-agent.service → /usr/lib/systemd/user/gcr-ssh-agent.service.</span><br><span class="line">Created symlink /etc/systemd/user/sockets.target.wants/gcr-ssh-agent.socket → /usr/lib/systemd/user/gcr-ssh-agent.socket.</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Setting up pinentry-gnome3 (1.2.1-3) ...</span><br><span class="line">Setting up libayatana-appindicator3-1 (0.5.93-1) ...</span><br><span class="line">Setting up gnome-keyring (42.1-1) ...</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Created symlink /etc/systemd/user/graphical-session-pre.target.wants/gnome-keyring-daemon.service → /usr/lib/systemd/user/gnome-keyring-daemon.service.</span><br><span class="line">Created symlink /etc/systemd/user/sockets.target.wants/gnome-keyring-daemon.socket → /usr/lib/systemd/user/gnome-keyring-daemon.socket.</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Processing triggers for libc-bin (2.37-13) ...</span><br><span class="line">Processing triggers for sgml-base (1.31) ...</span><br><span class="line">Setting up polkitd (123-3) ...</span><br><span class="line">Creating group &#x27;polkitd&#x27; with GID 991.</span><br><span class="line">Creating user &#x27;polkitd&#x27; (polkit) with UID 991 and GID 991.</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Running in chroot, ignoring request.</span><br><span class="line">Reloading system message bus config...Failed to open connection to &quot;system&quot; message bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory</span><br><span class="line">invoke-rc.d: initscript dbus, action &quot;reload&quot; failed.</span><br><span class="line">/proc/ is not mounted, but required for successful operation of systemd-tmpfiles. Please mount /proc/. Alternatively, consider using the --root= or --image= switches.</span><br><span class="line">start-stop-daemon: nothing in /proc - not mounted?</span><br><span class="line">start-stop-daemon: unable to stat /usr/libexec/polkitd (No such file or directory)</span><br><span class="line">Setting up policykit-1-gnome (0.105-8) ...</span><br><span class="line">Setting up network-manager (1.44.2-6) ...</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Created symlink /etc/systemd/system/dbus-org.freedesktop.nm-dispatcher.service → /usr/lib/systemd/system/NetworkManager-dispatcher.service.</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Created symlink /etc/systemd/system/network-online.target.wants/NetworkManager-wait-online.service → /usr/lib/systemd/system/NetworkManager-wait-online.service.</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Created symlink /etc/systemd/system/multi-user.target.wants/NetworkManager.service → /usr/lib/systemd/system/NetworkManager.service.</span><br><span class="line">Setting up modemmanager (1.22.0-1) ...</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Created symlink /etc/systemd/system/dbus-org.freedesktop.ModemManager1.service → /usr/lib/systemd/system/ModemManager.service.</span><br><span class="line">Created symlink /etc/systemd/system/multi-user.target.wants/ModemManager.service → /usr/lib/systemd/system/ModemManager.service.</span><br><span class="line">Setting up network-manager-gnome (1.34.0-2) ...</span><br><span class="line">Processing triggers for dbus (1.14.10-3) ...</span><br><span class="line">Processing triggers for libgdk-pixbuf-2.0-0:riscv64 (2.42.10+dfsg-3) ...</span><br><span class="line">root@lvision-MS-7C60:/# ls</span><br><span class="line">bin  boot  dev	etc  home  lib	media  mnt  opt  proc  root  run  sbin	srv  sys  tmp  usr  var</span><br><span class="line">root@lvision-MS-7C60:/# ls proc</span><br><span class="line">root@lvision-MS-7C60:/# </span><br></pre></td></tr></table></figure>
<h2 id="install-gnome-desktop">3.4 Install GNOME Desktop</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">root@lvision-MS-7C60:/# DEBIAN_FRONTEND=noninteractive apt-get install gnome-shell gnome-terminal gnome-tweaks gnome-shell-extensions -y</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">Package gnome-shell is not available, but is referred to by another package.</span><br><span class="line">This may mean that the package is missing, has been obsoleted, or</span><br><span class="line">is only available from another source</span><br><span class="line">However the following packages replace it:</span><br><span class="line">  gnome-shell-common</span><br><span class="line"></span><br><span class="line">E: Package &#x27;gnome-shell&#x27; has no installation candidate</span><br><span class="line">root@lvision-MS-7C60:/# DEBIAN_FRONTEND=noninteractive apt-get install gnome-terminal gnome-tweaks gnome-shell-extensions -y</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">Some packages could not be installed. This may mean that you have</span><br><span class="line">requested an impossible situation or if you are using the unstable</span><br><span class="line">distribution that some required packages have not yet been created</span><br><span class="line">or been moved out of Incoming.</span><br><span class="line">The following information may help to resolve the situation:</span><br><span class="line"></span><br><span class="line">The following packages have unmet dependencies:</span><br><span class="line"> gnome-shell-extensions : Depends: gnome-shell (&lt; 45~) but it is not installable</span><br><span class="line">                          Depends: gnome-shell (&gt;= 44~) but it is not installable</span><br><span class="line">                          Recommends: gnome-shell-extension-prefs but it is not installable</span><br><span class="line">E: Unable to correct problems, you have held broken packages.</span><br><span class="line">root@lvision-MS-7C60:/# DEBIAN_FRONTEND=noninteractive apt-get install gnome-terminal gnome-tweaks -y</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  aspell aspell-en bsdextrautils bubblewrap cpp cpp-13 desktop-file-utils dictionaries-common dirmngr docbook-xml dosfstools eject emacsen-common enchant-2 exfatprogs fonts-dejavu fonts-dejavu-extra fonts-droid-fallback fonts-noto-mono fonts-urw-base35 fuse3</span><br><span class="line">  geocode-glib-common ghostscript gir1.2-atk-1.0 gir1.2-freedesktop gir1.2-gdesktopenums-3.0 gir1.2-gdkpixbuf-2.0 gir1.2-glib-2.0 gir1.2-gnomedesktop-3.0 gir1.2-gtk-3.0 gir1.2-handy-1 gir1.2-harfbuzz-0.0 gir1.2-notify-0.7 gir1.2-pango-1.0 glib-networking</span><br><span class="line">  glib-networking-common glib-networking-services gnome-desktop3-data gnome-settings-daemon gnome-settings-daemon-common gnome-shell-common gnome-terminal-data gnupg gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpg-wks-server gpgconf gpgsm groff-base gstreamer1.0-gl</span><br><span class="line">  gstreamer1.0-libav gstreamer1.0-plugins-bad gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-x gvfs gvfs-common gvfs-daemons gvfs-libs hunspell-en-us iio-sensor-proxy imagemagick-6-common libaa1 libaacs0 libabsl20220623 libaom3 libaspell15 libass9</span><br><span class="line">  libasyncns0 libatasmart4 libatomic1 libavc1394-0 libavcodec60 libavfilter9 libavformat60 libavif16 libavtp0 libavutil58 libbdplus0 libblas3 libblockdev-crypto3 libblockdev-fs3 libblockdev-loop3 libblockdev-mdraid3 libblockdev-nvme3 libblockdev-part3 libblockdev-swap3</span><br><span class="line">  libblockdev-utils3 libblockdev3 libbluray2 libbs2b0 libbytesize-common libbytesize1 libc-l10n libcaca0 libcanberra-gtk3-0 libcanberra-gtk3-module libcanberra0 libcdparanoia0 libchromaprint1 libcjson1 libcodec2-1.2 libconfig++9v5 libdav1d7 libdc1394-25 libdca0 libde265-0</span><br><span class="line">  libdecor-0-0 libdecor-0-plugin-1-gtk libdirectfb-1.7-7 libdjvulibre-text libdjvulibre21 libdrm-amdgpu1 libdrm-common libdrm-nouveau2 libdrm-radeon1 libdrm2 libdv4 libdvdnav4 libdvdread8 libdw1 libegl-mesa0 libegl1 libenchant-2-2 libevdev2 libfaad2 libffado2</span><br><span class="line">  libfftw3-double3 libflac12 libflite1 libfluidsynth3 libfontenc1 libfreeaptx0 libfuse3-3 libgav1-1 libgbm1 libgeoclue-2-0 libgeocode-glib-2-0 libgfortran5 libgirepository-1.0-1 libgl1 libgl1-mesa-dri libglapi-mesa libgles2 libglibmm-2.4-1v5 libglvnd0 libglx-mesa0 libglx0</span><br><span class="line">  libgme0 libgnome-desktop-3-20 libgpgme11 libgpm2 libgraphene-1.0-0 libgs-common libgs10 libgs10-common libgsm1 libgssdp-1.6-0 libgstreamer-gl1.0-0 libgstreamer-plugins-bad1.0-0 libgstreamer-plugins-base1.0-0 libgstreamer1.0-0 libgupnp-1.6-0 libgupnp-igd-1.6-0</span><br><span class="line">  libgweather-4-0 libgweather-4-common libhandy-1-0 libharfbuzz-gobject0 libharfbuzz-icu0 libheif-plugin-aomenc libheif-plugin-dav1d libheif-plugin-libde265 libheif-plugin-x265 libheif1 libhunspell-1.7-0 libhwy1 libhyphen0 libice6 libidn12 libiec61883-0 libijs-0.35</span><br><span class="line">  libimath-3-1-29 libimobiledevice6 libinstpatch-1.0-2 libisl23 libjack-jackd2-0 libjavascriptcoregtk-4.1-0 libjbig2dec0 libjson-glib-1.0-0 libjson-glib-1.0-common libjxl0.7 libjxr-tools libjxr0 libkate1 libksba8 liblapack3 liblc3-1 libldacbt-abr2 libldacbt-enc2 liblilv-0-0</span><br><span class="line">  libllvm16 liblqr-1-0 liblrdf0 libltc11 libltdl7 liblua5.4-0 libmagickcore-6.q16-7 libmagickcore-6.q16-7-extra libmagickwand-6.q16-7 libmanette-0.2-0 libmbedcrypto7 libmjpegutils-2.1-0 libmodplug1 libmp3lame0 libmpc3 libmpcdec6 libmpeg2encpp-2.1-0 libmpfr6 libmpg123-0</span><br><span class="line">  libmplex2-2.1-0 libmysofa1 libnautilus-extension4 libncurses6 libneon27 libnice10 libnorm1 libnotify4 libnpth0 libnspr4 libnss3 libntfs-3g89 libnvme1 libogg0 libopenal-data libopenal1 libopenexr-3-1-30 libopenh264-7 libopenjp2-7 libopenmpt0 libopenni2-0 libopus0</span><br><span class="line">  liborc-0.4-0 libpangoxft-1.0-0 libpaper-utils libpaper1 libparted2 libpgm-5.3-0 libpipeline1 libpipewire-0.3-0 libpipewire-0.3-common libpipewire-0.3-modules libplacebo338 libplist3 libpocketsphinx3 libpostproc57 libproxy1v5 libpulse-mainloop-glib0 libpulse0</span><br><span class="line">  libpython3-stdlib libpython3.11-minimal libpython3.11-stdlib libqrencode4 librabbitmq4 libraptor2-0 librav1e0 libraw1394-11 libraw23 librist4 libroc0.3 librubberband2 libsbc1 libsdl2-2.0-0 libsensors-config libsensors5 libserd-0-0 libshine3 libshout3 libsigc++-2.0-0v5</span><br><span class="line">  libsm6 libsnappy1v5 libsndfile1 libsndio7.0 libsodium23 libsord-0-0 libsoundtouch1 libsoup-3.0-0 libsoup-3.0-common libsoxr0 libspa-0.2-bluetooth libspa-0.2-modules libspandsp2 libspeex1 libspeexdsp1 libsphinxbase3 libsqlite3-0 libsratom-0-0 libsrt1.5-gnutls libsrtp2-1</span><br><span class="line">  libssh-gcrypt-4 libsvtav1enc1d1 libswresample4 libswscale7 libtag1v5 libtag1v5-vanilla libtdb1 libtheora0 libtwolame0 libuchardet0 libudfread0 libudisks2-0 libunibreak5 libunwind8 libupower-glib3 libusbmuxd6 libuv1 libv4l-0 libv4lconvert0 libva-drm2 libva-x11-2 libva2</span><br><span class="line">  libvdpau-va-gl1 libvdpau1 libvidstab1.1 libvisual-0.4-0 libvo-aacenc0 libvo-amrwbenc0 libvolume-key1 libvorbis0a libvorbisenc2 libvorbisfile3 libvpx8 libvte-2.91-0 libvte-2.91-common libvulkan1 libwacom-common libwacom9 libwavpack1 libwayland-server0 libwebkit2gtk-4.1-0</span><br><span class="line">  libwebpdemux2 libwebpmux3 libwebrtc-audio-processing1 libwildmidi2 libwireplumber-0.4-0 libwmflite-0.2-7 libwoff1 libwpe-1.0-1 libwpebackend-fdo-1.0-1 libx11-xcb1 libx264-164 libx265-199 libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-randr0</span><br><span class="line">  libxcb-sync1 libxcb-xfixes0 libxcb-xkb1 libxft2 libxkbcommon-x11-0 libxkbregistry0 libxml++2.6-2v5 libxmu6 libxpm4 libxshmfence1 libxslt1.1 libxss1 libxt6 libxv1 libxvidcore4 libxxf86vm1 libyajl2 libyelp0 libyuv0 libz3-4 libzbar0 libzimg2 libzix-0-0 libzmq5 libzvbi-common</span><br><span class="line">  libzvbi0 libzxing2 locales lsb-release lsof man-db media-types mesa-va-drivers mesa-vdpau-drivers mesa-vulkan-drivers mutter-common nautilus-extension-gnome-terminal ntfs-3g ocl-icd-libopencl1 parted pipewire pipewire-alsa pipewire-audio pipewire-bin pipewire-pulse pkexec</span><br><span class="line">  pocketsphinx-en-us poppler-data python3 python3-distro python3-gi python3-minimal python3.11 python3.11-minimal rtkit sgml-data sound-theme-freedesktop timgm6mb-soundfont udisks2 upower usbmuxd va-driver-all vdpau-driver-all wireplumber x11-xserver-utils xdg-dbus-proxy</span><br><span class="line">  xdg-desktop-portal xdg-desktop-portal-gtk xfonts-encodings xfonts-utils yelp yelp-xsl</span><br><span class="line">Suggested packages:</span><br><span class="line">  aspell-doc spellutils cpp-doc gcc-13-locales cpp-13-doc wordlist tor docbook docbook-dsssl docbook-xsl docbook-defguide fonts-noto fonts-freefont-otf | fonts-freefont-ttf fonts-texgyre usbguard gnome-shell-extension-prefs | gnome-shell-extension-manager parcimonie</span><br><span class="line">  xloadimage scdaemon groff frei0r-plugins gvfs-backends hunspell openoffice.org-hunspell | openoffice.org-core mdadm libbluray-bdj libcanberra-pulse libdirectfb-extra libdv-bin oss-compat libdvdcss2 libenchant-2-voikko libfftw3-bin libfftw3-dev gpm libvisual-0.4-plugins</span><br><span class="line">  gstreamer1.0-tools libheif-plugin-ffmpegdec libheif-plugin-jpegdec libheif-plugin-jpegenc libheif-plugin-j2kdec libheif-plugin-j2kenc libheif-plugin-rav1e libheif-plugin-svtenc libusbmuxd-tools jackd2 liblrdf0-dev inkscape nvme-cli libportaudio2 opus-tools libparted-dev</span><br><span class="line">  libparted-i18n pulseaudio raptor2-utils libraw1394-doc xdg-utils lm-sensors serdi sndiod sordi speex libwacom-bin gstreamer1.0-alsa libwildmidi-config apparmor www-browser opencl-icd parted-doc pulseaudio-utils poppler-utils fonts-japanese-mincho | fonts-ipafont-mincho</span><br><span class="line">  fonts-japanese-gothic | fonts-ipafont-gothic fonts-arphic-ukai fonts-arphic-uming fonts-nanum python3-doc python3-tk python3-venv python3.11-venv python3.11-doc binfmt-support perlsgml w3-recs opensp libxml2-utils fluid-soundfont-gm btrfs-progs f2fs-tools nilfs-tools</span><br><span class="line">  reiserfsprogs udftools udisks2-btrfs udisks2-lvm2 xfsprogs libspa-0.2-libcamera wireplumber-doc nickle cairo-5c xorg-docs-core accountsservice evince xdg-desktop-portal-gnome</span><br><span class="line">Recommended packages:</span><br><span class="line">  gnupg</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">......</span><br><span class="line">Processing triggers for dictionaries-common (1.29.7) ...</span><br><span class="line">locale: Cannot set LC_CTYPE to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_MESSAGES to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_ALL to default locale: No such file or directory</span><br><span class="line">aspell-autobuildhash: processing: en [en-common].</span><br><span class="line">aspell-autobuildhash: processing: en [en-variant_0].</span><br><span class="line">aspell-autobuildhash: processing: en [en-variant_1].</span><br><span class="line">aspell-autobuildhash: processing: en [en-variant_2].</span><br><span class="line">aspell-autobuildhash: processing: en [en-w_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en-wo_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_AU-variant_0].</span><br><span class="line">aspell-autobuildhash: processing: en [en_AU-variant_1].</span><br><span class="line">aspell-autobuildhash: processing: en [en_AU-w_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_AU-wo_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_CA-variant_0].</span><br><span class="line">aspell-autobuildhash: processing: en [en_CA-variant_1].</span><br><span class="line">aspell-autobuildhash: processing: en [en_CA-w_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_CA-wo_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_GB-ise-w_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_GB-ise-wo_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_GB-ize-w_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_GB-ize-wo_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_GB-variant_0].</span><br><span class="line">aspell-autobuildhash: processing: en [en_GB-variant_1].</span><br><span class="line">aspell-autobuildhash: processing: en [en_US-w_accents-only].</span><br><span class="line">aspell-autobuildhash: processing: en [en_US-wo_accents-only].</span><br><span class="line">Processing triggers for libc-bin (2.37-13) ...</span><br><span class="line">Processing triggers for sgml-base (1.31) ...</span><br><span class="line">root@lvision-MS-7C60:/# </span><br></pre></td></tr></table></figure>
<h2 id="configure-kernel">3.5 Configure Kernel</h2>
<p>The <strong>MOST</strong> important step:</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line">root@lvision-MS-7C60:/# dpkg-reconfigure linux-image-6.6.5-starfive</span><br><span class="line">perl: warning: Setting locale failed.</span><br><span class="line">perl: warning: Please check that your locale settings:</span><br><span class="line">	LANGUAGE = &quot;en_CA:en&quot;,</span><br><span class="line">	LC_ALL = (unset),</span><br><span class="line">	LC_NUMERIC = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_TIME = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_MEASUREMENT = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_TELEPHONE = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_IDENTIFICATION = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_PAPER = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_MONETARY = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_NAME = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_ADDRESS = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LANG = &quot;en_CA.UTF-8&quot;</span><br><span class="line">    are supported and installed on your system.</span><br><span class="line">perl: warning: Falling back to the standard locale (&quot;C&quot;).</span><br><span class="line">locale: Cannot set LC_CTYPE to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_MESSAGES to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_ALL to default locale: No such file or directory</span><br><span class="line">update-initramfs: Generating /boot/initrd.img-6.6.5-starfive</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8125b-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8125a-3.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8107e-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168fp-3.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168h-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168g-3.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168g-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8106e-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8106e-1.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8411-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8411-1.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8402-1.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168f-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168f-1.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8105e-1.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168e-3.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168e-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168e-1.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168d-2.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/rtl_nic/rtl8168d-1.fw for built-in driver r8169</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-100-5.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-1000-5.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-135-6.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-105-6.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-2030-6.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-2000-6.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-5150-2.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-5000-5.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-6000g2b-6.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-6000g2a-6.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-6050-5.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-6000-6.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-7265D-29.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-7265-17.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-3168-29.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-3160-17.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-7260-17.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-8265-36.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-8000C-36.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-9260-th-b0-jf-b0-46.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-9000-pu-b0-jf-b0-46.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-cc-a0-77.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-QuZ-a0-jf-b0-77.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-QuZ-a0-hr-b0-77.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-Qu-b0-jf-b0-77.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-Qu-c0-hr-b0-77.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-Qu-b0-hr-b0-77.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ma-b0-mr-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ma-b0-gf4-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ma-b0-gf-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ma-b0-hr-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ma-a0-mr-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ma-a0-gf4-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ma-a0-gf-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ma-a0-hr-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-ty-a0-gf-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-so-a0-gf-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-so-a0-hr-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-so-a0-jf-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-gl-c0-fm-c0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-gl-b0-fm-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-bz-a0-fm4-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-bz-a0-fm-c0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-bz-a0-fm-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-bz-a0-gf4-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-bz-a0-gf-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-bz-a0-hr-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-sc-a0-wh-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-sc-a0-gf4-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-sc-a0-gf-a0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-sc-a0-hr-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-sc-a0-hr-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-sc-a0-fm-c0-83.ucode for built-in driver iwlwifi</span><br><span class="line">W: Possible missing firmware /lib/firmware/iwlwifi-sc-a0-fm-b0-83.ucode for built-in driver iwlwifi</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/cat&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/cpio&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/dd&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/dmesg&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/false&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/gunzip&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/kill&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/ln&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/ls&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/mkdir&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/mkfifo&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/mknod&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/mount&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/mv&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/nuke&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/readlink&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/resume&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/sh&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/sleep&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/sync&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/true&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/umount&#x27;</span><br><span class="line">cp: not replacing &#x27;/var/tmp/mkinitramfs_VdCKqO/bin/uname&#x27;</span><br><span class="line">P: Checking for EXTLINUX directory... not found.</span><br><span class="line">P: Creating EXTLINUX directory... done: /boot/extlinux</span><br><span class="line">cat: /proc/cmdline: No such file or directory</span><br><span class="line">perl: warning: Setting locale failed.</span><br><span class="line">perl: warning: Please check that your locale settings:</span><br><span class="line">	LANGUAGE = &quot;en_CA:en&quot;,</span><br><span class="line">	LC_ALL = (unset),</span><br><span class="line">	LC_PAPER = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_NUMERIC = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_IDENTIFICATION = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_MEASUREMENT = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_NAME = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_TELEPHONE = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_ADDRESS = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_MONETARY = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_TIME = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LANG = &quot;en_CA.UTF-8&quot;</span><br><span class="line">    are supported and installed on your system.</span><br><span class="line">perl: warning: Falling back to the standard locale (&quot;C&quot;).</span><br><span class="line">perl: warning: Setting locale failed.</span><br><span class="line">perl: warning: Please check that your locale settings:</span><br><span class="line">	LANGUAGE = &quot;en_CA:en&quot;,</span><br><span class="line">	LC_ALL = (unset),</span><br><span class="line">	LC_PAPER = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_NUMERIC = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_IDENTIFICATION = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_MEASUREMENT = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_NAME = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_TELEPHONE = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_ADDRESS = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_MONETARY = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LC_TIME = &quot;en_CA.UTF-8&quot;,</span><br><span class="line">	LANG = &quot;en_CA.UTF-8&quot;</span><br><span class="line">    are supported and installed on your system.</span><br><span class="line">perl: warning: Falling back to the standard locale (&quot;C&quot;).</span><br><span class="line">P: Writing config for vmlinuz-6.6.5-starfive...</span><br><span class="line">P: Updating /boot/extlinux/extlinux.conf...</span><br><span class="line">root@lvision-MS-7C60:/# </span><br></pre></td></tr></table></figure>
<h2 id="configure-network">3.6 Configure Network</h2>
<p>Follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a>.</p>
<h2 id="configure-user">3.7 Configure User</h2>
<p>Follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a>.</p>
<h2 id="configure-gpu">3.8 Configure GPU</h2>
<p><span style="color:red">A variety of errors. So, ignore this step!!!
Use the default Mesa coming with <a
target="_blank" rel="noopener" href="http://deb.debian.org/debian/dists/Debian12.3/">Debian
12.3</a></span></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">root@lvision-MS-7C60:/# cd /opt/debs</span><br><span class="line">dpkg -i *.deb</span><br><span class="line">dpkg: warning: downgrading libegl-mesa0:riscv64 from 23.2.1-1 to 22.3.5-1.1</span><br><span class="line">(Reading database ... 41731 files and directories currently installed.)</span><br><span class="line">Preparing to unpack libegl-mesa0_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libegl-mesa0:riscv64 (22.3.5-1.1) over (23.2.1-1) ...</span><br><span class="line">Selecting previously unselected package libegl1-mesa:riscv64.</span><br><span class="line">Preparing to unpack libegl1-mesa_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libegl1-mesa:riscv64 (22.3.5-1.1) ...</span><br><span class="line">Selecting previously unselected package libgbm-dev:riscv64.</span><br><span class="line">Preparing to unpack libgbm-dev_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libgbm-dev:riscv64 (22.3.5-1.1) ...</span><br><span class="line">dpkg: warning: downgrading libgbm1:riscv64 from 23.2.1-1 to 22.3.5-1.1</span><br><span class="line">Preparing to unpack libgbm1_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libgbm1:riscv64 (22.3.5-1.1) over (23.2.1-1) ...</span><br><span class="line">dpkg: warning: downgrading libgl1-mesa-dri:riscv64 from 23.2.1-1 to 22.3.5-1.1</span><br><span class="line">Preparing to unpack libgl1-mesa-dri_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libgl1-mesa-dri:riscv64 (22.3.5-1.1) over (23.2.1-1) ...</span><br><span class="line">Selecting previously unselected package libgl1-mesa-glx:riscv64.</span><br><span class="line">Preparing to unpack libgl1-mesa-glx_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libgl1-mesa-glx:riscv64 (22.3.5-1.1) ...</span><br><span class="line">dpkg: warning: downgrading libglapi-mesa:riscv64 from 23.2.1-1 to 22.3.5-1.1</span><br><span class="line">Preparing to unpack libglapi-mesa_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libglapi-mesa:riscv64 (22.3.5-1.1) over (23.2.1-1) ...</span><br><span class="line">Selecting previously unselected package libgles2-mesa:riscv64.</span><br><span class="line">Preparing to unpack libgles2-mesa_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libgles2-mesa:riscv64 (22.3.5-1.1) ...</span><br><span class="line">dpkg: warning: downgrading libglx-mesa0:riscv64 from 23.2.1-1 to 22.3.5-1.1</span><br><span class="line">Preparing to unpack libglx-mesa0_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libglx-mesa0:riscv64 (22.3.5-1.1) over (23.2.1-1) ...</span><br><span class="line">Selecting previously unselected package libosmesa6:riscv64.</span><br><span class="line">Preparing to unpack libosmesa6_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libosmesa6:riscv64 (22.3.5-1.1) ...</span><br><span class="line">Selecting previously unselected package libwayland-egl1-mesa:riscv64.</span><br><span class="line">Preparing to unpack libwayland-egl1-mesa_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking libwayland-egl1-mesa:riscv64 (22.3.5-1.1) ...</span><br><span class="line">dpkg: warning: downgrading mesa-va-drivers:riscv64 from 23.2.1-1 to 22.3.5-1.1</span><br><span class="line">Preparing to unpack mesa-va-drivers_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking mesa-va-drivers:riscv64 (22.3.5-1.1) over (23.2.1-1) ...</span><br><span class="line">dpkg: warning: downgrading mesa-vdpau-drivers:riscv64 from 23.2.1-1 to 22.3.5-1.1</span><br><span class="line">Preparing to unpack mesa-vdpau-drivers_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking mesa-vdpau-drivers:riscv64 (22.3.5-1.1) over (23.2.1-1) ...</span><br><span class="line">dpkg: warning: downgrading mesa-vulkan-drivers:riscv64 from 23.2.1-1 to 22.3.5-1.1</span><br><span class="line">Preparing to unpack mesa-vulkan-drivers_22.3.5-1.1_riscv64.deb ...</span><br><span class="line">Unpacking mesa-vulkan-drivers:riscv64 (22.3.5-1.1) over (23.2.1-1) ...</span><br><span class="line">Setting up libegl1-mesa:riscv64 (22.3.5-1.1) ...</span><br><span class="line">Setting up libgbm1:riscv64 (22.3.5-1.1) ...</span><br><span class="line">dpkg: dependency problems prevent configuration of libgl1-mesa-dri:riscv64:</span><br><span class="line"> libgl1-mesa-dri:riscv64 depends on libllvm15; however:</span><br><span class="line">  Package libllvm15 is not installed.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package libgl1-mesa-dri:riscv64 (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Setting up libglapi-mesa:riscv64 (22.3.5-1.1) ...</span><br><span class="line">Setting up libgles2-mesa:riscv64 (22.3.5-1.1) ...</span><br><span class="line">dpkg: dependency problems prevent configuration of libglx-mesa0:riscv64:</span><br><span class="line"> libglx-mesa0:riscv64 depends on libgl1-mesa-dri; however:</span><br><span class="line">  Package libgl1-mesa-dri:riscv64 is not configured yet.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package libglx-mesa0:riscv64 (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Setting up libosmesa6:riscv64 (22.3.5-1.1) ...</span><br><span class="line">Setting up libwayland-egl1-mesa:riscv64 (22.3.5-1.1) ...</span><br><span class="line">dpkg: dependency problems prevent configuration of mesa-va-drivers:riscv64:</span><br><span class="line"> mesa-va-drivers:riscv64 depends on libllvm15; however:</span><br><span class="line">  Package libllvm15 is not installed.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package mesa-va-drivers:riscv64 (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">dpkg: dependency problems prevent configuration of mesa-vdpau-drivers:riscv64:</span><br><span class="line"> mesa-vdpau-drivers:riscv64 depends on libllvm15; however:</span><br><span class="line">  Package libllvm15 is not installed.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package mesa-vdpau-drivers:riscv64 (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">dpkg: dependency problems prevent configuration of mesa-vulkan-drivers:riscv64:</span><br><span class="line"> mesa-vulkan-drivers:riscv64 depends on libllvm15; however:</span><br><span class="line">  Package libllvm15 is not installed.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package mesa-vulkan-drivers:riscv64 (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Setting up libegl-mesa0:riscv64 (22.3.5-1.1) ...</span><br><span class="line">Setting up libgbm-dev:riscv64 (22.3.5-1.1) ...</span><br><span class="line">dpkg: dependency problems prevent configuration of libgl1-mesa-glx:riscv64:</span><br><span class="line"> libgl1-mesa-glx:riscv64 depends on libglx-mesa0; however:</span><br><span class="line">  Package libglx-mesa0:riscv64 is not configured yet.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package libgl1-mesa-glx:riscv64 (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Processing triggers for libc-bin (2.37-13) ...</span><br><span class="line">Errors were encountered while processing:</span><br><span class="line"> libgl1-mesa-dri:riscv64</span><br><span class="line"> libglx-mesa0:riscv64</span><br><span class="line"> mesa-va-drivers:riscv64</span><br><span class="line"> mesa-vdpau-drivers:riscv64</span><br><span class="line"> mesa-vulkan-drivers:riscv64</span><br><span class="line"> libgl1-mesa-glx:riscv64</span><br><span class="line">root@lvision-MS-7C60:/opt/debs# </span><br></pre></td></tr></table></figure>
<h2 id="configure-initramfs">3.9 Configure Initramfs</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">root@lvision-MS-7C60:/# mkdir -p /opt/initramfs-setup</span><br><span class="line">cd /opt/initramfs-setup</span><br><span class="line">cp /boot/initrd.img-6.6.5-starfive /opt/initramfs-setup</span><br><span class="line">zstd -d initrd.img-6.6.5-starfive -o initrd</span><br><span class="line">mkdir rootfs</span><br><span class="line">cd rootfs</span><br><span class="line">cpio -id &lt; ../initrd</span><br><span class="line">mkdir -p lib/firmware</span><br><span class="line">mount -t tmpfs none lib/firmware</span><br><span class="line">cp /lib/firmware/rgx.fw.* lib/firmware</span><br><span class="line">cp /lib/firmware/rgx.sh.* lib/firmware</span><br><span class="line">sync</span><br><span class="line">find . | cpio -H newc -o | zstd -19 --ultra -o initrd.img-6.6.5-starfive</span><br><span class="line">cp initrd.img-6.6.5-starfive /boot/initrd.img-6.6.5-starfive</span><br><span class="line">umount /opt/initramfs-setup/rootfs/lib/firmware</span><br><span class="line">rm -rf /opt/initramfs-setup</span><br><span class="line">initrd.img-6.6.5-starfive: 12559872 bytes                                      </span><br><span class="line">24531 blocks</span><br><span class="line">Read:     0   B  ==&gt;  0%25516 blocks                                           </span><br><span class="line">/*stdin*\            : 40.14%   (  12.5 MiB =&gt;   5.00 MiB, initrd.img-6.6.5-starfive) </span><br><span class="line">root@lvision-MS-7C60:/opt/initramfs-setup/rootfs# cd /etc/kernel/postinst.d</span><br><span class="line">rm -rf zz-u-boot-menu</span><br><span class="line">rm -rf zz-initramfs-mod</span><br><span class="line">root@lvision-MS-7C60:/etc/kernel/postinst.d# cat &lt;&lt; EOF &gt;&gt; zz-u-boot-menu</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line">set -e</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Exit <span class="keyword">if</span> extlinux was removed (!= purged)</span></span><br><span class="line">if [ -x /usr/sbin/u-boot-update ]</span><br><span class="line">then</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Update extlinux configuration</span></span><br><span class="line">u-boot-update</span><br><span class="line">fi</span><br><span class="line">sed -i &#x27;/append/i \\\tfdtdir /dtbs&#x27; /boot/extlinux/extlinux.conf</span><br><span class="line">EOF</span><br><span class="line">root@lvision-MS-7C60:/etc/kernel/postinst.d# cat &lt;&lt; EOF &gt;&gt; zz-initramfs-mod</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line">set -e</span><br><span class="line">VERSION=&quot;\$1&quot;</span><br><span class="line">INITRD=&quot;/boot/initrd.img-\$VERSION&quot;</span><br><span class="line">echo &quot;Copying rgx firmware to initrd...&quot;</span><br><span class="line">TEMPDIR=\$(mktemp -d)</span><br><span class="line">mkdir &quot;\$TEMPDIR/initrd&quot;</span><br><span class="line">cd &quot;\$TEMPDIR/initrd&quot;</span><br><span class="line">zstd -d --stdout &quot;\$INITRD&quot; | cpio -id</span><br><span class="line">if [ ! -d &quot;./lib/firmware&quot; ]; then</span><br><span class="line">echo &quot;Creating lib/firmware folder in initrd...&quot;</span><br><span class="line">mkdir -p &quot;./lib/firmware&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Copy firmware files to lib/firmware</span></span><br><span class="line">cp /lib/firmware/rgx.* ./lib/firmware/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Recreate initrd image</span></span><br><span class="line">find . | cpio -H newc -o | zstd -19 --ultra &gt; &quot;\$INITRD.tmp&quot;</span><br><span class="line">mv &quot;\$INITRD.tmp&quot; &quot;\$INITRD&quot;</span><br><span class="line">cd -</span><br><span class="line">rm -rf &quot;\$TEMPDIR&quot;</span><br><span class="line">echo &quot;Done.&quot;</span><br><span class="line">EOF</span><br><span class="line">root@lvision-MS-7C60:/etc/kernel/postinst.d# chmod +x zz-initramfs-mod</span><br><span class="line">chmod +x zz-u-boot-menu</span><br><span class="line">cd /etc/kernel/postrm.d</span><br><span class="line">rm -rf zz-u-boot-menu</span><br><span class="line">root@lvision-MS-7C60:/etc/kernel/postrm.d# cat &lt;&lt; EOF &gt;&gt; zz-u-boot-menu</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line">set -e</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Exit <span class="keyword">if</span> extlinux was removed (!= purged)</span></span><br><span class="line">if [ -x /usr/sbin/u-boot-update ]</span><br><span class="line">then</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Update extlinux configuration</span></span><br><span class="line">u-boot-update</span><br><span class="line">fi</span><br><span class="line">sed -i &#x27;/append/i \\\tfdtdir /dtbs&#x27; /boot/extlinux/extlinux.conf</span><br><span class="line">EOF</span><br><span class="line">root@lvision-MS-7C60:/etc/kernel/postrm.d# chmod +x zz-u-boot-menu</span><br><span class="line">root@lvision-MS-7C60:/etc/kernel/postrm.d# </span><br></pre></td></tr></table></figure>
<h2 id="configure-vpu">3.10 Configure VPU</h2>
<p>Follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a>.</p>
<h2 id="configure-audio-server">3.11 Configure Audio Server</h2>
<p>Follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a>.</p>
<h2 id="configure-ssh-keygen">3.12 Configure SSH Keygen</h2>
<p>Follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a>.</p>
<h2 id="mask-hibernate">3.13 Mask Hibernate</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@lvision-MS-7C60:~# systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target</span><br><span class="line">⚠️ /proc/ is not mounted. This is not a supported mode of operation. Please fix</span><br><span class="line">your invocation environment to mount /proc/ and /sys/ properly. Proceeding anyway.</span><br><span class="line">Your mileage may vary.</span><br><span class="line">Created symlink /etc/systemd/system/sleep.target → /dev/null.</span><br><span class="line">Created symlink /etc/systemd/system/suspend.target → /dev/null.</span><br><span class="line">Created symlink /etc/systemd/system/hibernate.target → /dev/null.</span><br><span class="line">Created symlink /etc/systemd/system/hybrid-sleep.target → /dev/null.</span><br><span class="line">root@lvision-MS-7C60:/etc/init.d# cd ~</span><br><span class="line">root@lvision-MS-7C60:~#</span><br></pre></td></tr></table></figure>
<h2 id="configure-blacklist-module">3.14 Configure Blacklist Module</h2>
<p>Follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a>.</p>
<h2 id="install-applications">3.15 Install Applications</h2>
<p><span style="color:red">I didn't follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a>, but use <code>apt install</code>
instead.</span></p>
<h2 id="hold-custom-packages">3.16 Hold Custom Packages</h2>
<p>Ignore.</p>
<h2 id="clean-up">3.17 Clean Up</h2>
<p>Follow <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/Building_StarFive_Debian_Image">Building
StarFive Debian Image</a>.</p>
<h1 id="build-image">4. Build Image</h1>
<h2 id="build-sd-image">4.1 Build SD Image</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">➜  create_sd_image mkdir boot rootfs</span><br><span class="line">sudo mkfs.vfat /dev/loop19p3</span><br><span class="line">sudo mkfs.ext4 -m 0 -L root /dev/loop19p4</span><br><span class="line">sudo mount /dev/loop19p3 $VF2_WORK_DIR/create_sd_image/boot</span><br><span class="line">sudo mount /dev/loop19p4 $VF2_WORK_DIR/create_sd_image/rootfs</span><br><span class="line">wget https://github.com/starfive-tech/VisionFive2/releases/download/JH7110_VF2_515_v3.9.3/u-boot-spl.bin.normal.out ./</span><br><span class="line">wget https://github.com/starfive-tech/VisionFive2/releases/download/JH7110_VF2_515_v3.9.3/visionfive2_fw_payload.img ./</span><br><span class="line">sudo dd if=u-boot-spl.bin.normal.out of=/dev/loop19p1 bs=4096</span><br><span class="line">sudo dd if=visionfive2_fw_payload.img of=/dev/loop19p2 bs=4096</span><br><span class="line">sudo cp -a $VF2_WORK_DIR/riscv-chroot-snapshots/* $VF2_WORK_DIR/create_sd_image/rootfs</span><br><span class="line">sudo mv $VF2_WORK_DIR/create_sd_image/rootfs/boot/* $VF2_WORK_DIR/create_sd_image/boot</span><br><span class="line">sudo mkdir -p $VF2_WORK_DIR/create_sd_image/boot/dtbs</span><br><span class="line">sudo cp -r $VF2_WORK_DIR/create_sd_image/rootfs/usr/lib/linux-image-6.6.5*/* $VF2_WORK_DIR/create_sd_image/boot/dtbs</span><br><span class="line">sync</span><br><span class="line">mkfs.fat 4.2 (2021-01-31)</span><br><span class="line">mke2fs 1.46.5 (30-Dec-2021)</span><br><span class="line">Discarding device blocks: done                            </span><br><span class="line">Creating filesystem with 996091 4k blocks and 249488 inodes</span><br><span class="line">Filesystem UUID: 6e8ce8f8-5380-4c13-b4f4-2b43eb4a68a0</span><br><span class="line">Superblock backups stored on blocks: </span><br><span class="line">	32768, 98304, 163840, 229376, 294912, 819200, 884736</span><br><span class="line"></span><br><span class="line">Allocating group tables: done                            </span><br><span class="line">Writing inode tables: done                            </span><br><span class="line">Creating journal (16384 blocks): done</span><br><span class="line">Writing superblocks and filesystem accounting information: done </span><br><span class="line"></span><br><span class="line">--2023-12-09 14:44:48--  https://github.com/starfive-tech/VisionFive2/releases/download/JH7110_VF2_515_v3.9.3/u-boot-spl.bin.normal.out</span><br><span class="line">Resolving github.com (github.com)... 140.82.113.4</span><br><span class="line">Connecting to github.com (github.com)|140.82.113.4|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 302 Found</span><br><span class="line">Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/575344135/af366bc5-d71d-4816-8b7a-ddaf8b1d64c3?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20231209%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20231209T224448Z&amp;X-Amz-Expires=300&amp;X-Amz-Signature=fe39604eea2f133199e8b67f675c3d1c406125ae71b2f831e3006dac6b45ce6e&amp;X-Amz-SignedHeaders=host&amp;actor_id=0&amp;key_id=0&amp;repo_id=575344135&amp;response-content-disposition=attachment%3B%20filename%3Du-boot-spl.bin.normal.out&amp;response-content-type=application%2Foctet-stream [following]</span><br><span class="line">--2023-12-09 14:44:48--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/575344135/af366bc5-d71d-4816-8b7a-ddaf8b1d64c3?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20231209%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20231209T224448Z&amp;X-Amz-Expires=300&amp;X-Amz-Signature=fe39604eea2f133199e8b67f675c3d1c406125ae71b2f831e3006dac6b45ce6e&amp;X-Amz-SignedHeaders=host&amp;actor_id=0&amp;key_id=0&amp;repo_id=575344135&amp;response-content-disposition=attachment%3B%20filename%3Du-boot-spl.bin.normal.out&amp;response-content-type=application%2Foctet-stream</span><br><span class="line">Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.111.133, 185.199.109.133, 185.199.110.133, ...</span><br><span class="line">Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.111.133|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 147336 (144K) [application/octet-stream]</span><br><span class="line">Saving to: ‘u-boot-spl.bin.normal.out’</span><br><span class="line"></span><br><span class="line">u-boot-spl.bin.normal.out                                             100%[======================================================================================================================================================================&gt;] 143.88K  --.-KB/s    in 0.03s   </span><br><span class="line"></span><br><span class="line">2023-12-09 14:44:48 (4.04 MB/s) - ‘u-boot-spl.bin.normal.out’ saved [147336/147336]</span><br><span class="line"></span><br><span class="line">--2023-12-09 14:44:48--  http://./</span><br><span class="line">Resolving . (.)... failed: Name or service not known.</span><br><span class="line">wget: unable to resolve host address ‘.’</span><br><span class="line">FINISHED --2023-12-09 14:44:48--</span><br><span class="line">Total wall clock time: 0.6s</span><br><span class="line">Downloaded: 1 files, 144K in 0.03s (4.04 MB/s)</span><br><span class="line">--2023-12-09 14:44:48--  https://github.com/starfive-tech/VisionFive2/releases/download/JH7110_VF2_515_v3.9.3/visionfive2_fw_payload.img</span><br><span class="line">Resolving github.com (github.com)... 140.82.113.4</span><br><span class="line">Connecting to github.com (github.com)|140.82.113.4|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 302 Found</span><br><span class="line">Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/575344135/889dfed1-a205-4455-9b23-1632d8c95e08?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20231209%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20231209T224448Z&amp;X-Amz-Expires=300&amp;X-Amz-Signature=5c3709ad854710aaff67eb4180b4e83208f30a73865b7e5710818d3e9235eb3f&amp;X-Amz-SignedHeaders=host&amp;actor_id=0&amp;key_id=0&amp;repo_id=575344135&amp;response-content-disposition=attachment%3B%20filename%3Dvisionfive2_fw_payload.img&amp;response-content-type=application%2Foctet-stream [following]</span><br><span class="line">--2023-12-09 14:44:49--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/575344135/889dfed1-a205-4455-9b23-1632d8c95e08?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20231209%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20231209T224448Z&amp;X-Amz-Expires=300&amp;X-Amz-Signature=5c3709ad854710aaff67eb4180b4e83208f30a73865b7e5710818d3e9235eb3f&amp;X-Amz-SignedHeaders=host&amp;actor_id=0&amp;key_id=0&amp;repo_id=575344135&amp;response-content-disposition=attachment%3B%20filename%3Dvisionfive2_fw_payload.img&amp;response-content-type=application%2Foctet-stream</span><br><span class="line">Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.111.133, 185.199.110.133, 185.199.108.133, ...</span><br><span class="line">Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.111.133|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 3013813 (2.9M) [application/octet-stream]</span><br><span class="line">Saving to: ‘visionfive2_fw_payload.img’</span><br><span class="line"></span><br><span class="line">visionfive2_fw_payload.img                                            100%[======================================================================================================================================================================&gt;]   2.87M  --.-KB/s    in 0.09s   </span><br><span class="line"></span><br><span class="line">2023-12-09 14:44:49 (31.1 MB/s) - ‘visionfive2_fw_payload.img’ saved [3013813/3013813]</span><br><span class="line"></span><br><span class="line">--2023-12-09 14:44:49--  http://./</span><br><span class="line">Resolving . (.)... failed: Name or service not known.</span><br><span class="line">wget: unable to resolve host address ‘.’</span><br><span class="line">FINISHED --2023-12-09 14:44:49--</span><br><span class="line">Total wall clock time: 0.7s</span><br><span class="line">Downloaded: 1 files, 2.9M in 0.09s (31.1 MB/s)</span><br><span class="line">35+1 records in</span><br><span class="line">35+1 records out</span><br><span class="line">147336 bytes (147 kB, 144 KiB) copied, 0.00141836 s, 104 MB/s</span><br><span class="line">735+1 records in</span><br><span class="line">735+1 records out</span><br><span class="line">3013813 bytes (3.0 MB, 2.9 MiB) copied, 0.0123574 s, 244 MB/s</span><br><span class="line">➜  create_sd_image ll</span><br><span class="line">total 2.1G</span><br><span class="line">drwxr-xr-x  4 root    root     16K Dec 31  1969 boot</span><br><span class="line">drwxr-xr-x 18 root    root    4.0K Dec  9 14:44 rootfs</span><br><span class="line">-rw-r--r--  1 root    root    4.0G Dec  9 14:44 starfive-jh7110-SD-minimal-desktop.img</span><br><span class="line">-rw-rw-r--  1 lvision lvision 144K Nov 29 06:40 u-boot-spl.bin.normal.out</span><br><span class="line">-rw-rw-r--  1 lvision lvision 2.9M Nov 29 06:38 visionfive2_fw_payload.img</span><br><span class="line">➜  create_sd_image </span><br></pre></td></tr></table></figure>
<p>Now, <strong>finger crossed</strong>. Hopefully,
<strong>starfive-jh7110-SD-minimal-desktop.img</strong> is working
properly.</p>
<h2 id="build-emmc-image">4.2 Build eMMC Image</h2>
<p>Ingore</p>
<h2 id="build-nvme-image">4.3 Build NVME Image</h2>
<p>Ignore</p>
<h1 id="demonstration">5. Demonstration</h1>
<p>After flashing this
<strong>starfive-jh7110-SD-minimal-desktop.img</strong>, let's try out
our customized <a
target="_blank" rel="noopener" href="http://deb.debian.org/debian/dists/Debian12.3/">Debian
12.3</a>.</p>
<h1 id="other-useful-online-info">6. Other Useful Online Info</h1>
<p><a
target="_blank" rel="noopener" href="https://doc-en.rvspace.org/VisionFive2/Quick_Start_Guide/VisionFive2_SDK_QSG/spl_new.html">SPL
New</a> <a
target="_blank" rel="noopener" href="https://rvspace.org/en/project/VisionFive2_Debian_User_Guide">VisionFive2
Debian User Guide</a> <a
target="_blank" rel="noopener" href="https://doc-en.rvspace.org/VisionFive/Quick_Start_Guide/">Quick
Start Guide</a> <a
target="_blank" rel="noopener" href="https://wiki.rvspace.org/en/application/Application">Application
Center</a> <a
target="_blank" rel="noopener" href="https://doc-en.rvspace.org/VisionFive/Software_Technical_Reference_Manual/index.html">Software
Technical Reference Manual</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2023/12/07/SBCs/FPGA/iCEstick/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/07/SBCs/FPGA/iCEstick/" class="post-title-link" itemprop="url">iCEstick Evaluation Kit</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-12-07 15:38:38" itemprop="dateCreated datePublished" datetime="2023-12-07T15:38:38-08:00">2023-12-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-29 22:09:54" itemprop="dateModified" datetime="2024-09-29T22:09:54-07:00">2024-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/FPGA/" itemprop="url" rel="index"><span itemprop="name">FPGA</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a href="/2023/12/04/SBCs/FPGA/quickfeather#bricked">My
<strong>FIRST</strong> <strong>FPGA board</strong> went bricked</a>. So,
today, I'll have to try another one: <a
target="_blank" rel="noopener" href="https://www.latticesemi.com/icestick">iCEstick</a>. This is really
a good journey in my opinion.</p>
<h1 id="introduction">1. Introduction</h1>
<h2 id="lsusb">1.1 lsusb</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">Bus 011 Device 002: ID 0403:6010 Future Technology Devices International, Ltd FT2232C/D/H Dual UART/FIFO IC</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h2 id="why-two-devices">1.2 Why TWO Devices?</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ ll /dev/ttyUSB*                                                         </span><br><span class="line">crw-rw----+ 1 root plugdev 188, 0 Dec  7 15:17 /dev/ttyUSB0</span><br><span class="line">crw-rw----+ 1 root plugdev 188, 1 Dec  7 15:17 /dev/ttyUSB1</span><br><span class="line">➜  ~ </span><br></pre></td></tr></table></figure>
<h2 id="spec">1.3 Spec</h2>
<ul>
<li>Official website: <a
target="_blank" rel="noopener" href="https://www.latticesemi.com/icestick">iCEstick</a></li>
</ul>
<h2 id="github-source-code">1.4 Github Source Code</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://github.com/FPGAwars/apio/tree/develop/test-examples/Icestick">iCEstick
test examples</a></li>
<li><a
target="_blank" rel="noopener" href="https://github.com/FPGAwars/apio-examples/tree/master/icestick">apio
examples iCEstick</a></li>
</ul>
<h1 id="flash-the-firmware">2. Flash the Firmware</h1>
<h2 id="preparation">2.1 Preparation</h2>
<h3 id="ensure-python-and-apio-are-both-installed">2.1.1 Ensure Python
and APIO Are Both Installed</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio.png"
alt="Python apio version" /></a></p>
<h3 id="apio-install-all-and-lsftdi">2.1.2 APIO Install ALL and
lsftdi</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_install.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_install.png"
alt="APIO Install ALL and lsftdi" /></a></p>
<h2 id="apio-examples-for-icestick">2.2 APIO Examples for iCEstick</h2>
<h3 id="list-all-apio-examples">2.2.1 List ALL APIO Examples</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_examples.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_examples.png"
alt="List ALL APIO Examples" /></a></p>
<h3 id="install-apio-example-leds">2.2.2 Install APIO Example LEDs</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_examples_icestick.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_examples_icestick.png"
alt="Install APIO Example LEDs" /></a></p>
<h2 id="find-corresponding-boards-name">2.3 Find Corresponding Board's
Name</h2>
<h3 id="list-all-apio-supported-boards">2.3.1 List ALL APIO Supported
Boards</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_boards.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_boards.png"
alt="List ALL APIO Supported Boards" /></a></p>
<h3 id="find-the-name-of-your-fpga-board">2.3.2 Find the Name of Your
FPGA Board</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_boards_iCE40.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_boards_iCE40.png"
alt="Find the Name of Your FPGA Board" /></a></p>
<h2 id="init-verify-sim-build-and-upload">2.3 Init, Verify, Sim, Build
and Upload</h2>
<h3 id="init-and-verify">2.3.1 Init and Verify</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_init_verify.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_init_verify.png"
alt="Init and Verify" /></a></p>
<h3 id="simulation-with-gtkwave">2.3.2 Simulation with <a
target="_blank" rel="noopener" href="https://gtkwave.sourceforge.net">GTKWave</a></h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_sim_gtkwave.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_sim_gtkwave.png"
alt="Simulation with [GTKWave]" /></a></p>
<h3 id="build">2.3.3 Build</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_build.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_build.png"
alt="Build" /></a></p>
<h3 id="upload">2.3.4 Upload</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_upload.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/fpga/iCEstick/apio_upload.png"
alt="Upload" /></a></p>
<h1 id="demonstration">3. Demonstration</h1>
<iframe width="1280" height="720" src="https://www.youtube.com/embed/oepF3CaFrhM" title="iCEstick LEDs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2023/12/05/SBCs/RISC-V/MaixDuino-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/05/SBCs/RISC-V/MaixDuino-2/" class="post-title-link" itemprop="url">MaixDuino 2 - Binocular</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-12-05 13:57:11" itemprop="dateCreated datePublished" datetime="2023-12-05T13:57:11-08:00">2023-12-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 21:18:06" itemprop="dateModified" datetime="2024-09-28T21:18:06-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>My previous blog <a
href="/2023/12/04/SBCs/RISC-V/MaixDuino-1/">MaixDuino 1</a> briefly
introduced the fundamental functionalities of <a
target="_blank" rel="noopener" href="https://maixduino.sipeed.com/en/">MaixDuino</a>. Today, two more
functionalities are to be investigated.</p>
<h1 id="binocular">1. Binocular</h1>
<p><a target="_blank" rel="noopener" href="https://sipeed.com/">Sipeed</a> provides its official <a
target="_blank" rel="noopener" href="https://github.com/sipeed/Maixduino/blob/master/libraries/Sipeed_GC0328/examples/sipeed_gc0328_binocular.ino">sipeed_gc0328_binocular.ino</a>.</p>
<h2 id="verifycompile">1.1 Verify/Compile</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sketch uses 321804 bytes (3%) of program storage space. Maximum is 8388608 bytes.</span><br></pre></td></tr></table></figure>
<h2 id="upload-using-programmer-k-flash">1.2 Upload Using Programmer
(k-flash)</h2>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line">Sketch uses 321804 bytes (3%) of program storage space. Maximum is 8388608 bytes.</span><br><span class="line">[INFO] ANSI colors not used </span><br><span class="line">[INFO] COM Port Selected Manually:  /dev/ttyUSB0 </span><br><span class="line">[INFO] Default baudrate is 115200 , later it may be changed to the value you set. </span><br><span class="line">[INFO] Trying to Enter the ISP Mode... </span><br><span class="line">*</span><br><span class="line">[INFO] Greeting Message Detected, Start Downloading ISP </span><br><span class="line"></span><br><span class="line">Downloading ISP: |---------------------------------------------| 1.5% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |=--------------------------------------------| 3.1% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |==-------------------------------------------| 4.6% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |==-------------------------------------------| 6.2% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |===------------------------------------------| 7.7% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |====-----------------------------------------| 9.2% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |====-----------------------------------------| 10.8% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |=====----------------------------------------| 12.3% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |======---------------------------------------| 13.8% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |======---------------------------------------| 15.4% </span><br><span class="line"></span><br><span class="line">Downloading ISP: |=======--------------------------------------| 16.9% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |========-------------------------------------| 18.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=========------------------------------------| 20.0% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=========------------------------------------| 21.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==========-----------------------------------| 23.1% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===========----------------------------------| 24.6% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===========----------------------------------| 26.2% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |============---------------------------------| 27.7% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=============--------------------------------| 29.2% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=============--------------------------------| 30.8% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==============-------------------------------| 32.3% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===============------------------------------| 33.8% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===============------------------------------| 35.4% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |================-----------------------------| 36.9% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=================----------------------------| 38.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==================---------------------------| 40.0% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==================---------------------------| 41.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===================--------------------------| 43.1% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |====================-------------------------| 44.6% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |====================-------------------------| 46.2% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=====================------------------------| 47.7% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |======================-----------------------| 49.2% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |======================-----------------------| 50.8% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=======================----------------------| 52.3% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |========================---------------------| 53.8% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |========================---------------------| 55.4% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=========================--------------------| 56.9% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==========================-------------------| 58.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===========================------------------| 60.0% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===========================------------------| 61.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |============================-----------------| 63.1% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=============================----------------| 64.6% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=============================----------------| 66.2% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==============================---------------| 67.7% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===============================--------------| 69.2% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===============================--------------| 70.8% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |================================-------------| 72.3% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=================================------------| 73.8% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=================================------------| 75.4% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==================================-----------| 76.9% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===================================----------| 78.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |====================================---------| 80.0% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |====================================---------| 81.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=====================================--------| 83.1% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |======================================-------| 84.6% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |======================================-------| 86.2% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=======================================------| 87.7% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |========================================-----| 89.2% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |========================================-----| 90.8% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=========================================----| 92.3% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==========================================---| 93.8% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |==========================================---| 95.4% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |===========================================--| 96.9% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |============================================-| 98.5% 10kiB/s</span><br><span class="line"></span><br><span class="line">Downloading ISP: |=============================================| 100.0% 10kiB/s</span><br><span class="line">[INFO] Booting From 0x80000000 </span><br><span class="line">[INFO] Wait For 0.1 second for ISP to Boot </span><br><span class="line">[INFO] Boot to Flashmode Successfully </span><br><span class="line">[INFO] Selected Baudrate:  500000 </span><br><span class="line">[INFO] Baudrate changed, greeting with ISP again ...  </span><br><span class="line">[INFO] Boot to Flashmode Successfully </span><br><span class="line">[INFO] Selected Flash:  On-Board </span><br><span class="line">[INFO] Initialization flash Successfully </span><br><span class="line"></span><br><span class="line">Programming BIN: |===============------------------------------| 33.3% 29kiB/s</span><br><span class="line"></span><br><span class="line">Programming BIN: |==============================---------------| 66.7% 29kiB/s</span><br><span class="line"></span><br><span class="line">Programming BIN: |=============================================| 100.0% 28kiB/s</span><br><span class="line">[INFO] Rebooting... </span><br></pre></td></tr></table></figure>
<h2 id="demonstration">1.3 Demonstration</h2>
<iframe width="680" height="1208" src="https://www.youtube.com/embed/SZ-Bsp2wfm0" title="MaixDuino K210 Camera Binocular Left Right Switch" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
<h1 id="wifi">2. Wifi</h1>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Nobody</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
