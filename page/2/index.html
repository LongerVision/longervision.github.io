<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"longervision.ca","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Longer Vision Technology Github Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Longer Vision Technology">
<meta property="og:url" content="http://longervision.ca/page/2/index.html">
<meta property="og:site_name" content="Longer Vision Technology">
<meta property="og:description" content="Longer Vision Technology Github Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Nobody">
<meta property="article:tag" content="Longer Vision, Computer Vision, AI, Machine Learning">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://longervision.ca/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Longer Vision Technology</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Longer Vision Technology</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Github Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Nobody</p>
  <div class="site-description" itemprop="description">Longer Vision Technology Github Blog</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">149</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">138</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/07/25/OperatingSystems/RaspberryPi/OctoPrint/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/25/OperatingSystems/RaspberryPi/OctoPrint/" class="post-title-link" itemprop="url">OctoPrint on A Raspberry Pi</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-07-25 10:14:18" itemprop="dateCreated datePublished" datetime="2024-07-25T10:14:18-07:00">2024-07-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-30 02:31:23" itemprop="dateModified" datetime="2024-09-30T02:31:23-07:00">2024-09-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Operating-System/" itemprop="url" rel="index"><span itemprop="name">Operating System</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Operating-System/Raspberry-Pi/" itemprop="url" rel="index"><span itemprop="name">Raspberry Pi</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Finally, I got some time for <a
target="_blank" rel="noopener" href="https://octoprint.org/">OctoPrint</a>, another specific operating
system for <a target="_blank" rel="noopener" href="https://www.raspberrypi.com/">Raspberry Pi</a>, as
<a target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a> talked in my
previous blog <a
target="_blank" rel="noopener" href="https://longervision.github.io/2024/2024/05/30/OperatingSystems/OSForRaspberryPi/home-assistant/">Home
Assistant on A Raspberry Pi</a>.</p>
<h1 id="overview">1. Overview</h1>
<h2 id="what-is-octoprint">1.1 What is <a
target="_blank" rel="noopener" href="https://octoprint.org/">OctoPrint</a>?</h2>
<p>From its official website, clearly, <a
target="_blank" rel="noopener" href="https://octoprint.org/">OctoPrint</a> is an operating system for
<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/3D_printing">3D Printing</a>. Its
capabilities can be extended to other manufacturing fields.
Specifically, <a
target="_blank" rel="noopener" href="https://github.com/OctoPrint/OctoPi-UpToDate">OctoPi</a> will work
on a <a target="_blank" rel="noopener" href="https://www.raspberrypi.com/">Raspberry Pi</a>.</p>
<h2 id="flash-octopi-onto-raspberry-pi">1.2 Flash <a
target="_blank" rel="noopener" href="https://github.com/OctoPrint/OctoPi-UpToDate">OctoPi</a> Onto <a
target="_blank" rel="noopener" href="https://www.raspberrypi.com/">Raspberry Pi</a></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=./octopi-1.0.0-1.10.2-20240618101629.img of=/dev/sdb bs=1M status=progress conv=fsync </span><br><span class="line">[sudo] password for lvision: </span><br><span class="line">2357198848 bytes (2.4 GB, 2.2 GiB) copied, 2 s, 1.2 GB/s2906653696 bytes (2.9 GB, 2.7 GiB) copied, 2.4707 s, 1.2 GB/s</span><br><span class="line"></span><br><span class="line">2772+1 records in</span><br><span class="line">2772+1 records out</span><br><span class="line">2906653696 bytes (2.9 GB, 2.7 GiB) copied, 248.633 s, 11.7 MB/s</span><br></pre></td></tr></table></figure>
<h1 id="ssh-into-octopi">2. <code>ssh</code> Into <a
target="_blank" rel="noopener" href="https://github.com/OctoPrint/OctoPi-UpToDate">OctoPi</a></h1>
<h2 id="first-login">2.1 FIRST Login</h2>
<p>You got to login <a
target="_blank" rel="noopener" href="https://github.com/OctoPrint/OctoPi-UpToDate">OctoPi</a> locally
for the <strong>FIRST</strong> time, instead of remotely, for the <a
target="_blank" rel="noopener" href="https://networkmanager.dev/">NetworkManager</a> service is
<strong>NOT</strong> started by default. Namely, there is
<strong>NO</strong> Wi-Fi by default. Well, you can
<strong>ALWAYS</strong> use the wired connection of course.</p>
<h3 id="start-networkmanager-whenever-reboot">2.1.1 Start <a
target="_blank" rel="noopener" href="https://networkmanager.dev/">NetworkManager</a> Whenever
Reboot</h3>
<p>Use the following commands:</p>
<ul>
<li><code>sudo systemctl status NetworkManager</code></li>
<li><code>sudo systemctl enable NetworkManager</code></li>
<li><code>sudo systemctl start NetworkManager</code></li>
<li><code>sudo systemctl status NetworkManager</code> for double
check</li>
<li><code>sudo reboot reboot to ensure NetworkManager</code> is started
by default</li>
<li><code>sudo systemctl status NetworkManager</code> check again</li>
</ul>
<h3 id="nmcli-to-set-up-wi-fi">2.1.2 <a
target="_blank" rel="noopener" href="https://networkmanager.dev/docs/api/latest/nmcli.html">nmcli</a>
to Set Up Wi-Fi</h3>
<p>Use the following commands:</p>
<ul>
<li><code>nmcli dev wifi list</code></li>
<li><code>nmcli dev wifi connect NetworkName password WiFiPassword</code>
(You don't need to quote or double-quote <strong>NetworkName</strong> or
<strong>WiFiPassword</strong>)</li>
</ul>
<p>Now, you’re good to go.</p>
<h2 id="ssh-into-octopi-via-wi-fi-connection">2.2 <code>ssh</code> Into
<a target="_blank" rel="noopener" href="https://github.com/OctoPrint/OctoPi-UpToDate">OctoPi</a> Via
Wi-Fi Connection</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ ssh lvision@192.168.1.76</span><br><span class="line">lvision@192.168.1.76&#x27;s password: </span><br><span class="line">Linux octopi 6.1.21-v7+ #1642 SMP Mon Apr  3 17:20:52 BST 2023 armv7l</span><br><span class="line"></span><br><span class="line">The programs included with the Debian GNU/Linux system are free software;</span><br><span class="line">the exact distribution terms for each program are described in the</span><br><span class="line">individual files in /usr/share/doc/*/copyright.</span><br><span class="line"></span><br><span class="line">Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent</span><br><span class="line">permitted by applicable law.</span><br><span class="line">Last login: Thu Jul 25 20:23:51 2024 from 192.168.1.1</span><br><span class="line">➜  ~ neofetch</span><br><span class="line">  `.::///+:/-.        --///+//-:``    lvision@octopi </span><br><span class="line"> `+oooooooooooo:   `+oooooooooooo:    -------------- </span><br><span class="line">  /oooo++//ooooo:  ooooo+//+ooooo.    OS: Raspbian GNU/Linux 11 (bullseye) armv7l </span><br><span class="line">  `+ooooooo:-:oo-  +o+::/ooooooo:     Host: Raspberry Pi 3 Model B Rev 1.2 </span><br><span class="line">   `:oooooooo+``    `.oooooooo+-      Kernel: 6.1.21-v7+ </span><br><span class="line">     `:++ooo/.        :+ooo+/.`       Uptime: 5 mins </span><br><span class="line">        ...`  `.----.` ``..           Packages: 816 (dpkg) </span><br><span class="line">     .::::-``:::::::::.`-:::-`        Shell: zsh 5.8 </span><br><span class="line">    -:::-`   .:::::::-`  `-:::-       Terminal: /dev/pts/0 </span><br><span class="line">   `::.  `.--.`  `` `.---.``.::`      CPU: BCM2835 (4) @ 1.200GHz </span><br><span class="line">       .::::::::`  -::::::::` `       Memory: 111MiB / 870MiB </span><br><span class="line"> .::` .:::::::::- `::::::::::``::.</span><br><span class="line">-:::` ::::::::::.  ::::::::::.`:::-                           </span><br><span class="line">::::  -::::::::.   `-::::::::  ::::                           </span><br><span class="line">-::-   .-:::-.``....``.-::-.   -::-</span><br><span class="line"> .. ``       .::::::::.     `..`..</span><br><span class="line">   -:::-`   -::::::::::`  .:::::`</span><br><span class="line">   :::::::` -::::::::::` :::::::.</span><br><span class="line">   .:::::::  -::::::::. ::::::::</span><br><span class="line">    `-:::::`   ..--.`   ::::::.</span><br><span class="line">      `...`  `...--..`  `...`</span><br><span class="line">            .::::::::::</span><br><span class="line">             `.-::::-`</span><br></pre></td></tr></table></figure>
<h1 id="octoprint-on-octopi">3. <a
target="_blank" rel="noopener" href="https://octoprint.org/">OctoPrint</a> on <a
target="_blank" rel="noopener" href="https://github.com/OctoPrint/OctoPi-UpToDate">OctoPi</a></h1>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">octopi.local Setup Wizard</th>
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://octoprint.org/">OctoPrint</a> 3D Printer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/ti/raspberrypi/OctoPi/OctoPrint_octopi.local.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/ti/raspberrypi/OctoPi/OctoPrint_octopi.local.png"
alt="OctoPrint" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/ti/raspberrypi/OctoPi/OctoPrint_3DPrinter.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/ti/raspberrypi/OctoPi/OctoPrint_3DPrinter.png"
alt="OctoPi" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://octoprint.org/">OctoPrint</a> Server Reload</th>
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://octoprint.org/">OctoPrint</a> Webcam</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/ti/raspberrypi/OctoPi/OctoPrint_ServerReload.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/ti/raspberrypi/OctoPi/OctoPrint_ServerReload.png"
alt="OctoPrint Server Reload" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/ti/raspberrypi/OctoPi/OctoPrint_Webcam.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/ti/raspberrypi/OctoPi/OctoPrint_Webcam.png"
alt="OctoPrint Webcam" /></a></td>
</tr>
</tbody>
</table>
<h1 id="lasergrbl-and-lightburn">4. <a
target="_blank" rel="noopener" href="https://lasergrbl.com/">LaserGRBL</a> and <a
target="_blank" rel="noopener" href="https://lightburnsoftware.com/">LightBurn</a></h1>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/07/08/MachineVision/RGBD/Kinect-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/08/MachineVision/RGBD/Kinect-2/" class="post-title-link" itemprop="url">Kinect 2 on Jetson AGX Xavier</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-07-08 00:00:00" itemprop="dateCreated datePublished" datetime="2024-07-08T00:00:00-07:00">2024-07-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-10-15 00:17:33" itemprop="dateModified" datetime="2024-10-15T00:17:33-07:00">2024-10-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Machine-Vision/" itemprop="url" rel="index"><span itemprop="name">Machine Vision</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Machine-Vision/RGBD/" itemprop="url" rel="index"><span itemprop="name">RGBD</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Today, I wanna try out the old <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a> 2 on my old <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
AGX Xavier</a>.</p>
<h1 id="my-working-environment">0. My Working Environment</h1>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/jetson_agx_xavier_32g.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/jetson_agx_xavier_32g.png"
alt="Jetson AGX Xavier 32G" /></a></p>
<p>For how I set up my old <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
AGX Xavier</a>, please refer to my previous blog <a
target="_blank" rel="noopener" href="https://longervision.github.io/2024/07/06/SBCs/ARM/NVidia-Jetson-Xavier-AGX/">NVidia
Jetson Xavier AGX</a>.</p>
<h1 id="kinect-2">1. Kinect 2</h1>
<h2 id="overview">1.1 Overview</h2>
<p><a
target="_blank" rel="noopener" href="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Xbox-One-Kinect.jpg/2560px-Xbox-One-Kinect.jpg"><img
src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Xbox-One-Kinect.jpg/2560px-Xbox-One-Kinect.jpg"
alt="Kinect 2 Overview" /></a></p>
<h2 id="hardware-specification">1.2 Hardware Specification</h2>
<p>You can find specs of <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a> v2 in <a
target="_blank" rel="noopener" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9002889/">Evaluating
the Accuracy of the Azure Kinect and Kinect v2</a>.</p>
<h1 id="lsusb-and-add-udev-rules">2. <code>lsusb</code> and
<code>add udev rules</code></h1>
<h2 id="lsusb">2.1 <code>lsusb</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ lsusb | grep Microsoft</span><br><span class="line">Bus 009 Device 015: ID 045e:02d9 Microsoft Corp. NuiSensor Adaptor      </span><br><span class="line">Bus 010 Device 005: ID 045e:02d9 Microsoft Corp. NuiSensor Adaptor      </span><br><span class="line">Bus 010 Device 006: ID 045e:02c4 Microsoft Corp. Xbox NUI Sensor</span><br></pre></td></tr></table></figure>
<h2 id="lsusb-more-details">2.2 <code>lsusb</code> More Details</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsusb -v -d 045e:02c4</span><br><span class="line"></span><br><span class="line">Bus 002 Device 015: ID 045e:02c4 Microsoft Corp. </span><br><span class="line">Device Descriptor:</span><br><span class="line">  bLength                18</span><br><span class="line">  bDescriptorType         1</span><br><span class="line">  bcdUSB               3.00</span><br><span class="line">  bDeviceClass          239 Miscellaneous Device</span><br><span class="line">  bDeviceSubClass         2 </span><br><span class="line">  bDeviceProtocol         1 Interface Association</span><br><span class="line">  bMaxPacketSize0         9</span><br><span class="line">  idVendor           0x045e Microsoft Corp.</span><br><span class="line">  idProduct          0x02c4 </span><br><span class="line">  bcdDevice            1.00</span><br><span class="line">  iManufacturer           1 Microsoft</span><br><span class="line">  iProduct                2 Xbox NUI Sensor</span><br><span class="line">  iSerial                 4 178602434347</span><br><span class="line">  bNumConfigurations      1</span><br><span class="line">  Configuration Descriptor:</span><br><span class="line">    bLength                 9</span><br><span class="line">    bDescriptorType         2</span><br><span class="line">    wTotalLength       0x00d6</span><br><span class="line">    bNumInterfaces          4</span><br><span class="line">    bConfigurationValue     1</span><br><span class="line">    iConfiguration          0 </span><br><span class="line">    bmAttributes         0xe0</span><br><span class="line">      Self Powered</span><br><span class="line">      Remote Wakeup</span><br><span class="line">    MaxPower              144mA</span><br><span class="line">    Interface Association:</span><br><span class="line">      bLength                 8</span><br><span class="line">      bDescriptorType        11</span><br><span class="line">      bFirstInterface         0</span><br><span class="line">      bInterfaceCount         2</span><br><span class="line">      bFunctionClass        255 Vendor Specific Class</span><br><span class="line">      bFunctionSubClass     255 Vendor Specific Subclass</span><br><span class="line">      bFunctionProtocol       0 </span><br><span class="line">      iFunction               0 </span><br><span class="line">    Interface Descriptor:</span><br><span class="line">      bLength                 9</span><br><span class="line">      bDescriptorType         4</span><br><span class="line">      bInterfaceNumber        0</span><br><span class="line">      bAlternateSetting       0</span><br><span class="line">      bNumEndpoints           4</span><br><span class="line">      bInterfaceClass       255 Vendor Specific Class</span><br><span class="line">      bInterfaceSubClass      0 </span><br><span class="line">      bInterfaceProtocol      0 </span><br><span class="line">      iInterface              0 </span><br><span class="line">      Endpoint Descriptor:</span><br><span class="line">        bLength                 7</span><br><span class="line">        bDescriptorType         5</span><br><span class="line">        bEndpointAddress     0x81  EP 1 IN</span><br><span class="line">        bmAttributes            2</span><br><span class="line">          Transfer Type            Bulk</span><br><span class="line">          Synch Type               None</span><br><span class="line">          Usage Type               Data</span><br><span class="line">        wMaxPacketSize     0x0400  1x 1024 bytes</span><br><span class="line">        bInterval               0</span><br><span class="line">        bMaxBurst               7</span><br><span class="line">      Endpoint Descriptor:</span><br><span class="line">        bLength                 7</span><br><span class="line">        bDescriptorType         5</span><br><span class="line">        bEndpointAddress     0x02  EP 2 OUT</span><br><span class="line">        bmAttributes            2</span><br><span class="line">          Transfer Type            Bulk</span><br><span class="line">          Synch Type               None</span><br><span class="line">          Usage Type               Data</span><br><span class="line">        wMaxPacketSize     0x0400  1x 1024 bytes</span><br><span class="line">        bInterval               0</span><br><span class="line">        bMaxBurst               7</span><br><span class="line">      Endpoint Descriptor:</span><br><span class="line">        bLength                 7</span><br><span class="line">        bDescriptorType         5</span><br><span class="line">        bEndpointAddress     0x83  EP 3 IN</span><br><span class="line">        bmAttributes            2</span><br><span class="line">          Transfer Type            Bulk</span><br><span class="line">          Synch Type               None</span><br><span class="line">          Usage Type               Data</span><br><span class="line">        wMaxPacketSize     0x0400  1x 1024 bytes</span><br><span class="line">        bInterval               0</span><br><span class="line">        bMaxBurst               7</span><br><span class="line">      Endpoint Descriptor:</span><br><span class="line">        bLength                 7</span><br><span class="line">        bDescriptorType         5</span><br><span class="line">        bEndpointAddress     0x82  EP 2 IN</span><br><span class="line">        bmAttributes           19</span><br><span class="line">          Transfer Type            Interrupt</span><br><span class="line">          Synch Type               None</span><br><span class="line">          Usage Type               Feedback</span><br><span class="line">        wMaxPacketSize     0x0040  1x 64 bytes</span><br><span class="line">        bInterval              14</span><br><span class="line">        bMaxBurst               0</span><br><span class="line">    Interface Descriptor:</span><br><span class="line">      bLength                 9</span><br><span class="line">      bDescriptorType         4</span><br><span class="line">      bInterfaceNumber        1</span><br><span class="line">      bAlternateSetting       0</span><br><span class="line">      bNumEndpoints           0</span><br><span class="line">      bInterfaceClass       255 Vendor Specific Class</span><br><span class="line">      bInterfaceSubClass      0 </span><br><span class="line">      bInterfaceProtocol      0 </span><br><span class="line">      iInterface              0 </span><br><span class="line">    Interface Descriptor:</span><br><span class="line">      bLength                 9</span><br><span class="line">      bDescriptorType         4</span><br><span class="line">      bInterfaceNumber        1</span><br><span class="line">      bAlternateSetting       1</span><br><span class="line">      bNumEndpoints           1</span><br><span class="line">      bInterfaceClass       255 Vendor Specific Class</span><br><span class="line">      bInterfaceSubClass      0 </span><br><span class="line">      bInterfaceProtocol      0 </span><br><span class="line">      iInterface              0 </span><br><span class="line">      Endpoint Descriptor:</span><br><span class="line">        bLength                 7</span><br><span class="line">        bDescriptorType         5</span><br><span class="line">        bEndpointAddress     0x84  EP 4 IN</span><br><span class="line">        bmAttributes            1</span><br><span class="line">          Transfer Type            Isochronous</span><br><span class="line">          Synch Type               None</span><br><span class="line">          Usage Type               Data</span><br><span class="line">        wMaxPacketSize     0x0400  1x 1024 bytes</span><br><span class="line">        bInterval               1</span><br><span class="line">        bMaxBurst              10</span><br><span class="line">        Mult                    2</span><br><span class="line">    Interface Association:</span><br><span class="line">      bLength                 8</span><br><span class="line">      bDescriptorType        11</span><br><span class="line">      bFirstInterface         2</span><br><span class="line">      bInterfaceCount         2</span><br><span class="line">      bFunctionClass          1 Audio</span><br><span class="line">      bFunctionSubClass       2 Streaming</span><br><span class="line">      bFunctionProtocol       0 </span><br><span class="line">      iFunction               0 </span><br><span class="line">    Interface Descriptor:</span><br><span class="line">      bLength                 9</span><br><span class="line">      bDescriptorType         4</span><br><span class="line">      bInterfaceNumber        2</span><br><span class="line">      bAlternateSetting       0</span><br><span class="line">      bNumEndpoints           0</span><br><span class="line">      bInterfaceClass         1 Audio</span><br><span class="line">      bInterfaceSubClass      1 Control Device</span><br><span class="line">      bInterfaceProtocol      0 </span><br><span class="line">      iInterface              0 </span><br><span class="line">      AudioControl Interface Descriptor:</span><br><span class="line">        bLength                 9</span><br><span class="line">        bDescriptorType        36</span><br><span class="line">        bDescriptorSubtype      1 (HEADER)</span><br><span class="line">        bcdADC               1.00</span><br><span class="line">        wTotalLength       0x001e</span><br><span class="line">        bInCollection           1</span><br><span class="line">        baInterfaceNr(0)        3</span><br><span class="line">      AudioControl Interface Descriptor:</span><br><span class="line">        bLength                12</span><br><span class="line">        bDescriptorType        36</span><br><span class="line">        bDescriptorSubtype      2 (INPUT_TERMINAL)</span><br><span class="line">        bTerminalID             1</span><br><span class="line">        wTerminalType      0x0205 Microphone Array</span><br><span class="line">        bAssocTerminal          0</span><br><span class="line">        bNrChannels             4</span><br><span class="line">        wChannelConfig     0x0000</span><br><span class="line">        iChannelNames           0 </span><br><span class="line">        iTerminal               0 </span><br><span class="line">      AudioControl Interface Descriptor:</span><br><span class="line">        bLength                 9</span><br><span class="line">        bDescriptorType        36</span><br><span class="line">        bDescriptorSubtype      3 (OUTPUT_TERMINAL)</span><br><span class="line">        bTerminalID             3</span><br><span class="line">        wTerminalType      0x0101 USB Streaming</span><br><span class="line">        bAssocTerminal          0</span><br><span class="line">        bSourceID               1</span><br><span class="line">        iTerminal               0 </span><br><span class="line">    Interface Descriptor:</span><br><span class="line">      bLength                 9</span><br><span class="line">      bDescriptorType         4</span><br><span class="line">      bInterfaceNumber        3</span><br><span class="line">      bAlternateSetting       0</span><br><span class="line">      bNumEndpoints           0</span><br><span class="line">      bInterfaceClass         1 Audio</span><br><span class="line">      bInterfaceSubClass      2 Streaming</span><br><span class="line">      bInterfaceProtocol      0 </span><br><span class="line">      iInterface              0 </span><br><span class="line">    Interface Descriptor:</span><br><span class="line">      bLength                 9</span><br><span class="line">      bDescriptorType         4</span><br><span class="line">      bInterfaceNumber        3</span><br><span class="line">      bAlternateSetting       1</span><br><span class="line">      bNumEndpoints           1</span><br><span class="line">      bInterfaceClass         1 Audio</span><br><span class="line">      bInterfaceSubClass      2 Streaming</span><br><span class="line">      bInterfaceProtocol      0 </span><br><span class="line">      iInterface              0 </span><br><span class="line">      AudioStreaming Interface Descriptor:</span><br><span class="line">        bLength                 7</span><br><span class="line">        bDescriptorType        36</span><br><span class="line">        bDescriptorSubtype      1 (AS_GENERAL)</span><br><span class="line">        bTerminalLink           3</span><br><span class="line">        bDelay                  1 frames</span><br><span class="line">        wFormatTag         0x0001 PCM</span><br><span class="line">      AudioStreaming Interface Descriptor:</span><br><span class="line">        bLength                11</span><br><span class="line">        bDescriptorType        36</span><br><span class="line">        bDescriptorSubtype      2 (FORMAT_TYPE)</span><br><span class="line">        bFormatType             1 (FORMAT_TYPE_I)</span><br><span class="line">        bNrChannels             4</span><br><span class="line">        bSubframeSize           4</span><br><span class="line">        bBitResolution         32</span><br><span class="line">        bSamFreqType            1 Discrete</span><br><span class="line">        tSamFreq[ 0]        16000</span><br><span class="line">      Endpoint Descriptor:</span><br><span class="line">        bLength                 9</span><br><span class="line">        bDescriptorType         5</span><br><span class="line">        bEndpointAddress     0x85  EP 5 IN</span><br><span class="line">        bmAttributes            1</span><br><span class="line">          Transfer Type            Isochronous</span><br><span class="line">          Synch Type               None</span><br><span class="line">          Usage Type               Data</span><br><span class="line">        wMaxPacketSize     0x0100  1x 256 bytes</span><br><span class="line">        bInterval               4</span><br><span class="line">        bRefresh                0</span><br><span class="line">        bSynchAddress           0</span><br><span class="line">        bMaxBurst               0</span><br><span class="line">        AudioStreaming Endpoint Descriptor:</span><br><span class="line">          bLength                 7</span><br><span class="line">          bDescriptorType        37</span><br><span class="line">          bDescriptorSubtype      1 (EP_GENERAL)</span><br><span class="line">          bmAttributes         0x00</span><br><span class="line">          bLockDelayUnits         0 Undefined</span><br><span class="line">          wLockDelay         0x0000</span><br><span class="line">Binary Object Store Descriptor:</span><br><span class="line">  bLength                 5</span><br><span class="line">  bDescriptorType        15</span><br><span class="line">  wTotalLength       0x0016</span><br><span class="line">  bNumDeviceCaps          2</span><br><span class="line">  SuperSpeed USB Device Capability:</span><br><span class="line">    bLength                10</span><br><span class="line">    bDescriptorType        16</span><br><span class="line">    bDevCapabilityType      3</span><br><span class="line">    bmAttributes         0x00</span><br><span class="line">    wSpeedsSupported   0x000c</span><br><span class="line">      Device can operate at High Speed (480Mbps)</span><br><span class="line">      Device can operate at SuperSpeed (5Gbps)</span><br><span class="line">    bFunctionalitySupport   2</span><br><span class="line">      Lowest fully-functional device speed is High Speed (480Mbps)</span><br><span class="line">    bU1DevExitLat          10 micro seconds</span><br><span class="line">    bU2DevExitLat        2047 micro seconds</span><br><span class="line">  USB 2.0 Extension Device Capability:</span><br><span class="line">    bLength                 7</span><br><span class="line">    bDescriptorType        16</span><br><span class="line">    bDevCapabilityType      2</span><br><span class="line">    bmAttributes   0x00000002</span><br><span class="line">      HIRD Link Power Management (LPM) Supported</span><br><span class="line">can&#x27;t get debug descriptor: Resource temporarily unavailable</span><br><span class="line">Device Status:     0x0001</span><br><span class="line">  Self Powered</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsusb -v -d 045e:02d9 </span><br><span class="line"></span><br><span class="line">Bus 002 Device 014: ID 045e:02d9 Microsoft Corp. NuiSensor Adaptor      </span><br><span class="line">Device Descriptor:</span><br><span class="line">  bLength                18</span><br><span class="line">  bDescriptorType         1</span><br><span class="line">  bcdUSB               3.00</span><br><span class="line">  bDeviceClass            9 Hub</span><br><span class="line">  bDeviceSubClass         0 </span><br><span class="line">  bDeviceProtocol         3 </span><br><span class="line">  bMaxPacketSize0         9</span><br><span class="line">  idVendor           0x045e Microsoft Corp.</span><br><span class="line">  idProduct          0x02d9 </span><br><span class="line">  bcdDevice            0.73</span><br><span class="line">  iManufacturer           1 Microsoft Corporation  </span><br><span class="line">  iProduct                2 NuiSensor Adaptor      </span><br><span class="line">  iSerial                 0 </span><br><span class="line">  bNumConfigurations      1</span><br><span class="line">  Configuration Descriptor:</span><br><span class="line">    bLength                 9</span><br><span class="line">    bDescriptorType         2</span><br><span class="line">    wTotalLength       0x001f</span><br><span class="line">    bNumInterfaces          1</span><br><span class="line">    bConfigurationValue     1</span><br><span class="line">    iConfiguration          0 </span><br><span class="line">    bmAttributes         0xe0</span><br><span class="line">      Self Powered</span><br><span class="line">      Remote Wakeup</span><br><span class="line">    MaxPower                0mA</span><br><span class="line">    Interface Descriptor:</span><br><span class="line">      bLength                 9</span><br><span class="line">      bDescriptorType         4</span><br><span class="line">      bInterfaceNumber        0</span><br><span class="line">      bAlternateSetting       0</span><br><span class="line">      bNumEndpoints           1</span><br><span class="line">      bInterfaceClass         9 Hub</span><br><span class="line">      bInterfaceSubClass      0 </span><br><span class="line">      bInterfaceProtocol      0 Full speed (or root) hub</span><br><span class="line">      iInterface              0 </span><br><span class="line">      Endpoint Descriptor:</span><br><span class="line">        bLength                 7</span><br><span class="line">        bDescriptorType         5</span><br><span class="line">        bEndpointAddress     0x81  EP 1 IN</span><br><span class="line">        bmAttributes           19</span><br><span class="line">          Transfer Type            Interrupt</span><br><span class="line">          Synch Type               None</span><br><span class="line">          Usage Type               Feedback</span><br><span class="line">        wMaxPacketSize     0x0002  1x 2 bytes</span><br><span class="line">        bInterval               8</span><br><span class="line">        bMaxBurst               0</span><br><span class="line">Hub Descriptor:</span><br><span class="line">  bLength              12</span><br><span class="line">  bDescriptorType      42</span><br><span class="line">  nNbrPorts             1</span><br><span class="line">  wHubCharacteristic 0x000d</span><br><span class="line">    Per-port power switching</span><br><span class="line">    Compound device</span><br><span class="line">    Per-port overcurrent protection</span><br><span class="line">  bPwrOn2PwrGood      100 * 2 milli seconds</span><br><span class="line">  bHubContrCurrent      0 milli Ampere</span><br><span class="line">  bHubDecLat          0.4 micro seconds</span><br><span class="line">  wHubDelay          4004 nano seconds</span><br><span class="line">  DeviceRemovable    0x00</span><br><span class="line"> Hub Port Status:</span><br><span class="line">   Port 1: 0000.0203 5Gbps power U0 enable connect</span><br><span class="line">Binary Object Store Descriptor:</span><br><span class="line">  bLength                 5</span><br><span class="line">  bDescriptorType        15</span><br><span class="line">  wTotalLength       0x002a</span><br><span class="line">  bNumDeviceCaps          3</span><br><span class="line">  USB 2.0 Extension Device Capability:</span><br><span class="line">    bLength                 7</span><br><span class="line">    bDescriptorType        16</span><br><span class="line">    bDevCapabilityType      2</span><br><span class="line">    bmAttributes   0x00000002</span><br><span class="line">      HIRD Link Power Management (LPM) Supported</span><br><span class="line">  SuperSpeed USB Device Capability:</span><br><span class="line">    bLength                10</span><br><span class="line">    bDescriptorType        16</span><br><span class="line">    bDevCapabilityType      3</span><br><span class="line">    bmAttributes         0x00</span><br><span class="line">    wSpeedsSupported   0x000e</span><br><span class="line">      Device can operate at Full Speed (12Mbps)</span><br><span class="line">      Device can operate at High Speed (480Mbps)</span><br><span class="line">      Device can operate at SuperSpeed (5Gbps)</span><br><span class="line">    bFunctionalitySupport   1</span><br><span class="line">      Lowest fully-functional device speed is Full Speed (12Mbps)</span><br><span class="line">    bU1DevExitLat           4 micro seconds</span><br><span class="line">    bU2DevExitLat         231 micro seconds</span><br><span class="line">  Container ID Device Capability:</span><br><span class="line">    bLength                20</span><br><span class="line">    bDescriptorType        16</span><br><span class="line">    bDevCapabilityType      4</span><br><span class="line">    bReserved               0</span><br><span class="line">    ContainerID             &#123;30eef35c-07d5-2549-b001-802d79434c30&#125;</span><br><span class="line">can&#x27;t get debug descriptor: Resource temporarily unavailable</span><br><span class="line">Device Status:     0x000d</span><br><span class="line">  Self Powered</span><br><span class="line">  U1 Enabled</span><br><span class="line">  U2 Enabled</span><br><span class="line"></span><br><span class="line">Bus 001 Device 008: ID 045e:02d9 Microsoft Corp. NuiSensor Adaptor      </span><br><span class="line">Device Descriptor:</span><br><span class="line">  bLength                18</span><br><span class="line">  bDescriptorType         1</span><br><span class="line">  bcdUSB               2.10</span><br><span class="line">  bDeviceClass            9 Hub</span><br><span class="line">  bDeviceSubClass         0 </span><br><span class="line">  bDeviceProtocol         1 Single TT</span><br><span class="line">  bMaxPacketSize0        64</span><br><span class="line">  idVendor           0x045e Microsoft Corp.</span><br><span class="line">  idProduct          0x02d9 </span><br><span class="line">  bcdDevice            0.70</span><br><span class="line">  iManufacturer           1 Microsoft Corporation  </span><br><span class="line">  iProduct                2 NuiSensor Adaptor      </span><br><span class="line">  iSerial                 0 </span><br><span class="line">  bNumConfigurations      1</span><br><span class="line">  Configuration Descriptor:</span><br><span class="line">    bLength                 9</span><br><span class="line">    bDescriptorType         2</span><br><span class="line">    wTotalLength       0x0019</span><br><span class="line">    bNumInterfaces          1</span><br><span class="line">    bConfigurationValue     1</span><br><span class="line">    iConfiguration          0 </span><br><span class="line">    bmAttributes         0xe0</span><br><span class="line">      Self Powered</span><br><span class="line">      Remote Wakeup</span><br><span class="line">    MaxPower                0mA</span><br><span class="line">    Interface Descriptor:</span><br><span class="line">      bLength                 9</span><br><span class="line">      bDescriptorType         4</span><br><span class="line">      bInterfaceNumber        0</span><br><span class="line">      bAlternateSetting       0</span><br><span class="line">      bNumEndpoints           1</span><br><span class="line">      bInterfaceClass         9 Hub</span><br><span class="line">      bInterfaceSubClass      0 </span><br><span class="line">      bInterfaceProtocol      0 Full speed (or root) hub</span><br><span class="line">      iInterface              0 </span><br><span class="line">      Endpoint Descriptor:</span><br><span class="line">        bLength                 7</span><br><span class="line">        bDescriptorType         5</span><br><span class="line">        bEndpointAddress     0x81  EP 1 IN</span><br><span class="line">        bmAttributes            3</span><br><span class="line">          Transfer Type            Interrupt</span><br><span class="line">          Synch Type               None</span><br><span class="line">          Usage Type               Data</span><br><span class="line">        wMaxPacketSize     0x0001  1x 1 bytes</span><br><span class="line">        bInterval              12</span><br><span class="line">Hub Descriptor:</span><br><span class="line">  bLength               9</span><br><span class="line">  bDescriptorType      41</span><br><span class="line">  nNbrPorts             1</span><br><span class="line">  wHubCharacteristic 0x00ed</span><br><span class="line">    Per-port power switching</span><br><span class="line">    Compound device</span><br><span class="line">    Per-port overcurrent protection</span><br><span class="line">    TT think time 32 FS bits</span><br><span class="line">    Port indicators</span><br><span class="line">  bPwrOn2PwrGood       50 * 2 milli seconds</span><br><span class="line">  bHubContrCurrent    100 milli Ampere</span><br><span class="line">  DeviceRemovable    0x00</span><br><span class="line">  PortPwrCtrlMask    0xff</span><br><span class="line"> Hub Port Status:</span><br><span class="line">   Port 1: 0000.0100 power</span><br><span class="line">Binary Object Store Descriptor:</span><br><span class="line">  bLength                 5</span><br><span class="line">  bDescriptorType        15</span><br><span class="line">  wTotalLength       0x002a</span><br><span class="line">  bNumDeviceCaps          3</span><br><span class="line">  USB 2.0 Extension Device Capability:</span><br><span class="line">    bLength                 7</span><br><span class="line">    bDescriptorType        16</span><br><span class="line">    bDevCapabilityType      2</span><br><span class="line">    bmAttributes   0x00000002</span><br><span class="line">      HIRD Link Power Management (LPM) Supported</span><br><span class="line">  SuperSpeed USB Device Capability:</span><br><span class="line">    bLength                10</span><br><span class="line">    bDescriptorType        16</span><br><span class="line">    bDevCapabilityType      3</span><br><span class="line">    bmAttributes         0x00</span><br><span class="line">    wSpeedsSupported   0x000e</span><br><span class="line">      Device can operate at Full Speed (12Mbps)</span><br><span class="line">      Device can operate at High Speed (480Mbps)</span><br><span class="line">      Device can operate at SuperSpeed (5Gbps)</span><br><span class="line">    bFunctionalitySupport   1</span><br><span class="line">      Lowest fully-functional device speed is Full Speed (12Mbps)</span><br><span class="line">    bU1DevExitLat           4 micro seconds</span><br><span class="line">    bU2DevExitLat         231 micro seconds</span><br><span class="line">  Container ID Device Capability:</span><br><span class="line">    bLength                20</span><br><span class="line">    bDescriptorType        16</span><br><span class="line">    bDevCapabilityType      4</span><br><span class="line">    bReserved               0</span><br><span class="line">    ContainerID             &#123;30eef35c-07d5-2549-b001-802d79434c30&#125;</span><br><span class="line">can&#x27;t get debug descriptor: Resource temporarily unavailable</span><br><span class="line">Device Status:     0x0001</span><br><span class="line">  Self Powered</span><br></pre></td></tr></table></figure>
<h2 id="add-udev-rules-under-etcudevrules.d">2.3 Add
<code>udev rules</code> Under <code>/etc/udev/rules.d</code></h2>
<p>Take a look at <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2/blob/master/platform/linux/udev/90-kinect2.rules">OpenKinect
libfreenect2 90-kinect2.rules</a>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ cat platform/linux/udev/90-kinect2.rules            </span><br><span class="line">───────┬──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span><br><span class="line">       │ File: platform/linux/udev/90-kinect2.rules</span><br><span class="line">───────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span><br><span class="line">   1   │ # this file belongs in /etc/udev/rules.d/</span><br><span class="line">   2   │ # ATTR&#123;product&#125;==&quot;Kinect2&quot;</span><br><span class="line">   3   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idVendor&#125;==&quot;045e&quot;, ATTR&#123;idProduct&#125;==&quot;02c4&quot;, MODE=&quot;0666&quot;</span><br><span class="line">   4   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idVendor&#125;==&quot;045e&quot;, ATTR&#123;idProduct&#125;==&quot;02d8&quot;, MODE=&quot;0666&quot;</span><br><span class="line">   5   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idVendor&#125;==&quot;045e&quot;, ATTR&#123;idProduct&#125;==&quot;02d9&quot;, MODE=&quot;0666&quot;</span><br><span class="line">───────┴───────────────────────────────────────────────────────────────────────────────────</span><br></pre></td></tr></table></figure>
<p><strong><span style="color:red">We’ll do the following 2
steps:</span></strong></p>
<ul>
<li>step 1: <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cp platform/linux/udev/90-kinect2.rules /etc/udev/rules.d</span><br></pre></td></tr></table></figure></li>
<li>step 2: <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo udevadm control --reload-rules</span><br><span class="line">$ sudo udevadm trigger</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="dont-use-default-openni2-from-default-repository">2.4 Don’t Use
Default <a target="_blank" rel="noopener" href="https://structure.io/openni/">OpenNI2</a> from Default
Repository</h2>
<h3 id="incorrect-rules">2.4.1 Incorrect Rules</h3>
<p>Take a look at <a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/blob/kinect2/Packaging/Linux/primesense-usb.rules">OpenNI2
Kinect2 primesense-usb.rules</a>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ cat Packaging/Linux/primesense-usb.rules               </span><br><span class="line">───────┬──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span><br><span class="line">       │ File: Packaging/Linux/primesense-usb.rules</span><br><span class="line">───────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span><br><span class="line">   1   │ # Make primesense device mount with writing permissions (default is read only for unknown devices)</span><br><span class="line">   2   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;0200&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">   3   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;0300&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">   4   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;0401&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">   5   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;0500&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">   6   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;0600&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">   7   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;0601&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">   8   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;0609&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">   9   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;1250&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">  10   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;1260&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">  11   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;1270&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">  12   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;1280&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">  13   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;1290&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br><span class="line">  14   │ SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idProduct&#125;==&quot;f9db&quot;, ATTR&#123;idVendor&#125;==&quot;1d27&quot;, MODE:=&quot;0666&quot;, OWNER:=&quot;root&quot;, GROUP:=&quot;video&quot;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong><span style="color:red">!Note:</span></strong> <strong><span
style="color:red">by installing <code>libopenni2-dev</code> and
<code>openni2-utils</code> from default repo, you’re going to have the
above rule <code>primesense-usb.rules</code> installed under
<code>/usr/lib/udev/rules.d</code>, instead of
<code>/etc/udev/rules.d</code>.</span></strong></p>
</blockquote>
<h3 id="incorrect-niviewer">2.4.2 Incorrect <a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2/Source/Tools/NiViewer">NiViewer</a></h3>
<p>Even if package <strong>openni2-utils</strong> installed an
executable <strong>NiViewer2</strong> under <code>/usr/bin</code>, it
fails to even detect the device <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a>
<strong>v2</strong>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ NiViewer2</span><br><span class="line">openDevice failed:</span><br><span class="line">	DeviceOpen using default: no devices found</span><br><span class="line"></span><br><span class="line">Press any key to continue . . .</span><br></pre></td></tr></table></figure>
<p>Due to the above <strong>Incorrect Rules</strong>, this
<strong>NiViewer2</strong>, of course, should <strong>NOT</strong>
detect the device.</p>
<p><strong><span style="color:red">Feel so disappointed
…</span></strong></p>
<div style="text-align: center; font-size: 3em;">
<pre><code>😞</code></pre>
</div>
<p><strong><span style="color:red">What made me feel worse, even
desperate???</span></strong></p>
<p>The above failure happens on both of my <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
AGX Xavier</a> running <strong>Ubuntu 20.04.6 LTS aarch64</strong>, and
my desktop running <a target="_blank" rel="noopener" href="https://releases.ubuntu.com/noble/">Ubuntu
24.04</a>.</p>
<h1 id="for-windows">3. For Windows</h1>
<p>Please strictly follow <a
target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/windows/apps/design/devices/kinect-for-windows">Kinect
for Windows SDK 2.0</a>. For my <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a> 2, I got the
following outputs on my laptop running <a
target="_blank" rel="noopener" href="https://www.microsoft.com/en-ca/software-download/windows11">Windows
11</a>.</p>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/KinectStudio.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/KinectStudio.png" /></a></p>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/KinectStudio_2D.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/KinectStudio_2D.png" /></a></p>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/KinectStudio_3D.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/KinectStudio_3D.png" /></a></p>
<h1 id="for-linux">4. For Linux</h1>
<h2 id="demonstration-first">4.1 Demonstration FIRST</h2>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">OpenNI2 NiViewer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/OpenNI2_NiViewer.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/OpenNI2_NiViewer.png"
alt="OpenNI2 NiViewer" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">libfreenect2 Protonect CPU</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/libfreenect2_Protonect_CPU.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/libfreenect2_Protonect_CPU.png"
alt="libfreenect2 Protonect CPU" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">libfreenect2 Protonect -GPU=0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/libfreenect2_Protonect_CPU_Depth_Packet_Lost.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/KinectV2/libfreenect2_Protonect_CPU_Depth_Packet_Lost.png"
alt="libfreenect2 Protonect -GPU=0" /></a></td>
</tr>
</tbody>
</table>
<h2 id="build-openni2-github-from-source">4.2 Build OpenNI2 Github from
Source</h2>
<h3 id="key-components">4.2.1 Key Components</h3>
<table>
<colgroup>
<col style="width: 29%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Components</th>
<th style="text-align: center;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2/ThirdParty/PSCommon">PSCommon</a></td>
<td style="text-align: center;">The third-party library directly from <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/PrimeSense">PrimeSense</a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2/Source/Drivers/OniFile">OniFile</a></td>
<td style="text-align: center;">Must be dealing with OpenNI's
<code>.oni</code> files</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2/Source/Drivers/PS1080">PS1080</a></td>
<td style="text-align: center;">Clearly related to <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/PrimeSense">PrimeSense</a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2/Source/Drivers/PSLink">PSLink</a></td>
<td style="text-align: center;">Clearly related to <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/PrimeSense">PrimeSense</a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a></td>
<td style="text-align: center;">I believe this is the driver for
original <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a> v1,
namely, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a> for
Xbox 360.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a></td>
<td style="text-align: center;">I believe this is the driver for <a
target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a>, based on <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a> for Windows SDK
2.0</td>
</tr>
</tbody>
</table>
<p>To build <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a> or
<a target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a>, I think a
Windows environment is a <strong>MUST</strong>, which is
<strong>NOT</strong> for me.</p>
<h3 id="tool-niviewer">4.2.2 Tool <a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2/Source/Tools/NiViewer">NiViewer</a></h3>
<p>Driver <a target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a> in
the above is a <strong>MUST</strong> for <a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2">OpenNI2
Github</a>'s application <a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2/Source/Tools/NiViewer">NiViewer</a>.</p>
<h3
id="any-driver-to-drive-kinect2-and-can-work-with-openni2-github">4.2.3
Any Driver to Drive <a
target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a> and Can Work
With <a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2">OpenNI2
Github</a>?</h3>
<p><strong><span style="color:red">Now, stucked. Under Linux, how to
build a driver working for my <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Kinect">Kinect</a>
v2?</span></strong></p>
<p><strong>Solution: Build <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a> from
source, with <span style="color:red">BUILD_OPENNI2_DRIVER</span>
ON.</strong></p>
<h2 id="build-libfreenect2-from-source">4.3 Build <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a> from
Source</h2>
<p>Download <a target="_blank" rel="noopener" href="https://structure.io/openni/">OpenNI2</a> and save
it, and built <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a> with
<code>BUILD_OPENNI2_DRIVER</code> set <code>ON</code>.</p>
<p>By doing so, you will have the following 2 variables set by default
as:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">OpenNI2_INCLUDE_DIRS             /opt/OpenNI/Include</span><br><span class="line">OpenNI2_LIBRARY                  /opt/OpenNI/Redist/libOpenNI2.so</span><br></pre></td></tr></table></figure>
<p>and you will have the following two libraries built out:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lib/libfreenect2-openni2.so</span><br><span class="line">lib/libfreenect2.so</span><br></pre></td></tr></table></figure>
<p>And, if needed, after the installation of <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a>,
manually copy <code>libfreenect2-openni2.so</code> under folder
<code>/usr/local/lib/OpenNI2/Drivers</code>. Now, <strong>ALL</strong>
set. You’re good to go <a
target="_blank" rel="noopener" href="https://github.com/structureio/OpenNI2/tree/kinect2/Source/Tools/NiViewer">NiViewer</a>.</p>
<h2 id="protonect-or-protonectsr-from-libfreenect2">4.4 Protonect or
ProtonectSR from <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a></h2>
<h3 id="binprotonect-cuda">4.4.1 <code>./bin/Protonect cuda</code></h3>
<p>I got <strong>NO</strong> idea why <code>./bin/Protonect cuda</code>
failed to run <strong>ALL the time</strong>. Then, I created a simple
Python script <code>verify_cuda.py</code> and <strong>ALWAYS</strong>
meet the following error:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python verify_cuda.py   </span><br><span class="line">[Info] [CudaDepthPacketProcessorImpl] device 0: NVIDIA GeForce RTX 3090 @ 1725MHz Memory 24219MB</span><br><span class="line">[Info] [CudaDepthPacketProcessorImpl] selected device 0</span><br><span class="line">[Error] [CudaDepthPacketProcessorImpl] cudaGetLastError(): the provided PTX was compiled with an unsupported toolchain.</span><br><span class="line">CudaPacketPipeline is available.</span><br></pre></td></tr></table></figure>
<p>Finally, I found the reason: <strong><span style="color:red">Cuda
version is NOT synced with NVidia driver version.</span></strong> More
specifically, in my case:</p>
<ul>
<li>NVida Driver Version: <a
target="_blank" rel="noopener" href="https://www.nvidia.com/download/driverResults.aspx/228542/en-us/">NVidia
Official Driver 550.100</a>, which is built and compatible with Cuda
12.4</li>
<li>Cuda Version: <a
target="_blank" rel="noopener" href="https://developer.download.nvidia.com/compute/cuda/12.5.1/local_installers/cuda_12.5.1_555.42.06_linux.run">cuda_12.5.1_555.42.06_linux.run</a>.
Clearly: Cuda 12.5.1 comes with a newer NVidia driver version
555.42</li>
</ul>
<p>To solve this problem, install NVidia driver during the installation
of Cuda. Namely: when run <a
target="_blank" rel="noopener" href="https://developer.download.nvidia.com/compute/cuda/12.5.1/local_installers/cuda_12.5.1_555.42.06_linux.run">cuda_12.5.1_555.42.06_linux.run</a>,
tick</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- [X] Driver                                                                 │</span><br><span class="line">│      [X] 555.42.06 </span><br></pre></td></tr></table></figure>
<ul>
<li>You may have to reboot into text mode and have all
previously-installed NVidia driver unloaded. For this issue, please
refer to <a
target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/440840/how-to-unload-kernel-module-nvidia-drm">How
to unload kernel module ‘nvidia-drm’?</a></li>
<li>The key: <code>sudo systemctl isolate multi-user.target</code></li>
</ul>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Protonect_cuda.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Protonect_cuda.png"
alt="Protonect cuda" /></a></p>
<h3 id="binprotonect--gpu0">4.4.2
<code>./bin/Protonect -gpu=0</code></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">$ ./bin/Protonect -gpu=0</span><br><span class="line">Version: 0.2.0</span><br><span class="line">Environment variables: LOGFILE=&lt;protonect.log&gt;</span><br><span class="line">Usage: ./bin/Protonect [-gpu=&lt;id&gt;] [gl | cl | clkde | cuda | cudakde | cpu] [&lt;device serial&gt;]</span><br><span class="line">        [-noviewer] [-norgb | -nodepth] [-help] [-version]</span><br><span class="line">        [-frames &lt;number of frames to process&gt;]</span><br><span class="line">To pause and unpause: pkill -USR1 Protonect</span><br><span class="line">[Info] [Freenect2Impl] enumerating devices...</span><br><span class="line">[Info] [Freenect2Impl] 23 usb devices connected</span><br><span class="line">[Info] [Freenect2Impl] found valid Kinect v2 @10:5 with serial 178602434347</span><br><span class="line">[Info] [Freenect2Impl] found 1 devices</span><br><span class="line">libva info: VA-API version 1.20.0</span><br><span class="line">libva info: Trying to open /usr/lib/x86_64-linux-gnu/dri/nvidia_drv_video.so</span><br><span class="line">libva info: va_openDriver() returns -1</span><br><span class="line">[Error] [VaapiRgbPacketProcessorImpl] vaInitialize(display, &amp;major_ver, &amp;minor_ver): unknown libva error</span><br><span class="line">[Info] [Freenect2DeviceImpl] opening...</span><br><span class="line">[Info] [Freenect2DeviceImpl] transfer pool sizes rgb: 20*16384 ir: 60*8*33792</span><br><span class="line">[Info] [Freenect2DeviceImpl] opened</span><br><span class="line">[Info] [Freenect2DeviceImpl] starting...</span><br><span class="line">[Debug] [Freenect2DeviceImpl] status 0x090000: 9855</span><br><span class="line">[Debug] [Freenect2DeviceImpl] status 0x090000: 9855</span><br><span class="line">[Info] [Freenect2DeviceImpl] submitting rgb transfers...</span><br><span class="line">[Info] [Freenect2DeviceImpl] submitting depth transfers...</span><br><span class="line">[Info] [Freenect2DeviceImpl] started</span><br><span class="line">device serial: 178602434347</span><br><span class="line">device firmware: 4.0.3916.0</span><br><span class="line">[Debug] [DepthPacketStreamParser] not all subsequences received 0</span><br><span class="line">[Debug] [DepthPacketStreamParser] not all subsequences received 1021</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Info] [DepthPacketStreamParser] 2 packets were lost</span><br><span class="line">[Info] [DepthPacketStreamParser] 7 packets were lost</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 5.12134ms -&gt; ~195.261Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 4.06057ms -&gt; ~246.271Hz</span><br><span class="line">[Info] [TurboJpegRgbPacketProcessor] avg. time: 19.003ms -&gt; ~52.6232Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 4.01312ms -&gt; ~249.182Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 4.20707ms -&gt; ~237.695Hz</span><br><span class="line">[Info] [TurboJpegRgbPacketProcessor] avg. time: 17.376ms -&gt; ~57.5507Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 3.95256ms -&gt; ~253.001Hz</span><br><span class="line">[2]  - 2620271 killed     ./bin/ProtonectSR cuda</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 4.40171ms -&gt; ~227.184Hz</span><br><span class="line">[Info] [TurboJpegRgbPacketProcessor] avg. time: 17.8467ms -&gt; ~56.0326Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 6.23296ms -&gt; ~160.437Hz</span><br><span class="line">[3]  + 2628690 killed     ./bin/Protonect</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 9.88223ms -&gt; ~101.192Hz</span><br><span class="line">[Info] [DepthPacketStreamParser] 2 packets were lost</span><br><span class="line">[Info] [TurboJpegRgbPacketProcessor] avg. time: 19.2099ms -&gt; ~52.0565Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 5.8084ms -&gt; ~172.164Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 8.7243ms -&gt; ~114.622Hz</span><br><span class="line">[Info] [TurboJpegRgbPacketProcessor] avg. time: 18.2581ms -&gt; ~54.7703Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 9.24396ms -&gt; ~108.179Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 10.1021ms -&gt; ~98.9893Hz</span><br><span class="line">[Info] [TurboJpegRgbPacketProcessor] avg. time: 18.3488ms -&gt; ~54.4995Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 8.35109ms -&gt; ~119.745Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 5.61051ms -&gt; ~178.237Hz</span><br><span class="line">[Info] [TurboJpegRgbPacketProcessor] avg. time: 17.9773ms -&gt; ~55.6256Hz</span><br><span class="line">[Info] [OpenGLDepthPacketProcessor] avg. time: 6.80606ms -&gt; ~146.928Hz</span><br><span class="line">[Info] [Freenect2DeviceImpl] stopping...</span><br><span class="line">[Info] [Freenect2DeviceImpl] canceling rgb transfers...</span><br><span class="line">[Info] [Freenect2DeviceImpl] canceling depth transfers...</span><br><span class="line">[Info] [Freenect2DeviceImpl] stopped</span><br><span class="line">[Info] [Freenect2DeviceImpl] closing...</span><br><span class="line">[Info] [Freenect2DeviceImpl] releasing usb interfaces...</span><br><span class="line">[Info] [Freenect2DeviceImpl] deallocating usb transfer pools...</span><br><span class="line">[Info] [Freenect2DeviceImpl] closing usb device...</span><br><span class="line">[Info] [Freenect2DeviceImpl] closed</span><br><span class="line">[Info] [Freenect2DeviceImpl] closing...</span><br><span class="line">[Info] [Freenect2DeviceImpl] already closed, doing nothing</span><br><span class="line">[TurboJpegRgbPacketProcessor] 9.8382 10.0887 18.9733 20.2907 26.1092 mean=18.2873 std=2.86968 n=749</span><br><span class="line">[OpenGLDepthPacketProcessor] 2.90518 3.87679 5.69045 12.5144 95.8873 mean=6.46404 std=4.29096 n=1528</span><br></pre></td></tr></table></figure>
<h3 id="binprotonect-cpu">4.4.3 <code>./bin/Protonect cpu</code></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">$ ./bin/Protonect cpu</span><br><span class="line">Version: 0.2.0</span><br><span class="line">Environment variables: LOGFILE=&lt;protonect.log&gt;</span><br><span class="line">Usage: ./bin/Protonect [-gpu=&lt;id&gt;] [gl | cl | clkde | cuda | cudakde | cpu] [&lt;device serial&gt;]</span><br><span class="line">        [-noviewer] [-norgb | -nodepth] [-help] [-version]</span><br><span class="line">        [-frames &lt;number of frames to process&gt;]</span><br><span class="line">To pause and unpause: pkill -USR1 Protonect</span><br><span class="line">libva info: VA-API version 1.20.0</span><br><span class="line">libva info: Trying to open /usr/lib/x86_64-linux-gnu/dri/nvidia_drv_video.so</span><br><span class="line">libva info: va_openDriver() returns -1</span><br><span class="line">[Error] [VaapiRgbPacketProcessorImpl] vaInitialize(display, &amp;major_ver, &amp;minor_ver): unknown libva error</span><br><span class="line">[Info] [Freenect2Impl] enumerating devices...</span><br><span class="line">[Info] [Freenect2Impl] 23 usb devices connected</span><br><span class="line">[Info] [Freenect2Impl] found valid Kinect v2 @10:5 with serial 178602434347</span><br><span class="line">[Info] [Freenect2Impl] found 1 devices</span><br><span class="line">[Info] [Freenect2DeviceImpl] opening...</span><br><span class="line">[Info] [Freenect2DeviceImpl] transfer pool sizes rgb: 20*16384 ir: 60*8*33792</span><br><span class="line">[Info] [Freenect2DeviceImpl] opened</span><br><span class="line">[Info] [Freenect2DeviceImpl] starting...</span><br><span class="line">[Debug] [Freenect2DeviceImpl] status 0x090000: 9729</span><br><span class="line">[Debug] [Freenect2DeviceImpl] status 0x090000: 9731</span><br><span class="line">[Info] [Freenect2DeviceImpl] submitting rgb transfers...</span><br><span class="line">[Info] [Freenect2DeviceImpl] submitting depth transfers...</span><br><span class="line">[Info] [Freenect2DeviceImpl] started</span><br><span class="line">device serial: 178602434347</span><br><span class="line">device firmware: 4.0.3916.0</span><br><span class="line">[Debug] [DepthPacketStreamParser] not all subsequences received 0</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Info] [DepthPacketStreamParser] 30 packets were lost</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Info] [DepthPacketStreamParser] 30 packets were lost</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Info] [Freenect2DeviceImpl] stopping...</span><br><span class="line">[Info] [Freenect2DeviceImpl] canceling rgb transfers...</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Debug] [DepthPacketStreamParser] skipping depth packet</span><br><span class="line">[Info] [Freenect2DeviceImpl] canceling depth transfers...</span><br><span class="line">[Info] [Freenect2DeviceImpl] stopped</span><br><span class="line">[Info] [Freenect2DeviceImpl] closing...</span><br><span class="line">[Info] [Freenect2DeviceImpl] releasing usb interfaces...</span><br><span class="line">[Info] [Freenect2DeviceImpl] deallocating usb transfer pools...</span><br><span class="line">[Info] [Freenect2DeviceImpl] closing usb device...</span><br><span class="line">[Info] [Freenect2DeviceImpl] closed</span><br><span class="line">[Info] [Freenect2DeviceImpl] closing...</span><br><span class="line">[Info] [Freenect2DeviceImpl] already closed, doing nothing</span><br><span class="line">[TurboJpegRgbPacketProcessor] 10.0384 10.1629 18.9524 20.9346 27.5923 mean=18.5922 std=3.23163 n=44</span><br><span class="line">[CpuDepthPacketProcessor] 101.371 101.485 102.303 109.367 111.332 mean=102.829 std=2.25233 n=27</span><br></pre></td></tr></table></figure>
<h3 id="conclusive-comparisons">4.4.4 Conclusive Comparisons</h3>
<p>Let’s do a simple comparison of the speed using 3 different
parameters: <code>cuda</code>, <code>-cpu=0</code>,
<code>cpu</code>.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Commands</th>
<th style="text-align: center;">RGB Mean Time (ms)</th>
<th style="text-align: center;">Depth Mean Time (ms)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>./bin/Protonect cuda</code></td>
<td style="text-align: center;">18.8951</td>
<td style="text-align: center;">0.521472</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>./bin/Protonect -gpu=0</code></td>
<td style="text-align: center;">18.2873</td>
<td style="text-align: center;">6.46404</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>./bin/Protonect cpu</code></td>
<td style="text-align: center;">18.5922</td>
<td style="text-align: center;">102.829</td>
</tr>
</tbody>
</table>
<p>The conclusion is quite obvious:</p>
<ul>
<li>for <strong>depth</strong>:
<code>CudaDepthPacketProcessor &gt; OpenGLDepthPacketProcessor &gt; CpuDepthPacketProcessor</code>.</li>
<li>for <strong>RGB</strong>: <strong>Always</strong>
<code>TurboJpegRgbPacketProcessor</code></li>
</ul>
<h2 id="pylibfreenect2---libfreenect2s-python-wrapper">4.5 <a
target="_blank" rel="noopener" href="https://github.com/r9y9/pylibfreenect2">pylibfreenect2</a> - <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a>'s
Python Wrapper</h2>
<p>So far, in my personal point of view, <a
target="_blank" rel="noopener" href="https://github.com/r9y9/pylibfreenect2">pylibfreenect2</a> is the
<strong>BEST</strong> Python wrapper of <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a>. But,
according to the <a
target="_blank" rel="noopener" href="https://openkinect.github.io/libfreenect2/">official documentation
of libfreenect2</a>, it’s clearly written:</p>
<p><strong><span style="color:red">Audio. Raw audio is accessible via
Linux USB audio. There is no support for the calibrated directional
audio.</span></strong></p>
<h2 id="kinect2s-audio-pyalsaaudio">4.6 <a
target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a>'s Audio <a
target="_blank" rel="noopener" href="https://pypi.org/project/pyalsaaudio/">pyalsaaudio</a></h2>
<h3 id="lsusb-again">4.6.1 <code>lsusb</code> Again</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsusb | grep Microsoft </span><br><span class="line">Bus 002 Device 003: ID 045e:02c4 Microsoft Corp. </span><br><span class="line">Bus 002 Device 002: ID 045e:02d9 Microsoft Corp. NuiSensor Adaptor      </span><br><span class="line">Bus 001 Device 002: ID 045e:02d9 Microsoft Corp. NuiSensor Adaptor  </span><br></pre></td></tr></table></figure>
<h3 id="arecord--l">4.6.2 <code>arecord -l</code></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ arecord -l | grep NUI             </span><br><span class="line">card 1: Sensor [Xbox NUI Sensor], device 0: USB Audio [USB Audio]</span><br></pre></td></tr></table></figure>
<ul>
<li>Card number: 1</li>
<li>Device number: 0</li>
</ul>
<h3 id="list-details-of-hw10">4.6.3 List Details of
<code>hw:1,0</code></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">➜  arecord -D hw:1,0 --dump-hw-params</span><br><span class="line">Recording WAVE &#x27;stdin&#x27; : Unsigned 8 bit, Rate 8000 Hz, Mono</span><br><span class="line">HW Params of device &quot;hw:1,0&quot;:</span><br><span class="line">--------------------</span><br><span class="line">ACCESS:  MMAP_INTERLEAVED RW_INTERLEAVED</span><br><span class="line">FORMAT:  S32_LE</span><br><span class="line">SUBFORMAT:  STD</span><br><span class="line">SAMPLE_BITS: 32</span><br><span class="line">FRAME_BITS: 128</span><br><span class="line">CHANNELS: 4</span><br><span class="line">RATE: 16000</span><br><span class="line">PERIOD_TIME: [1000 2048000]</span><br><span class="line">PERIOD_SIZE: [16 32768]</span><br><span class="line">PERIOD_BYTES: [256 524288]</span><br><span class="line">PERIODS: [2 1024]</span><br><span class="line">BUFFER_TIME: [2000 4096000]</span><br><span class="line">BUFFER_SIZE: [32 65536]</span><br><span class="line">BUFFER_BYTES: [512 1048576]</span><br><span class="line">TICK_TIME: ALL</span><br><span class="line">--------------------</span><br><span class="line">arecord: set_params:1368: Sample format non available</span><br><span class="line">Available formats:</span><br><span class="line">- S32_LE</span><br></pre></td></tr></table></figure>
<p>A couple of concerns:</p>
<ul>
<li>I personally think <strong><span
style="color:green">FRAME_BITS</span></strong> is a typo. It should be
<strong><span style="color:green">FRAME_SIZE</span></strong>.</li>
<li>What the sample rate is 16000, but <strong>NOT</strong> 44100?
😀</li>
</ul>
<h3 id="demonstration">4.6.4 Demonstration</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> alsaaudio</span><br><span class="line"><span class="keyword">import</span> wave</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># Open the audio device</span></span><br><span class="line">inp = alsaaudio.PCM(alsaaudio.PCM_CAPTURE, alsaaudio.PCM_NORMAL, <span class="string">&quot;plughw:Sensor&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set audio parameters</span></span><br><span class="line">inp.setformat(alsaaudio.PCM_FORMAT_S32_LE)</span><br><span class="line">inp.setchannels(<span class="number">4</span>)</span><br><span class="line">inp.setrate(<span class="number">16000</span>)</span><br><span class="line">inp.setperiodsize(<span class="number">128</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prepare a file to write the audio data</span></span><br><span class="line"><span class="keyword">with</span> wave.<span class="built_in">open</span>(<span class="string">&quot;test.wav&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.setnchannels(<span class="number">4</span>)</span><br><span class="line">    f.setsampwidth(<span class="number">4</span>)</span><br><span class="line">    f.setframerate(<span class="number">16000</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Record audio for 10 seconds</span></span><br><span class="line">    timeout = <span class="number">10</span>  <span class="comment"># seconds</span></span><br><span class="line">    start_time = time.time()</span><br><span class="line">    <span class="keyword">while</span> time.time() - start_time &lt; timeout:</span><br><span class="line">        num_bytes, buffer = inp.read()</span><br><span class="line">        f.writeframes(buffer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Close the audio device</span></span><br><span class="line">inp.close()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Recording finished&quot;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="for-jetson-agx-xavier">5. For <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
AGX Xavier</a></h1>
<p>Now, we’re done on my desktop. Let’s try <a
target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a> on <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
AGX Xavier</a>.</p>
<h2 id="libfreenect2---do-not-enable-enable_tegrajpeg">5.1 <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a> - Do
NOT Enable <code>ENABLE_TEGRAJPEG</code></h2>
<p>By default, <a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a> has
<code>ENABLE_TEGRAJPEG</code> set <code>ON</code>, which builds fine.
However, the followig issue has been reported for over 8 years.</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2/issues/1194">Error
TegraJpegRgbPacketProcessorImpl Incomplete decoding result</a></li>
<li><a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2/issues/581">Libfreenect2
not working on Jetson TX1</a></li>
<li><a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2/issues/480">Cannot get
Protonect Viewer running on the Tegra X1</a></li>
<li><a
target="_blank" rel="noopener" href="https://forums.developer.nvidia.com/t/usb-3-transfer-failures/41593">USB
3 transfer failures</a></li>
</ul>
<p><strong><span style="color:red">Solution for <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
AGX Xavier</a>:</span></strong></p>
<ul>
<li><strong>NEVER</strong> turn on <code>ENABLE_TEGRAJPEG</code> on <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
AGX Xavier</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
AGX Xavier</a> is working fine with <code>TurboJPEG</code></li>
</ul>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a>
Protonect Cuda</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/Jetson/Old/JetsonAGXXavier_Kinect2_No_TegraJPEG.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/Jetson/Old/JetsonAGXXavier_Kinect2_No_TegraJPEG.png"
alt="libfreenect2 Protonect Cuda" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a>
Protonect Cuda Speed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/Jetson/Old/JetsonAGXXavier_Kinect2_No_TegraJPEG_Speed.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/Embedded/Jetson/Old/JetsonAGXXavier_Kinect2_No_TegraJPEG_Speed.png"
alt="libfreenect2 Protonect Cuda" /></a></td>
</tr>
</tbody>
</table>
<p>From the above output, we can easily come up with the following
table:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Attribute</th>
<th style="text-align: left;">RGB</th>
<th style="text-align: left;">Depth</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Resolution</td>
<td style="text-align: left;">1920x1080</td>
<td style="text-align: left;">512x424</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of Channels</td>
<td style="text-align: left;">3 (Red, Green, Blue)</td>
<td style="text-align: left;">1 (Depth)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bytes per Pixel</td>
<td style="text-align: left;">3 bytes</td>
<td style="text-align: left;">2 bytes</td>
</tr>
<tr class="even">
<td style="text-align: left;">Average Processing Time</td>
<td style="text-align: left;">~22.4048 ms</td>
<td style="text-align: left;">~7.18678 ms</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FPS</td>
<td style="text-align: left;">~44.6163 FPS</td>
<td style="text-align: left;">~110.134 FPS</td>
</tr>
<tr class="even">
<td style="text-align: left;">Data per Frame (Bytes)</td>
<td style="text-align: left;">1920 * 1080 * 3 = 6,220,800 bytes</td>
<td style="text-align: left;">512 * 424 * 2 = 434,176 bytes</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Data per Frame (MB)</td>
<td style="text-align: left;">~6.22 MB</td>
<td style="text-align: left;">~0.414 MB</td>
</tr>
<tr class="even">
<td style="text-align: left;">Data per Second (MB/s)</td>
<td style="text-align: left;">6.22 MB * 44.6163 ≈ 277.57 MB/s</td>
<td style="text-align: left;">0.414 MB * 110.134 ≈ 45.60 MB/s</td>
</tr>
</tbody>
</table>
<p><strong>Total Data per Second</strong>: 277.57 MB + 45.60 MB ≈ 323.17
MB</p>
<h2
id="integrate-pylibfreenect2-and-pyalsaaudio-with-gstreamer-for-3-streams-from-kinect2-depth-rgb-and-audio">5.2
Integrate <a
target="_blank" rel="noopener" href="https://github.com/r9y9/pylibfreenect2">pylibfreenect2</a> and <a
target="_blank" rel="noopener" href="https://pypi.org/project/pyalsaaudio/">pyalsaaudio</a> with <a
target="_blank" rel="noopener" href="https://gstreamer.freedesktop.org/bindings/python.html">GStreamer</a>
for 3 Streams from <a
target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a>:
<code>depth</code>, <code>rgb</code>, and <code>audio</code></h2>
<p>Sorry my friends. I’m <strong>NOT</strong> going to disclose my code,
in Python.</p>
<h3 id="server-side">5.2.1 Server Side</h3>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a> RTSP Server</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Server.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Server.png"
alt="Kinect2 RTSP Server" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://openkinect.org/wiki/Kinect_2">Kinect2</a> RTSP Server
Stream Responses</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Server_Stream_Responses.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Server_Stream_Responses.png"
alt="Kinect2 RTSP Server Stream Responses" /></a></td>
</tr>
</tbody>
</table>
<h3 id="client-side">5.2.2 Client Side</h3>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">RGB Stream</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Client_RGB.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Client_RGB.png"
alt="RGB Stream" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Depth Stream</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Client_depth.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Client_depth.png"
alt="Depth Stream" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Audio Stream</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Client_audio.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/Kinect2_RTSP_Client_audio.png"
alt="Audio Stream" /></a></td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/07/06/SBCs/ARM/NVidia-Jetson-Xavier-AGX/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/06/SBCs/ARM/NVidia-Jetson-Xavier-AGX/" class="post-title-link" itemprop="url">NVidia Jetson Xavier AGX</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-07-06 00:00:00" itemprop="dateCreated datePublished" datetime="2024-07-06T00:00:00-07:00">2024-07-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-10-15 00:19:45" itemprop="dateModified" datetime="2024-10-15T00:19:45-07:00">2024-10-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/ARM/" itemprop="url" rel="index"><span itemprop="name">ARM</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>I got one <strong>Jetson AGX Xavier</strong> unused for quite long.
There are a couple of reasons prohibiting me from using it.</p>
<ul>
<li>The price. I couldn’t even come up with <strong>JUST ONE</strong>
application that has to use <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/">Jetson
Embedded Systems</a> without cheaper but qualified replacement.</li>
<li>The host Ubuntu that <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK Manager</a>
supports is <strong>ALWAYS</strong> one version behind. Which means: I
can <strong>NEVER</strong> run <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK Manager</a>
on my host desktop.</li>
</ul>
<h1 id="my-working-environment">0. My Working Environment</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ lsb_release -a             </span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID:	Ubuntu</span><br><span class="line">Description:	Ubuntu 24.04 LTS</span><br><span class="line">Release:	24.04</span><br><span class="line">Codename:	noble</span><br><span class="line"></span><br><span class="line">$ uname -r                             </span><br><span class="line">6.8.0-36-generic</span><br></pre></td></tr></table></figure>
<h1 id="jetson-embedded-products">1. Jetson Embedded Products</h1>
<h2 id="gpu-compute-capability">1.1 <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/cuda-gpus">GPU Compute
Capability</a></h2>
<table>
<colgroup>
<col style="width: 68%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Jetson Model</th>
<th style="text-align: center;">Compute Capability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-orin/">Jetson
Orin Series</a> including: Jetson AGX Orin, Jetson Orin NX, Jetson Orin
Nano</td>
<td style="text-align: center;">8.7</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-xavier-series/">Jetson
Xavier Series</a> including: Jetson AGX Xavier, Jetson Xavier NX</td>
<td style="text-align: center;">7.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-tx2/">Jetson
TX2</a></td>
<td style="text-align: center;">6.2</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/jetson-nano">Jetson Nano</a>
including: default <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/jetson-nano">Jetson Nano
4GB</a>, <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/learn/get-started-jetson-nano-2gb-devkit">Jetson
Nano 2GB</a></td>
<td style="text-align: center;">5.3</td>
</tr>
</tbody>
</table>
<h2 id="jetpack-version-compatability">1.2 JetPack Version
Compatability</h2>
<h3 id="jetson-nano-series">1.2.1 Jetson Nano Series</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Specification</th>
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/jetson-nano">Jetson Nano
4GB</a></th>
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/learn/get-started-jetson-nano-2gb-devkit">Jetson
Nano 2GB</a></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">JetPack Versions</td>
<td style="text-align: center;">4.2 ~ 4.6.5</td>
<td style="text-align: center;">4.4 ~ 4.6.5</td>
</tr>
<tr class="even">
<td style="text-align: center;">CUDA Cores</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">128</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Compute Capability</td>
<td style="text-align: center;">5.3</td>
<td style="text-align: center;">5.3</td>
</tr>
<tr class="even">
<td style="text-align: center;">GPU Architecture</td>
<td style="text-align: center;">Maxwell</td>
<td style="text-align: center;">Maxwell</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Memory</td>
<td style="text-align: center;">4GB LPDDR4</td>
<td style="text-align: center;">2GB LPDDR4</td>
</tr>
<tr class="even">
<td style="text-align: center;">AI Performance</td>
<td style="text-align: center;">472 GFLOPs</td>
<td style="text-align: center;">472 GFLOPs</td>
</tr>
</tbody>
</table>
<h3 id="jetson-xavier-series">1.2.2 Jetson Xavier Series</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Specification</th>
<th style="text-align: center;">Jetson AGX Xavier 32GB</th>
<th style="text-align: center;">Jetson AGX Xavier 8GB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">JetPack Versions</td>
<td style="text-align: center;">4.2 ~ 5.1.3</td>
<td style="text-align: center;">4.4 ~ 5.1.3</td>
</tr>
<tr class="even">
<td style="text-align: center;">CUDA Cores</td>
<td style="text-align: center;">512</td>
<td style="text-align: center;">512</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Compute Capability</td>
<td style="text-align: center;">7.2</td>
<td style="text-align: center;">7.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">GPU Architecture</td>
<td style="text-align: center;">Volta</td>
<td style="text-align: center;">Volta</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Memory</td>
<td style="text-align: center;">32GB LPDDR4x</td>
<td style="text-align: center;">8GB LPDDR4x</td>
</tr>
<tr class="even">
<td style="text-align: center;">AI Performance</td>
<td style="text-align: center;">11 TFLOPs (FP16)</td>
<td style="text-align: center;">11 TFLOPs (FP16)</td>
</tr>
</tbody>
</table>
<h3 id="jetson-orin-series">1.2.3 Jetson Orin Series</h3>
<table style="width:100%;">
<colgroup>
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Specification</th>
<th style="text-align: center;">Jetson AGX Orin 64GB</th>
<th style="text-align: center;">Jetson AGX Orin 32GB</th>
<th style="text-align: center;">Jetson Orin NX 16GB</th>
<th style="text-align: center;">Jetson Orin NX 8GB</th>
<th style="text-align: center;">Jetson Orin Nano 8GB</th>
<th style="text-align: center;">Jetson Orin Nano 4GB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">JetPack Versions</td>
<td style="text-align: center;">5.0 Developer Preview - 6.0</td>
<td style="text-align: center;">5.0 Developer Preview - 6.0</td>
<td style="text-align: center;">5.0 Developer Preview - 6.0</td>
<td style="text-align: center;">5.0 Developer Preview - 6.0</td>
<td style="text-align: center;">5.0 Developer Preview - 6.0</td>
<td style="text-align: center;">5.0 Developer Preview - 6.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">CUDA Cores</td>
<td style="text-align: center;">2048</td>
<td style="text-align: center;">2048</td>
<td style="text-align: center;">1024</td>
<td style="text-align: center;">1024</td>
<td style="text-align: center;">512</td>
<td style="text-align: center;">512</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Compute Capability</td>
<td style="text-align: center;">8.7</td>
<td style="text-align: center;">8.7</td>
<td style="text-align: center;">8.7</td>
<td style="text-align: center;">8.7</td>
<td style="text-align: center;">8.7</td>
<td style="text-align: center;">8.7</td>
</tr>
<tr class="even">
<td style="text-align: center;">GPU Architecture</td>
<td style="text-align: center;">Ampere</td>
<td style="text-align: center;">Ampere</td>
<td style="text-align: center;">Ampere</td>
<td style="text-align: center;">Ampere</td>
<td style="text-align: center;">Ampere</td>
<td style="text-align: center;">Ampere</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Memory</td>
<td style="text-align: center;">64GB LPDDR5</td>
<td style="text-align: center;">32GB LPDDR5</td>
<td style="text-align: center;">16GB LPDDR5</td>
<td style="text-align: center;">8GB LPDDR5</td>
<td style="text-align: center;">8GB LPDDR5</td>
<td style="text-align: center;">4GB LPDDR5</td>
</tr>
<tr class="even">
<td style="text-align: center;">AI Performance</td>
<td style="text-align: center;">up to 200 TOPs</td>
<td style="text-align: center;">up to 200 TOPs</td>
<td style="text-align: center;">up to 70 TOPs</td>
<td style="text-align: center;">up to 70 TOPs</td>
<td style="text-align: center;">up to 40 TOPs</td>
<td style="text-align: center;">up to 40 TOPs</td>
</tr>
</tbody>
</table>
<h2 id="jetson-download-center">1.3 <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/downloads">Jetson Download
Center</a></h2>
<p>A variety of software can be download from <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/downloads">Jetson Download
Center</a>.</p>
<h1 id="my-jetson-embedded-boards">2. My Jetson Embedded Boards</h1>
<p>I actually have 4 Jetson embedded boards:</p>
<ul>
<li>one <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/learn/get-started-jetson-nano-2gb-devkit">Jetson
Nano 2GB</a>: which is purchased with <a
target="_blank" rel="noopener" href="https://jetbot.org">JetBot</a></li>
<li>one <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/jetson-nano">Jetson
Nano</a>: provided by <a target="_blank" rel="noopener" href="https://www.longervision.cn">ShenZhen
Longer Vision Technology</a>, which now comes with 16G memory and 2
Wired ports.</li>
<li>one <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-gb/autonomous-machines/embedded-systems/jetson-xavier-nx/">Jetson
Xavier NX</a>: provided by <a
target="_blank" rel="noopener" href="https://www.longervision.cn">ShenZhen Longer Vision
Technology</a></li>
<li>one <strong>Jetson AGX Xavier</strong>: for pure R&amp;D only, but
sooooo expensive</li>
</ul>
<p>I don’t have an embedded board of <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-orin/">Jetson
Orin Series</a> at all, for it was <strong>FIRSTLY</strong> on the
market in August 2022 (Please refer to: <a
target="_blank" rel="noopener" href="https://www.impulse-embedded.co.uk/news/nvidia-jetson-orin-a-breakthrough-industrial-edge-ai.htm">NVIDIA®
Jetson Orin™: A Breakthrough in Industrial Edge AI</a>). I mean: it’s a
kind of toooo new and toooo expensive to be purchased. For ever since
that time, a variety of single board computers with made-in-China NPUs
are much much much cheaper than <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-orin/">Jetson
Orin Series</a>. Yeah, 10 times cheaper guaranteed.</p>
<h2 id="jetson-nano-2gb-for-jetbot">2.1 <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/learn/get-started-jetson-nano-2gb-devkit">Jetson
Nano 2GB</a> for <a target="_blank" rel="noopener" href="https://jetbot.org">JetBot</a></h2>
<div data-align="center">
<p><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/jetson_nano_2g.png">
<img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/jetson_nano_2g.png" alt="Neofetch Jetson Nano 2G">
</a></p>
</div>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ cat /proc/cpuinfo</span><br><span class="line">processor	: 0</span><br><span class="line">model name	: ARMv8 Processor rev 1 (v8l)</span><br><span class="line">BogoMIPS	: 38.40</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32</span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x1</span><br><span class="line">CPU part	: 0xd07</span><br><span class="line">CPU revision	: 1</span><br><span class="line"></span><br><span class="line">processor	: 1</span><br><span class="line">model name	: ARMv8 Processor rev 1 (v8l)</span><br><span class="line">BogoMIPS	: 38.40</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32</span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x1</span><br><span class="line">CPU part	: 0xd07</span><br><span class="line">CPU revision	: 1</span><br><span class="line"></span><br><span class="line">processor	: 2</span><br><span class="line">model name	: ARMv8 Processor rev 1 (v8l)</span><br><span class="line">BogoMIPS	: 38.40</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32</span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x1</span><br><span class="line">CPU part	: 0xd07</span><br><span class="line">CPU revision	: 1</span><br><span class="line"></span><br><span class="line">processor	: 3</span><br><span class="line">model name	: ARMv8 Processor rev 1 (v8l)</span><br><span class="line">BogoMIPS	: 38.40</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32</span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x1</span><br><span class="line">CPU part	: 0xd07</span><br><span class="line">CPU revision	: 1</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ cat /proc/meminfo</span><br><span class="line">MemTotal:        2027240 kB</span><br><span class="line">MemFree:          304868 kB</span><br><span class="line">MemAvailable:    1619252 kB</span><br><span class="line">Buffers:          301640 kB</span><br><span class="line">Cached:           978212 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:           591384 kB</span><br><span class="line">Inactive:         838300 kB</span><br><span class="line">Active(anon):      77428 kB</span><br><span class="line">Inactive(anon):   112776 kB</span><br><span class="line">Active(file):     513956 kB</span><br><span class="line">Inactive(file):   725524 kB</span><br><span class="line">Unevictable:         828 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:       5207916 kB</span><br><span class="line">SwapFree:        5207796 kB</span><br><span class="line">Dirty:               272 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:        143560 kB</span><br><span class="line">Mapped:           168900 kB</span><br><span class="line">Shmem:             39548 kB</span><br><span class="line">Slab:             217244 kB</span><br><span class="line">SReclaimable:     162968 kB</span><br><span class="line">SUnreclaim:        54276 kB</span><br><span class="line">KernelStack:        4384 kB</span><br><span class="line">PageTables:         3520 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:     6221536 kB</span><br><span class="line">Committed_AS:    1029676 kB</span><br><span class="line">VmallocTotal:   263061440 kB</span><br><span class="line">VmallocUsed:           0 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">AnonHugePages:     40960 kB</span><br><span class="line">ShmemHugePages:        0 kB</span><br><span class="line">ShmemPmdMapped:        0 kB</span><br><span class="line">NvMapMemFree:       2048 kB</span><br><span class="line">NvMapMemUsed:      21324 kB</span><br><span class="line">CmaTotal:          65536 kB</span><br><span class="line">CmaFree:           13236 kB</span><br><span class="line">HugePages_Total:       0</span><br><span class="line">HugePages_Free:        0</span><br><span class="line">HugePages_Rsvd:        0</span><br><span class="line">HugePages_Surp:        0</span><br><span class="line">Hugepagesize:       2048 kB</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/mmcblk0p1   58G   29G   28G  51% /</span><br><span class="line">none            951M     0  951M   0% /dev</span><br><span class="line">tmpfs           990M  4.0K  990M   1% /dev/shm</span><br><span class="line">tmpfs           990M   38M  953M   4% /run</span><br><span class="line">tmpfs           5.0M  4.0K  5.0M   1% /run/lock</span><br><span class="line">tmpfs           990M     0  990M   0% /sys/fs/cgroup</span><br><span class="line">tmpfs           198M  4.0K  198M   1% /run/user/121</span><br><span class="line">tmpfs           198M     0  198M   0% /run/user/1000</span><br></pre></td></tr></table></figure>
<h2 id="jetson-nano-from-shenzhen-longer-vision-technology">2.2 <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/jetson-nano">Jetson Nano</a>
from <a target="_blank" rel="noopener" href="https://www.longervision.cn">ShenZhen Longer Vision
Technology</a></h2>
<div data-align="center">
<p><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/jetson_nano_4g_muii_16g.png">
<img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/jetson_nano_4g_muii_16g.png" alt="Neofetch Jetson Nano 2G">
</a></p>
</div>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ cat /proc/cpuinfo</span><br><span class="line">processor	: 0</span><br><span class="line">model name	: ARMv8 Processor rev 1 (v8l)</span><br><span class="line">BogoMIPS	: 38.40</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32</span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x1</span><br><span class="line">CPU part	: 0xd07</span><br><span class="line">CPU revision	: 1</span><br><span class="line"></span><br><span class="line">processor	: 1</span><br><span class="line">model name	: ARMv8 Processor rev 1 (v8l)</span><br><span class="line">BogoMIPS	: 38.40</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32</span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x1</span><br><span class="line">CPU part	: 0xd07</span><br><span class="line">CPU revision	: 1</span><br><span class="line"></span><br><span class="line">processor	: 2</span><br><span class="line">model name	: ARMv8 Processor rev 1 (v8l)</span><br><span class="line">BogoMIPS	: 38.40</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32</span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x1</span><br><span class="line">CPU part	: 0xd07</span><br><span class="line">CPU revision	: 1</span><br><span class="line"></span><br><span class="line">processor	: 3</span><br><span class="line">model name	: ARMv8 Processor rev 1 (v8l)</span><br><span class="line">BogoMIPS	: 38.40</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32</span><br><span class="line">CPU implementer	: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x1</span><br><span class="line">CPU part	: 0xd07</span><br><span class="line">CPU revision	: 1</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ cat /proc/meminfo</span><br><span class="line">MemTotal:        4059260 kB</span><br><span class="line">MemFree:         1409344 kB</span><br><span class="line">MemAvailable:    2538768 kB</span><br><span class="line">Buffers:           30120 kB</span><br><span class="line">Cached:          1254004 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:          1017736 kB</span><br><span class="line">Inactive:        1170840 kB</span><br><span class="line">Active(anon):     905764 kB</span><br><span class="line">Inactive(anon):    45076 kB</span><br><span class="line">Active(file):     111972 kB</span><br><span class="line">Inactive(file):  1125764 kB</span><br><span class="line">Unevictable:           0 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:       2029616 kB</span><br><span class="line">SwapFree:        2029616 kB</span><br><span class="line">Dirty:               152 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:        898652 kB</span><br><span class="line">Mapped:           560276 kB</span><br><span class="line">Shmem:             46388 kB</span><br><span class="line">Slab:             102792 kB</span><br><span class="line">SReclaimable:      46832 kB</span><br><span class="line">SUnreclaim:        55960 kB</span><br><span class="line">KernelStack:        6160 kB</span><br><span class="line">PageTables:         7752 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:     4059244 kB</span><br><span class="line">Committed_AS:    2500320 kB</span><br><span class="line">VmallocTotal:   263061440 kB</span><br><span class="line">VmallocUsed:           0 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">AnonHugePages:    131072 kB</span><br><span class="line">ShmemHugePages:        0 kB</span><br><span class="line">ShmemPmdMapped:        0 kB</span><br><span class="line">NvMapMemFree:          0 kB</span><br><span class="line">NvMapMemUsed:     258692 kB</span><br><span class="line">CmaTotal:         475136 kB</span><br><span class="line">CmaFree:          441280 kB</span><br><span class="line">HugePages_Total:       0</span><br><span class="line">HugePages_Free:        0</span><br><span class="line">HugePages_Rsvd:        0</span><br><span class="line">HugePages_Surp:        0</span><br><span class="line">Hugepagesize:       2048 kB</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/mmcblk0p1   14G   12G  1.2G  92% /</span><br><span class="line">none            1.8G     0  1.8G   0% /dev</span><br><span class="line">tmpfs           2.0G   19M  2.0G   1% /dev/shm</span><br><span class="line">tmpfs           2.0G   28M  2.0G   2% /run</span><br><span class="line">tmpfs           5.0M  4.0K  5.0M   1% /run/lock</span><br><span class="line">tmpfs           2.0G     0  2.0G   0% /sys/fs/cgroup</span><br><span class="line">tmpfs           397M   12K  397M   1% /run/user/120</span><br><span class="line">tmpfs           397M     0  397M   0% /run/user/1000</span><br></pre></td></tr></table></figure>
<h2 id="jetson-xavier-nx-from-shenzhen-longer-vision-technology">2.3 <a
target="_blank" rel="noopener" href="https://www.nvidia.com/en-gb/autonomous-machines/embedded-systems/jetson-xavier-nx/">Jetson
Xavier NX</a> from <a target="_blank" rel="noopener" href="https://www.longervision.cn">ShenZhen Longer
Vision Technology</a></h2>
<div data-align="center">
<p><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/jetson_xavier_nx_8g_muii_16g.png">
<img src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/jetson_xavier_nx_8g_muii_16g.png" alt="Neofetch Jetson Nano 2G">
</a></p>
</div>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ cat /proc/cpuinfo</span><br><span class="line">processor	: 0</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 50168445</span><br><span class="line"></span><br><span class="line">processor	: 1</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 50168445</span><br><span class="line"></span><br><span class="line">processor	: 2</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 50168445</span><br><span class="line"></span><br><span class="line">processor	: 3</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 50168445</span><br><span class="line"></span><br><span class="line">processor	: 4</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 50168445</span><br><span class="line"></span><br><span class="line">processor	: 5</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 50168445</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ cat /proc/meminfo</span><br><span class="line">MemTotal:        7958064 kB</span><br><span class="line">MemFree:         6376676 kB</span><br><span class="line">MemAvailable:    6968608 kB</span><br><span class="line">Buffers:           31648 kB</span><br><span class="line">Cached:           706620 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:           422156 kB</span><br><span class="line">Inactive:         581804 kB</span><br><span class="line">Active(anon):     267236 kB</span><br><span class="line">Inactive(anon):    27908 kB</span><br><span class="line">Active(file):     154920 kB</span><br><span class="line">Inactive(file):   553896 kB</span><br><span class="line">Unevictable:           0 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:       3979008 kB</span><br><span class="line">SwapFree:        3979008 kB</span><br><span class="line">Dirty:                 0 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:        254048 kB</span><br><span class="line">Mapped:           187980 kB</span><br><span class="line">Shmem:             29456 kB</span><br><span class="line">Slab:             132884 kB</span><br><span class="line">SReclaimable:      60592 kB</span><br><span class="line">SUnreclaim:        72292 kB</span><br><span class="line">KernelStack:        6640 kB</span><br><span class="line">PageTables:         5892 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:     7958040 kB</span><br><span class="line">Committed_AS:    1977692 kB</span><br><span class="line">VmallocTotal:   263061440 kB</span><br><span class="line">VmallocUsed:           0 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">AnonHugePages:     90112 kB</span><br><span class="line">ShmemHugePages:        0 kB</span><br><span class="line">ShmemPmdMapped:        0 kB</span><br><span class="line">NvMapMemFree:        704 kB</span><br><span class="line">NvMapMemUsed:      27852 kB</span><br><span class="line">CmaTotal:         753664 kB</span><br><span class="line">CmaFree:          704152 kB</span><br><span class="line">HugePages_Total:       0</span><br><span class="line">HugePages_Free:        0</span><br><span class="line">HugePages_Rsvd:        0</span><br><span class="line">HugePages_Surp:        0</span><br><span class="line">Hugepagesize:       2048 kB</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/mmcblk0p1   14G   13G  253M  99% /</span><br><span class="line">none            3.5G     0  3.5G   0% /dev</span><br><span class="line">tmpfs           3.8G  4.0K  3.8G   1% /dev/shm</span><br><span class="line">tmpfs           3.8G   29M  3.8G   1% /run</span><br><span class="line">tmpfs           5.0M  4.0K  5.0M   1% /run/lock</span><br><span class="line">tmpfs           3.8G     0  3.8G   0% /sys/fs/cgroup</span><br><span class="line">tmpfs           778M   12K  778M   1% /run/user/120</span><br><span class="line">tmpfs           778M     0  778M   0% /run/user/1000</span><br></pre></td></tr></table></figure>
<h2 id="jetson-agx-xavier">2.4 Jetson AGX Xavier</h2>
<h3 id="failed-to-flash-via-nvidia-sdk-manager">2.4.1 Failed to Flash
via <a target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK
Manager</a></h3>
<h4 id="lsusb">2.4.1.1 <code>lsusb</code></h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ lsusb</span><br><span class="line">......</span><br><span class="line">Bus 009 Device 042: ID 0955:7019 NVIDIA Corp. APX</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h4 id="no-available-releases-for-host-os-ubuntu-24.04">2.4.1.2 No
available releases for host OS: [Ubuntu 24.04]</h4>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Select Jetson AGX Xavier</th>
<th style="text-align: center;">No available releases for host OS:
Ubuntu 24.04</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Jetson_AGX_Xavier.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Jetson_AGX_Xavier.png"
alt="NVidia SDK Manager Jetson AGX Xavier" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_No_Available_Release_for_Host.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_No_Available_Release_for_Host.png"
alt="NVidia SDK Manager No Available Release for Host" /></a></td>
</tr>
</tbody>
</table>
<h3 id="try-sd-car-image">2.4.2 Try SD Car Image</h3>
<p>Download <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/embedded/jetpack-sdk-513#collapseJetsonXavierNX">JP513-xnx-sd-card-image_b29.zip</a>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=./sd-blob.img of=/dev/sdb bs=1M status=progress conv=fsync </span><br><span class="line">[sudo] password for lvision: </span><br><span class="line">17746100224 bytes (18 GB, 17 GiB) copied, 26 s, 683 MB/s18153996288 bytes (18 GB, 17 GiB) copied, 26.5595 s, 684 MB/s</span><br><span class="line"></span><br><span class="line">17313+0 records in</span><br><span class="line">17313+0 records out</span><br><span class="line">18153996288 bytes (18 GB, 17 GiB) copied, 1617.17 s, 11.2 MB/s</span><br></pre></td></tr></table></figure>
<p>However, <strong>Jetson AGX Xavier</strong> is <strong>NOT</strong>
booting, but <strong>ONLY</strong> black screen.</p>
<p>The answer is at <a
target="_blank" rel="noopener" href="https://forums.developer.nvidia.com/t/black-screen/189348/">NVidia
Forum Issue 189348 - Black Screen</a>: <span
style="color:red"><strong>Do you know that you are talking about AGX
Xavier but not NX? Only NX and Nano have and support sdcard image. Other
platforms do not.</strong></span> It’s also clearly clarified in the
table on NVidia’s official page: <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK
Manager</a>.</p>
<h3 id="finally-negotiated-to-use-ubuntu-20.04">2.4.3 Finally,
Negotiated to Use <a target="_blank" rel="noopener" href="https://ubuntu.com/download/desktop">Ubuntu
20.04</a></h3>
<h4 id="installation-using-nvidia-sdk-manager-on-ubuntu-20.04">2.4.3.1
Installation Using <a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK Manager</a>
on <a target="_blank" rel="noopener" href="https://ubuntu.com/download/desktop">Ubuntu 20.04</a></h4>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK Manager</a>
Installation Step 1</th>
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK Manager</a>
Installation Step 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_01.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_01.png"
alt="NVidia SDK Manager Step 1" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_02.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_02.png"
alt="NVidia SDK Manager Step 2" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK Manager</a>
Installation Step 3-1</td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK Manager</a>
Installation Step 3-2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">:----------:</td>
<td style="text-align: center;">:----------:</td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_03_1.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_03_1.png"
alt="NVidia SDK Manager Step 3-1" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_03_2.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_03_2.png"
alt="NVidia SDK Manager Step 3-2" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><a
target="_blank" rel="noopener" href="https://developer.nvidia.com/sdk-manager">NVidia SDK Manager</a>
Installation Step 4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_04.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/NVidia_SDK_Manager_Step_04.png"
alt="NVidia SDK Manager Step 4" /></a></td>
</tr>
</tbody>
</table>
<h4 id="ssh-into-jetson-agx-xavier">2.4.3.2 <code>ssh</code> Into
<strong>Jetson AGX Xavier</strong></h4>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/jetson_agx_xavier_32g.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/Jetson/Old/jetson_agx_xavier_32g.png"
alt="Jetson AGX Xavier 32G" /></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">lvision@ubuntu:~$ cat /proc/cpuinfo</span><br><span class="line">processor	: 0</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm dcpop</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 72064061</span><br><span class="line"></span><br><span class="line">processor	: 1</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm dcpop</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 72064061</span><br><span class="line"></span><br><span class="line">processor	: 2</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm dcpop</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 72064061</span><br><span class="line"></span><br><span class="line">processor	: 3</span><br><span class="line">model name	: ARMv8 Processor rev 0 (v8l)</span><br><span class="line">BogoMIPS	: 62.50</span><br><span class="line">Features	: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm dcpop</span><br><span class="line">CPU implementer	: 0x4e</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant	: 0x0</span><br><span class="line">CPU part	: 0x004</span><br><span class="line">CPU revision	: 0</span><br><span class="line">MTS version	: 72064061</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">lvision@ubuntu:~$ cat /proc/meminfo</span><br><span class="line">MemTotal:       31734344 kB</span><br><span class="line">MemFree:        29595460 kB</span><br><span class="line">MemAvailable:   30582508 kB</span><br><span class="line">Buffers:           32896 kB</span><br><span class="line">Cached:          1265972 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:           410632 kB</span><br><span class="line">Inactive:        1243424 kB</span><br><span class="line">Active(anon):       2380 kB</span><br><span class="line">Inactive(anon):   395220 kB</span><br><span class="line">Active(file):     408252 kB</span><br><span class="line">Inactive(file):   848204 kB</span><br><span class="line">Unevictable:       21408 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:      15867168 kB</span><br><span class="line">SwapFree:       15867168 kB</span><br><span class="line">Dirty:                 0 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:        371788 kB</span><br><span class="line">Mapped:           232932 kB</span><br><span class="line">Shmem:             21004 kB</span><br><span class="line">KReclaimable:      72332 kB</span><br><span class="line">Slab:             156660 kB</span><br><span class="line">SReclaimable:      72332 kB</span><br><span class="line">SUnreclaim:        84328 kB</span><br><span class="line">KernelStack:        8128 kB</span><br><span class="line">PageTables:        11020 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:    31734340 kB</span><br><span class="line">Committed_AS:    2774872 kB</span><br><span class="line">VmallocTotal:   135290159040 kB</span><br><span class="line">VmallocUsed:       90948 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">Percpu:             4384 kB</span><br><span class="line">HardwareCorrupted:     0 kB</span><br><span class="line">AnonHugePages:    137216 kB</span><br><span class="line">ShmemHugePages:        0 kB</span><br><span class="line">ShmemPmdMapped:        0 kB</span><br><span class="line">FileHugePages:         0 kB</span><br><span class="line">FilePmdMapped:         0 kB</span><br><span class="line">CmaTotal:          65536 kB</span><br><span class="line">CmaFree:           16172 kB</span><br><span class="line">HugePages_Total:       0</span><br><span class="line">HugePages_Free:        0</span><br><span class="line">HugePages_Rsvd:        0</span><br><span class="line">HugePages_Surp:        0</span><br><span class="line">Hugepagesize:       2048 kB</span><br><span class="line">Hugetlb:               0 kB</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">lvision@ubuntu:~$ df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/mmcblk0p1   28G   19G  7.1G  73% /</span><br><span class="line">none             16G     0   16G   0% /dev</span><br><span class="line">tmpfs            16G     0   16G   0% /dev/shm</span><br><span class="line">tmpfs           3.1G   19M  3.1G   1% /run</span><br><span class="line">tmpfs           5.0M  4.0K  5.0M   1% /run/lock</span><br><span class="line">tmpfs            16G     0   16G   0% /sys/fs/cgroup</span><br><span class="line">tmpfs           3.1G   16K  3.1G   1% /run/user/124</span><br><span class="line">tmpfs           3.1G  8.0K  3.1G   1% /run/user/1000</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/07/05/MachineVision/RGBD/RealSense-LiDAR-D43X/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/05/MachineVision/RGBD/RealSense-LiDAR-D43X/" class="post-title-link" itemprop="url">Intel RealSense LiDAR Camera D435/D430</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-07-05 00:00:00" itemprop="dateCreated datePublished" datetime="2024-07-05T00:00:00-07:00">2024-07-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-29 21:41:57" itemprop="dateModified" datetime="2024-09-29T21:41:57-07:00">2024-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Machine-Vision/" itemprop="url" rel="index"><span itemprop="name">Machine Vision</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Machine-Vision/RGBD/" itemprop="url" rel="index"><span itemprop="name">RGBD</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Today, we’re playing <a
target="_blank" rel="noopener" href="https://www.intelrealsense.com/depth-camera-d435/">Intel RealSense
Depth Camera D435</a> and <a
target="_blank" rel="noopener" href="https://www.intelrealsense.com/stereo-depth-modules-and-processors/">Intel
RealSense Depth Modules and Processors</a>.</p>
<h1 id="my-working-environment">0. My Working Environment</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ lsb_release -a             </span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID:	Ubuntu</span><br><span class="line">Description:	Ubuntu 24.04 LTS</span><br><span class="line">Release:	24.04</span><br><span class="line">Codename:	noble</span><br><span class="line"></span><br><span class="line">$ uname -r                             </span><br><span class="line">6.8.0-36-generic</span><br></pre></td></tr></table></figure>
<h1 id="intel-realsense">1. <a
target="_blank" rel="noopener" href="https://www.intelrealsense.com/">Intel RealSense</a></h1>
<h2 id="overview">1.1 Overview</h2>
<p><a
target="_blank" rel="noopener" href="https://www.intelrealsense.com/wp-content/uploads/2019/02/stereo_DT_d435_front-crop1a.png"><img
src="https://www.intelrealsense.com/wp-content/uploads/2019/02/stereo_DT_d435_front-crop1a.png"
alt="Intel RealSense D435 Frontal" /></a></p>
<h2 id="hardware-specification">1.2 Hardware Specification</h2>
<p>Refer to <a
target="_blank" rel="noopener" href="https://www.intelrealsense.com/download/21345/?tmstv=1697035582">Tech
Specs pdf</a>.</p>
<h1 id="lsusb-and-demonstration">2. <code>lsusb</code> and
Demonstration</h1>
<h2 id="lsusb">2.1 <code>lsusb</code></h2>
<p>Respectively, I got:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ lsusb | grep -i RealSense</span><br><span class="line">Bus 010 Device 012: ID 8086:0b07 Intel Corp. RealSense D435</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ lsusb | grep -i RealSense</span><br><span class="line">Bus 010 Device 004: ID 8086:0ad4 Intel Corp. Intel(R) RealSense(TM) Depth Camera 430 </span><br></pre></td></tr></table></figure>
<h2 id="realsense-viewer">2.2 <code>realsense-viewer</code></h2>
<h3 id="intel-realsense-depth-camera-d435">2.2.1 <a
target="_blank" rel="noopener" href="https://www.intelrealsense.com/depth-camera-d435/">Intel RealSense
Depth Camera D435</a></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ realsense-viewer</span><br><span class="line"> 05/07 15:16:42,021 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video0 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video0</span><br><span class="line"> 05/07 15:16:42,099 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video1 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video1</span><br><span class="line"> 05/07 15:16:42,101 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video2 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video2</span><br><span class="line"> 05/07 15:16:42,103 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video3 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video3</span><br><span class="line"> 05/07 15:16:42,104 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video4 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.3/video4linux/video4</span><br><span class="line"> 05/07 15:16:42,106 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video5 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.3/video4linux/video5</span><br><span class="line"> 05/07 15:16:42,108 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video6 realpath=/sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video6</span><br><span class="line"> 05/07 15:16:42,211 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video7 realpath=/sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video7</span><br><span class="line"> 05/07 15:16:42,498 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video0 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video0</span><br><span class="line"> 05/07 15:16:42,499 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video1 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video1</span><br><span class="line"> 05/07 15:16:42,500 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video2 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video2</span><br><span class="line"> 05/07 15:16:42,501 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video3 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video3</span><br><span class="line"> 05/07 15:16:42,502 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video4 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.3/video4linux/video4</span><br><span class="line"> 05/07 15:16:42,503 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video5 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.3/video4linux/video5</span><br><span class="line"> 05/07 15:16:42,504 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video6 realpath=/sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video6</span><br><span class="line"> 05/07 15:16:42,505 INFO [135660990636032] (backend-v4l2.cpp:753) Enumerating UVC video7 realpath=/sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video7</span><br><span class="line"> 05/07 15:16:42,506 INFO [135660990636032] (context.cpp:116) ... /sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-4/10-4:1.0/video4linux/video0</span><br><span class="line"> 05/07 15:16:42,506 INFO [135660990636032] (context.cpp:116) ... /sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video6</span><br><span class="line"> 05/07 15:16:42,506 INFO [135660990636032] (context.cpp:128) Found 2 RealSense devices (0xff requested &amp; 0xff from device-mask in settings)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><code>realsense-viewer</code> GUI</th>
<th style="text-align: center;">Firmware Upgrading from within
<code>realsense-viewer</code> GUI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/RealSense_Viewer.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/RealSense_Viewer.png"
alt="D435 RealSense Viewer" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/MachineVision/Intel/RealSenseD43X/D435_Firmware_Upgrading.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/master/MachineVision/Intel/RealSenseD43X/D435_Firmware_Upgrading.png"
alt="D435 Firmware Upgrading" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Viewing Depth Image in 2D</th>
<th style="text-align: center;">Viewing Depth Image in 3D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D435_Depth_2D.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D435_Depth_2D.png"
alt="D435 Depth 2D" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D435_Depth_3D.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D435_Depth_3D.png"
alt="D435 Depth 3D" /></a></td>
</tr>
</tbody>
</table>
<h3 id="intel-realsense-depth-modules-and-processors-d430">2.2.2 <a
target="_blank" rel="noopener" href="https://www.intelrealsense.com/stereo-depth-modules-and-processors/">Intel
RealSense Depth Modules and Processors</a> D430</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ realsense-viewer  </span><br><span class="line"> 05/07 17:00:55,958 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video0 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video0</span><br><span class="line"> 05/07 17:00:56,036 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video1 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video1</span><br><span class="line"> 05/07 17:00:56,039 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video2 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video2</span><br><span class="line"> 05/07 17:00:56,041 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video3 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video3</span><br><span class="line"> 05/07 17:00:56,043 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video6 realpath=/sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video6</span><br><span class="line"> 05/07 17:00:56,146 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video7 realpath=/sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video7</span><br><span class="line"> 05/07 17:00:56,387 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video0 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video0</span><br><span class="line"> 05/07 17:00:56,389 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video1 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video1</span><br><span class="line"> 05/07 17:00:56,390 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video2 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video2</span><br><span class="line"> 05/07 17:00:56,391 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video3 realpath=/sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video3</span><br><span class="line"> 05/07 17:00:56,392 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video6 realpath=/sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video6</span><br><span class="line"> 05/07 17:00:56,393 INFO [133348205735936] (backend-v4l2.cpp:753) Enumerating UVC video7 realpath=/sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video7</span><br><span class="line"> 05/07 17:00:56,394 INFO [133348205735936] (context.cpp:116) ... /sys/devices/pci0000:40/0000:40:01.1/0000:41:00.0/0000:42:08.0/0000:46:00.3/usb10/10-3/10-3:1.0/video4linux/video0</span><br><span class="line"> 05/07 17:00:56,394 INFO [133348205735936] (context.cpp:116) ... /sys/devices/pci0000:00/0000:00:08.1/0000:05:00.3/usb1/1-2/1-2:1.0/video4linux/video6</span><br><span class="line"> 05/07 17:00:56,394 INFO [133348205735936] (context.cpp:128) Found 2 RealSense devices (0xff requested &amp; 0xff from device-mask in settings)</span><br></pre></td></tr></table></figure>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">D430 Depth Camera 1 - 2D IR Sparse
Pattern</th>
<th style="text-align: center;">D430 Depth Camera 1 - 3D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_1_Depth_2D_SparsePattern.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_1_Depth_2D_SparsePattern.png"
alt="D430 Depth 2D Sparse Pattern" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_1_Depth_3D.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_1_Depth_3D.png"
alt="D430 Depth 3D" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">D430 Depth Camera 2 - 2D IR Sparse
Pattern</th>
<th style="text-align: center;">D430 Depth Camera 2 - 3D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_2_Depth_2D_SparsePattern.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_2_Depth_2D_SparsePattern.png"
alt="D430 Depth 2D Sparse Pattern" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_2_Depth_3D.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_2_Depth_3D.png"
alt="D430 Depth 3D" /></a></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Firmware To Upgrade</th>
<th style="text-align: center;">Firmware Upgraded Successfully</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_Firmware_ToUpgrade.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_Firmware_ToUpgrade.png"
alt="D430 Firmware To Upgrade" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_Firmware_Upgraded_Successfully.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/D430_Firmware_Upgraded_Successfully.png"
alt="D430 Firmware Upgraded Successfully" /></a></td>
</tr>
</tbody>
</table>
<h2 id="rs-hello-realsense">2.3 <code>rs-hello-realsense</code></h2>
<div data-align="center">
<p><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/rs-hello-realsense.png">
<img src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Intel/RealSenseD43X/rs-hello-realsense.png" alt="Neofetch Jetson Nano 2G">
</a></p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/07/01/MachineVision/RGBD/Azure-Kinect-DK/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/01/MachineVision/RGBD/Azure-Kinect-DK/" class="post-title-link" itemprop="url">Azure Kinect DK</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-07-01 00:00:00" itemprop="dateCreated datePublished" datetime="2024-07-01T00:00:00-07:00">2024-07-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-30 01:55:07" itemprop="dateModified" datetime="2024-09-30T01:55:07-07:00">2024-09-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Machine-Vision/" itemprop="url" rel="index"><span itemprop="name">Machine Vision</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Machine-Vision/RGBD/" itemprop="url" rel="index"><span itemprop="name">RGBD</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>I tried <a
target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/d/azure-kinect-dk/8pp5vxmd9nhq?activetab=pivot:overviewtab">Azure
Kinect DK</a> 2 years ago, and rencently I’d love to some fun with it
again.</p>
<h1 id="my-working-environment">0. My Working Environment</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ lsb_release -a             </span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID:	Ubuntu</span><br><span class="line">Description:	Ubuntu 24.04 LTS</span><br><span class="line">Release:	24.04</span><br><span class="line">Codename:	noble</span><br><span class="line"></span><br><span class="line">$ uname -r                             </span><br><span class="line">6.8.0-36-generic</span><br></pre></td></tr></table></figure>
<h1 id="azure-kinect-dk">1. <a
target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/d/azure-kinect-dk/8pp5vxmd9nhq?activetab=pivot:overviewtab">Azure
Kinect DK</a></h1>
<h2 id="overview">1.1 Overview</h2>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/K4A/AzureKinectSensor.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/K4A/AzureKinectSensor.png"
alt="Azure Kinect Sensor" /></a></p>
<h2 id="hardware-specification">1.2 Hardware Specification</h2>
<p>Refer to <a
target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/azure/kinect-dk/hardware-specification">Azure
Kinect DK hardware specifications</a>.</p>
<h1 id="lsusb-and-demonstration">2. <code>lsusb</code> and
Demonstration</h1>
<blockquote>
<p>[<strong><span style="color:red">!NOTE:</span></strong>]<br />
<strong><span style="color:red"><a
target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/d/azure-kinect-dk/8pp5vxmd9nhq?activetab=pivot:overviewtab">Azure
Kinect DK</a> is quite picky at USB cables.</span></strong></p>
</blockquote>
<h2 id="nothing-detected">2.1 Nothing Detected</h2>
<p>For some USB cables, <code>lsusb</code> shows nothing related to <a
target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/d/azure-kinect-dk/8pp5vxmd9nhq?activetab=pivot:overviewtab">Azure
Kinect DK</a>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lsusb | grep Azure</span><br></pre></td></tr></table></figure>
<p>Please also refer to: <a
target="_blank" rel="noopener" href="https://github.com/microsoft/Azure-Kinect-Sensor-SDK/issues/1646">cannot
connect via Thunderbolt 3</a>.</p>
<h2 id="detected">2.2 Detected</h2>
<p>For other USB cables, both <code>lsusb</code> and
<strong>AzureKinectFirmwareTool</strong> are able to detect <a
target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/d/azure-kinect-dk/8pp5vxmd9nhq?activetab=pivot:overviewtab">Azure
Kinect DK</a>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ AzureKinectFirmwareTool -q</span><br><span class="line"> == Azure Kinect DK Firmware Tool == </span><br><span class="line">Device Serial Number: 000593414512</span><br><span class="line">Current Firmware Versions:</span><br><span class="line">  RGB camera firmware:      1.6.110</span><br><span class="line">  Depth camera firmware:    1.6.80</span><br><span class="line">  Depth config file:        6109.7</span><br><span class="line">  Audio firmware:           1.6.14</span><br><span class="line">  Build Config:             Production</span><br><span class="line">  Certificate Type:         Microsoft</span><br></pre></td></tr></table></figure>
<h3 id="k4aviewer-no-available-devices">2.2.1 <a
target="_blank" rel="noopener" href="https://github.com/microsoft/Azure-Kinect-Sensor-SDK/tree/develop/tools/k4aviewer">k4aviewer</a>
No Available Devices</h3>
<p>However, when we run <a
target="_blank" rel="noopener" href="https://github.com/microsoft/Azure-Kinect-Sensor-SDK/tree/develop/tools/k4aviewer">k4aviewer</a>,
it still shows <strong>No Available Devices</strong>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ lsusb | grep Azure</span><br><span class="line">Bus 009 Device 007: ID 045e:097b Microsoft Corp. Generic Hub [Azure Kinect]</span><br><span class="line">Bus 009 Device 008: ID 045e:097d Microsoft Corp. Azure Kinect 4K Camera</span><br><span class="line">Bus 009 Device 009: ID 045e:097c Microsoft Corp. Azure Kinect Depth Camera</span><br><span class="line">Bus 009 Device 010: ID 045e:097e Microsoft Corp. Azure Kinect Microphone Array</span><br></pre></td></tr></table></figure>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">No Available Devices</th>
<th style="text-align: center;">No Available Devices, Errors</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/K4A/k4aviewer_01.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/K4A/k4aviewer_01.png"
alt="K4A Viewer No Available Devices" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/K4A/k4aviewer_02.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/K4A/k4aviewer_02.png"
alt="K4A Viewer No Available Devices, Errors" /></a></td>
</tr>
</tbody>
</table>
<h3 id="detect-okay-and-run-successfully">2.2.2 Detect Okay And Run
Successfully</h3>
<p>Fortunately, I got one cable working partially perperly, but lsusb
failed to detect <a
target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/d/azure-kinect-dk/8pp5vxmd9nhq?activetab=pivot:overviewtab">Azure
Kinect DK</a>'s Microphone Array.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ lsusb | grep -i Azure </span><br><span class="line">Bus 010 Device 002: ID 045e:097a Microsoft Corp. Generic Superspeed Hub [Azure Kinect]</span><br><span class="line">Bus 010 Device 003: ID 045e:097c Microsoft Corp. Azure Kinect Depth Camera</span><br><span class="line">Bus 010 Device 004: ID 045e:097d Microsoft Corp. Azure Kinect 4K Camera</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/K4A/k4aviewer_03.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/MachineVision/Microsoft/K4A/k4aviewer_03.png"
alt="K4A Viewer" /></a></p>
<h2 id="i-believe-and-i-found-it">2.3 <a
target="_blank" rel="noopener" href="https://youtu.be/W-LHqZc-UR8">I Believe</a> and I Found It</h2>
<p>Luckily, I found a cable, which is able to detect
<strong>ALL</strong> of the following:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ lsusb | grep Azure   </span><br><span class="line">Bus 001 Device 010: ID 045e:097b Microsoft Corp. Generic Hub [Azure Kinect]</span><br><span class="line">Bus 001 Device 011: ID 045e:097e Microsoft Corp. Azure Kinect Microphone Array</span><br><span class="line">Bus 002 Device 014: ID 045e:097a Microsoft Corp. Generic Superspeed Hub [Azure Kinect]</span><br><span class="line">Bus 002 Device 015: ID 045e:097c Microsoft Corp. Azure Kinect Depth Camera</span><br><span class="line">Bus 002 Device 016: ID 045e:097d Microsoft Corp. Azure Kinect 4K Camera</span><br></pre></td></tr></table></figure>
<h2 id="k-camera-is-working-fine-like-an-independent-uvc-camera">2.4 4K
Camera Is Working Fine Like An Independent UVC Camera</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ v4l2-ctl --list-devices</span><br><span class="line"></span><br><span class="line">Azure Kinect 4K Camera (usb-0000:05:00.3-2.1):</span><br><span class="line">	/dev/video1</span><br><span class="line">	/dev/video2</span><br><span class="line">	/dev/media0</span><br><span class="line"></span><br><span class="line">Cannot open device /dev/video0, exiting.</span><br></pre></td></tr></table></figure>
<p>It can be simpilied decmonstrated that <a
target="_blank" rel="noopener" href="https://guvcview.sourceforge.net/">GUVCView</a> is able to
successfully detect
<code>Bus 002 Device 016: ID 045e:097d Microsoft Corp. Azure Kinect 4K Camera</code>
as a UVC Camera and carry out the real-time streaming.</p>
<h1 id="libdepthengine.so">3. <code>libdepthengine.so</code></h1>
<p>Currently, <a
target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/d/azure-kinect-dk/8pp5vxmd9nhq?activetab=pivot:overviewtab">Azure
Kinect DK</a> supports <a
target="_blank" rel="noopener" href="https://releases.ubuntu.com/18.04/">Ubuntu 18.04</a>
<strong>ONLY</strong>. However, the <a
target="_blank" rel="noopener" href="https://packages.microsoft.com/ubuntu/18.04/prod/pool/main/libk/libk4a1.4/">libdepthengine.so.2.0</a>
is working fine under my <a
target="_blank" rel="noopener" href="https://releases.ubuntu.com/24.04/">Ubuntu 24.04</a>, which can be
extracted directly from the package <a
target="_blank" rel="noopener" href="https://packages.microsoft.com/ubuntu/18.04/prod/pool/main/libk/libk4a1.4/libk4a1.4_1.4.2_amd64.deb">libk4a1.4_1.4.2_amd64.deb</a>.
Save <a
target="_blank" rel="noopener" href="https://packages.microsoft.com/ubuntu/18.04/prod/pool/main/libk/libk4a1.4/">libdepthengine.so.2.0</a>
under any <code>$PATH</code>, and create a symbolic link if you want
to.</p>
<h1 id="build-azure-kinect-sensor-sdk-longer-vision-from-source">4.
Build <a
target="_blank" rel="noopener" href="https://github.com/LongerVisionUSA/Azure-Kinect-Sensor-SDK">Azure-Kinect-Sensor-SDK
Longer Vision</a> From Source</h1>
<p>Don’t use the original <a
target="_blank" rel="noopener" href="https://github.com/microsoft/Azure-Kinect-Sensor-SDK">Azure-Kinect-Sensor-SDK</a>.
Use <a
target="_blank" rel="noopener" href="https://github.com/LongerVisionUSA/Azure-Kinect-Sensor-SDK">Azure-Kinect-Sensor-SDK
Longer Vision</a> instead.</p>
<h1 id="python-wrappers-for-azure-kinect-sensor-sdk">5. Python Wrappers
for <a
target="_blank" rel="noopener" href="https://github.com/microsoft/Azure-Kinect-Sensor-SDK">Azure-Kinect-Sensor-SDK</a></h1>
<table>
<colgroup>
<col style="width: 38%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Wrappers</th>
<th style="text-align: center;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://github.com/microsoft/Azure-Kinect-Sensor-SDK/tree/develop/src/python/k4a">k4a
Python wrapper</a></td>
<td style="text-align: center;">the official Python Wrapper with <a
target="_blank" rel="noopener" href="https://github.com/microsoft/Azure-Kinect-Sensor-SDK">Azure-Kinect-Sensor-SDK</a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://github.com/etiennedub/pyk4a">pyk4a</a></td>
<td style="text-align: center;">a third-party Python Wrapper</td>
</tr>
</tbody>
</table>
<h1
id="the-bug-replace_sample.-capturesync_drop-releasing-capture-early-due-to-full-queue-ts">6.
The Bug:
<code>replace_sample(). capturesync_drop, releasing capture early due to full queue TS</code></h1>
<p>Please refer to the following 2 Github issues:</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://github.com/microsoft/Azure-Kinect-Sensor-SDK/issues/1750">capturesync_drop,
releasing capture early due to full queue</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/iory/docker-ros-k4a/issues/15">Azure
Kinect process dies due to capturesync_drop</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/05/30/OperatingSystems/RaspberryPi/home-assistant/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/30/OperatingSystems/RaspberryPi/home-assistant/" class="post-title-link" itemprop="url">Home Assistant on A Raspberry Pi</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-05-30 10:14:18" itemprop="dateCreated datePublished" datetime="2024-05-30T10:14:18-07:00">2024-05-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-29 22:23:57" itemprop="dateModified" datetime="2024-09-29T22:23:57-07:00">2024-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Operating-System/" itemprop="url" rel="index"><span itemprop="name">Operating System</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Operating-System/Raspberry-Pi/" itemprop="url" rel="index"><span itemprop="name">Raspberry Pi</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Again, amazing China. This time, <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Nanjing">Nanjing</a>. What a
city!!!!!</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Ancient Qinhuai @ Qinhuai River,
Nanjing</th>
<th style="text-align: center;">Ancient Qinhuai @ Qinhuai River,
Nanjing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/GuQinHuai_01.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/GuQinHuai_01.jpg"
alt="GuQinHuai 01" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/GuQinHuai_02.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/GuQinHuai_02.jpg"
alt="GuQinHuai 02" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/WanQingLou.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/WanQingLou.jpg"
alt="WanQingLou" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/LiXiangJun.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/LiXiangJun.jpg"
alt="LiXiangJun" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/Lights_01.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/Lights_01.jpg"
alt="Lights 01" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/Lights_02.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/Lights_02.jpg"
alt="Lights 02" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/Lights_BaiLuZhou.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/Lights_BaiLuZhou.jpg"
alt="Lights BaiLuZhou" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/QinHuaiRenJia_01.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/QinHuaiRenJia_01.jpg"
alt="QinHuaiRenJia 01" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/QinHuaiRenJia_02.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/QinHuaiRenJia_02.jpg"
alt="QinHuaiRenJia 02" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/QinHuaiRenJia_03.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/QinHuaiRenJia_03.jpg"
alt="QinHuaiRenJia 03" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/NanjingSouth_HighSpeedTrain_RailwayStation_Outside.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/NanjingSouth_HighSpeedTrain_RailwayStation_Outside.jpg"
alt="NanjingSouth High Speed Train Railway Station Exterior" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/NanjingSouth_HighSpeedTrain_RailwayStation_Inside.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/NanjingSouth_HighSpeedTrain_RailwayStation_Inside.jpg"
alt="NanjingSouth High Speed Train Railway Station Inside" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/NanjingOldStation_Renovated.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/NanjingOldStation_Renovated.jpg"
alt="Nanjing Old Station Renovated" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/ChangYuNoodle.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Nanjing/ChangYuNoodle.jpg"
alt="ChangYu Noodle" /></a></td>
</tr>
</tbody>
</table>
<p><a target="_blank" rel="noopener" href="https://www.raspberrypi.com/">Raspberry Pi</a> has already
well-established a comprehensive community support world wide. Among
<strong>ALL</strong> the operating systems supporting Raspberry Pi, Home
Assistant stands out, shining brightly as an open-source home automation
operating system in the field of IoT.</p>
<h1 id="overview">1. Overview</h1>
<h2 id="what-is-home-assistant">1.1 What is <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a>?</h2>
<p><a target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a> is the
``open source home automation that puts local control and privacy first.
Powered by a worldwide community of tinkerers and DIY enthusiasts.
Perfect to run on a Raspberry Pi or a local server.'' (cited from first
page of the official website of <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a>.)</p>
<p><a target="_blank" rel="noopener" href="https://github.com/home-assistant/operating-system">Home
Assistant OS</a> is a minimal operating system optimized for running <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a>, and it does
not use traditional package management systems like apt. Instead, it
relies on <a
target="_blank" rel="noopener" href="https://www.docker.com/resources/what-container/">Docker</a>
containers to manage and run services, including <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a> and its
add-ons.</p>
<h2 id="web-ui">1.2 Web UI</h2>
<p>After simply flashed <a
target="_blank" rel="noopener" href="https://github.com/home-assistant/operating-system/releases/tag/12.3">Home
Assistant OS 12.3</a> onto a 16GB TF card and insert it into my old <a
target="_blank" rel="noopener" href="https://www.raspberrypi.com/products/raspberry-pi-3-model-b/">Raspberry
Pi 3B V1.2</a>, we can now take a brief look at <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a> web UI at
http://homeassistant.local:8123/.</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Home Assistant Overview</th>
<th style="text-align: center;">Home Assistant Dashboard</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/OperatingSystems/ha/ha_overview.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/OperatingSystems/ha/ha_overview.png"
alt="Home Assistant Overview" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/OperatingSystems/ha/ha_dashboard.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/OperatingSystems/ha/ha_dashboard.png"
alt="Home Assistant Dashboard" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/OperatingSystems/ha/ha_terminalssh.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/OperatingSystems/ha/ha_terminalssh.png"
alt="Home Assistant Terminal SSH" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/OperatingSystems/ha/ha_runterminalssh.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/OperatingSystems/ha/ha_runterminalssh.png"
alt="Home Assistant Run Terminal SSH" /></a></td>
</tr>
</tbody>
</table>
<h1 id="ssh-into-home-assistant-os">2. <code>ssh</code> Into <a
target="_blank" rel="noopener" href="https://github.com/home-assistant/operating-system">Home Assistant
OS</a></h1>
<h2 id="configuration">2.1 Configuration</h2>
<h3 id="installation-of-home-assistant-add-on-terminal-ssh">2.1.1
Installation of <a
target="_blank" rel="noopener" href="https://github.com/home-assistant/addons/tree/master/ssh">Home
Assistant Add-on Terminal &amp; SSH</a></h3>
<p>Please have the add-on <a
target="_blank" rel="noopener" href="https://github.com/home-assistant/addons/tree/master/ssh">Home
Assistant Add-on Terminal &amp; SSH</a> installed from
<code>Home Assistant -&gt; Settings -&gt; Add-ons</code>.</p>
<h3 id="edit-in-yaml">2.1.2 Edit in YAML</h3>
<p>Please do remember to add these 2 lines:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ssh:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">22</span></span><br></pre></td></tr></table></figure>
<p>at the end of the <strong>YAML</strong> configuration:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">authorized_keys:</span> []</span><br><span class="line"><span class="attr">password:</span> []</span><br><span class="line"><span class="attr">apks:</span> []</span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">tcp_forwarding:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">ssh:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">22</span></span><br></pre></td></tr></table></figure>
<h2 id="ssh-into-home-assistant-os-from-remote-desktop">2.2
<code>ssh</code> Into <a
target="_blank" rel="noopener" href="https://github.com/home-assistant/operating-system">Home Assistant
OS</a> From Remote Desktop</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ ssh root@192.168.1.83</span><br><span class="line">The authenticity of host &#x27;192.168.1.83 (192.168.1.83)&#x27; can&#x27;t be established.</span><br><span class="line">ED25519 key fingerprint is SHA256:MZDkXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXJmxE.</span><br><span class="line">This key is not known by any other names.</span><br><span class="line">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span><br><span class="line">Warning: Permanently added &#x27;192.168.1.83&#x27; (ED25519) to the list of known hosts.</span><br><span class="line"></span><br><span class="line">       ▄██▄           _   _                                    </span><br><span class="line">     ▄██████▄        | | | | ___  _ __ ___   ___               </span><br><span class="line">   ▄████▀▀████▄      | |_| |/ _ \| &#x27;_ ` _ \ / _ \              </span><br><span class="line"> ▄█████    █████▄    |  _  | (_) | | | | | |  __/              </span><br><span class="line">▄██████▄  ▄██████▄   |_| |_|\___/|_| |_| |_|\___|          _   </span><br><span class="line">████████  ██▀  ▀██      / \   ___ ___(_)___| |_ __ _ _ __ | |_ </span><br><span class="line">███▀▀███  ██   ▄██     / _ \ / __/ __| / __| __/ _` | &#x27;_ \| __|</span><br><span class="line">██    ██  ▀ ▄█████    / ___ \\__ \__ \ \__ \ || (_| | | | | |_ </span><br><span class="line">███▄▄ ▀█  ▄███████   /_/   \_\___/___/_|___/\__\__,_|_| |_|\__|</span><br><span class="line">▀█████▄   ███████▀</span><br><span class="line"></span><br><span class="line">Welcome to the Home Assistant command line.</span><br><span class="line"></span><br><span class="line">System information</span><br><span class="line">  IPv4 addresses for enu1u1: 192.168.1.83/24</span><br><span class="line">  IPv6 addresses for enu1u1: 2001:569:5993:5900:1b4a:e1e6:140c:aac0/64, fe80::ab1f:8f98:b81:a479/64</span><br><span class="line">  IPv4 addresses for wlan0: </span><br><span class="line">  IPv4 addresses for wlu1u4: </span><br><span class="line"></span><br><span class="line">  OS Version:               Home Assistant OS 12.3</span><br><span class="line">  Home Assistant Core:      2024.5.5</span><br><span class="line"></span><br><span class="line">  Home Assistant URL:       http://homeassistant.local:8123</span><br><span class="line">  Observer URL:             http://homeassistant.local:4357</span><br><span class="line">[core-ssh ~]$</span><br></pre></td></tr></table></figure>
<h1 id="esphome-with-home-assistant">3. <a
target="_blank" rel="noopener" href="https://esphome.io/">ESPHome</a> with <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a></h1>
<p>One of my very old blogs <a
target="_blank" rel="noopener" href="https://longervision.github.io/2019/08/22/MachineVision/MCU/exp32cam/">LVT
ESP32-Cam</a> has talked about <a
target="_blank" rel="noopener" href="https://github.com/espressif/esp32-camera">ESP32 Camera</a>.
Today, I found that blog posted 4 years ago before <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/COVID-19">COVID-19</a>, and I’m
trying to integrate some of my [ESP32 Cameras] into <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a>. Namely, use <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a> running on the
<a target="_blank" rel="noopener" href="https://www.raspberrypi.com/">Raspberry Pi</a> to manage a
couple of my <a target="_blank" rel="noopener" href="https://github.com/espressif/esp32-camera">ESP32
Camera</a>s.</p>
<h2 id="esp32-boards-management">3.1 ESP32 Boards Management</h2>
<p>Please ensure the following 2 boards support have been installed
successfully.</p>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/Arduino-IDE-ESP32.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/Arduino-IDE-ESP32.png"
alt="Arduino IDE Esp32" /></a></p>
<h2 id="camerawebserver">3.2 CameraWebServer</h2>
<p>Current <a
target="_blank" rel="noopener" href="https://github.com/espressif/arduino-esp32/tree/master/libraries/ESP32/examples">ESP32
Examples</a> provide an webcam server example: <a
target="_blank" rel="noopener" href="https://github.com/espressif/arduino-esp32/blob/master/libraries/ESP32/examples/Camera/CameraWebServer/CameraWebServer.ino">ESP32
Example CameraWebServer</a>. Or, we can simply open up the example from
within Arduino IDE:
<code>File-&gt;Examples-&gt;ESP32-&gt;Camera-&gt;CameraWebServer</code>.</p>
<h3 id="four-esp32-cameras">3.2.1 Four <a
target="_blank" rel="noopener" href="https://github.com/espressif/esp32-camera">ESP32 Camera</a>s</h3>
<ul>
<li>2 <a target="_blank" rel="noopener" href="https://docs.ai-thinker.com/en/esp32-cam">Ai Thinker
ESP32 Camera</a>s</li>
<li>2 <a
target="_blank" rel="noopener" href="https://www.diymore.cc/collections/esp32/products/esp32-cam-wifi-wireless-module-esp32-serial-to-wifi-esp32-cam-spi-flash-bluetooth-development-board-with-ov2640-camera-module">DIY
More ESP32 Camera</a>s</li>
</ul>
<p>Both are compatible with the configuration
<code>CAMERA_MODEL_AI_THINKER</code> in <a
target="_blank" rel="noopener" href="https://github.com/espressif/arduino-esp32/blob/master/libraries/ESP32/examples/Camera/CameraWebServer/CameraWebServer.ino">ESP32
Example CameraWebServer</a>. Therefore, three places are to be correctly
setup:</p>
<ul>
<li><code>#define CAMERA_MODEL_AI_THINKER // Has PSRAM</code></li>
<li><code>const char *ssid = "XXXXXXXXX";</code></li>
<li><code>const char *password = "YYYYYYYYY";</code></li>
</ul>
<h3 id="verify-and-upload">3.2.2 Verify and Upload</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/Arduino-IDE-ESP32-Verify.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/Arduino-IDE-ESP32-Verify.png"
alt="Verify" /></a></p>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/Arduino-IDE-ESP32-Upload.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/Arduino-IDE-ESP32-Upload.png"
alt="Upload" /></a></p>
<h3 id="demonstration">3.2.3 Demonstration</h3>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/CameraWebServer.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/CameraWebServer.png"
alt="CameraWebServer" /></a></p>
<p>However, as you can see, the captured image is not quite stable. And,
I did find the WiFi connection is easy to get disconnected.
<strong><span style="color:red">What to do???</span></strong></p>
<blockquote>
<p><strong><span style="color:red">[!NOTE:] What to
do???</span></strong> <strong><span style="color:red">Please continue
reading.</span></strong></p>
</blockquote>
<h2 id="rtsp-with-mjpeg">3.3 RTSP with MJPEG</h2>
<p>As of today, June 4, 2024, there is <strong>NO</strong> <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Advanced_Video_Coding">H.264</a> or
<a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/High_Efficiency_Video_Coding">H.265</a>
streaming server support. Therefore, I’m going to follow the following 2
blogs and build up <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Real-Time_Streaming_Protocol">RTSP</a>
server with <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Motion_JPEG">MJPEG</a> video
streams.</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://learn.circuit.rocks/esp32-cam-with-rtsp-video-streaming">ESP32-CAM
with RTSP video streaming</a></li>
<li><a
target="_blank" rel="noopener" href="https://randomnerdtutorials.com/esp32-cam-video-streaming-web-server-camera-home-assistant/">ESP32-CAM
Video Streaming Web Server (works with Home Assistant)</a></li>
</ul>
<h2 id="integrate-esphome-into-home-assistant">3.4 Integrate <a
target="_blank" rel="noopener" href="https://esphome.io/">ESPHome</a> Into <a
target="_blank" rel="noopener" href="https://www.home-assistant.io/">Home Assistant</a></h2>
<p><a
target="_blank" rel="noopener" href="https://esphome.io/guides/getting_started_hassio.html">Getting
Started with ESPHome and Home Assistant</a></p>
<h2 id="demonstration-1">3.5 Demonstration</h2>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">ESPHome</th>
<th style="text-align: center;">ESPHome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Build_Failed.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Build_Failed.png"
alt="ESPHome Build Failed" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/esphome_compile.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/esphome_compile.png"
alt="ESPHome Compile" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Device_Discovered.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Device_Discovered.png"
alt="ESPHome Device Discovered" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_DeviceInfo.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_DeviceInfo.png"
alt="ESPHome Device Info" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Devices.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Devices.png"
alt="ESPHome Devices" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/esphome_flash.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/esphome_flash.png"
alt="ESPHome Flash" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Installation.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Installation.png"
alt="ESPHome Installation" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Install_Connecting_Hang.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Install_Connecting_Hang.png"
alt="ESPHome Install Connecting Hang" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Installed_3232_ConnectionRefused.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Installed_3232_ConnectionRefused.png"
alt="ESPHome Installed 3232 Connection Refused" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Visit.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_Visit.png"
alt="ESPHome Visit" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/HomeAssistant_Overview.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/HomeAssistant_Overview.png"
alt="Home Assistant Overview" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/HomeAssistant_Media_Live.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/HomeAssistant_Media_Live.png"
alt="Home Assistant Media Live" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_4_ESP32Cam_Configured.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_4_ESP32Cam_Configured.png"
alt="ESPHome ESP32Cam Configured" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_4_ESP32Cam_Integrated.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/MCU/Arduino/ESPHome/ESPHome_4_ESP32Cam_Integrated.png"
alt="ESPHome ESP32Cam Integrated" /></a></td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/05/02/SBCs/RISC-V/LicheeRV-Nano/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/02/SBCs/RISC-V/LicheeRV-Nano/" class="post-title-link" itemprop="url">LicheeRV Nano</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-05-02 10:14:18" itemprop="dateCreated datePublished" datetime="2024-05-02T10:14:18-07:00">2024-05-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-29 23:37:57" itemprop="dateModified" datetime="2024-09-29T23:37:57-07:00">2024-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>I got a <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a> before I left China for Canada a couple of weeks ago. Nowadays
China is amazing. Let’s take a look at my hometown Wuhan of year
2024.</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Sunset @ Yangtze River 2nd Bridge</th>
<th style="text-align: center;">Sunset @ Yangtze River TianXingZhou
Bridge</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YangtzeRiver_2ndBridge_Sunset.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YangtzeRiver_2ndBridge_Sunset.jpg"
alt="Yangtze River 2nd Bridge Sunset" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YangtzeRiver_TianXingZhouBridge_Sunset.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YangtzeRiver_TianXingZhouBridge_Sunset.jpg"
alt="Yangtze River TianXingZhou Bridge Sunset" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YangtzeRiver_Grove_Sunset.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YangtzeRiver_Grove_Sunset.jpg"
alt="Yangtze River Grove Sunset" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YangtzeRiver_Embankment_Grassland_Constructions.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YangtzeRiver_Embankment_Grassland_Constructions.jpg"
alt="Yangtze River Embankment Grassland Constructions" /></a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YuChiYuZui_01.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YuChiYuZui_01.jpg"
alt="YuChiYuZui 01" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YuChiYuZui_02.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/sceneries/2024/China/Wuhan/YuChiYuZui_02.jpg"
alt="YuChiYuZui 02" /></a></td>
</tr>
</tbody>
</table>
<p>Now, let’s start our today’s topic: <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a>.</p>
<h1 id="introduction">1. Introduction</h1>
<h2 id="first-look">1.1 First Look</h2>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">LicheeRV Nano</th>
<th style="text-align: center;">LicheeRV Nano with N2425D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/LicheeRV_Nano/LicheeRV_Nano_01.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/LicheeRV_Nano/LicheeRV_Nano_01.jpg"
alt="LicheeRV Nano 01" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/LicheeRV_Nano/LicheeRV_Nano_02.jpg"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/LicheeRV_Nano/LicheeRV_Nano_02.jpg"
alt="LicheeRV Nano 01" /></a></td>
</tr>
</tbody>
</table>
<h2 id="official-documentation">1.2 Official Documentation</h2>
<p>Actually, <strong>ALL</strong> you need can be found at:</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://wiki.sipeed.com/hardware/en/lichee/RV_Nano/1_intro.html">LicheeRV
Nano Official Documentation</a></li>
</ul>
<h2 id="licheerv-nano-we">1.3 LicheeRV-Nano-WE</h2>
<p>According to the <a
target="_blank" rel="noopener" href="https://wiki.sipeed.com/hardware/en/lichee/RV_Nano/1_intro.html#Version-Comparison">LicheeRV
Nano Version Comparison</a>, there are 4 versions totally.</p>
<ul>
<li>LicheeRV-Nano-B</li>
<li>LicheeRV-Nano-E</li>
<li>LicheeRV-Nano-W</li>
<li>LicheeRV-Nano-WE</li>
</ul>
<p>Clearly, the one I purchased is a
<strong>LicheeRV-Nano-WE</strong>.</p>
<h1 id="lsusb">2. <code>lsusb</code></h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lsusb</span><br><span class="line">......</span><br><span class="line">Bus 009 Device 010: ID 3346:1009 sipeed licheervnano</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h1 id="wifi-setup">3. WiFi Setup</h1>
<p>After <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a> is connected to your host computer via USB Type-C, enter the
mounted <strong>rootfs</strong> and add the following new file:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  rootfs sudo vim ./etc/network/wpa_supplicant.conf</span><br><span class="line">network=&#123;</span><br><span class="line">        ssid=&quot;XXXXX&quot;</span><br><span class="line">        psk=&quot;YYYYY&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then, <strong>reboot</strong>. Now, you should be able to find out
your <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a> by <code>sudo nmap -sN 192.168.1.254/24</code>.</p>
<h1 id="licheerv-nano-overview">4. <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a> Overview</h1>
<h2 id="ssh-into-licheerv-nano">4.1 <code>ssh</code> Into <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a></h2>
<p>Both the default username and password of <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a> are <strong>root</strong>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ ssh root@192.168.1.78</span><br><span class="line">root@192.168.1.78&#x27;s password:</span><br><span class="line"></span><br><span class="line"># uname -a</span><br><span class="line">Linux licheervnano-8c93 5.10.4-tag- #1 PREEMPT Mon Apr 22 11:13:44 HKT 2024 riscv64 GNU/Linux</span><br><span class="line"></span><br><span class="line"># hostname</span><br><span class="line">licheervnano-8c93</span><br></pre></td></tr></table></figure>
<h2 id="cpu-and-memory">4.2 CPU and Memory</h2>
<p>Clearly, <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a> is armed with <strong>only 1 single Risc-V 64bit CPU</strong>,
and about <strong>160M</strong> flash memory.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># cat /proc/cpuinfo</span><br><span class="line">processor	: 0</span><br><span class="line">hart		: 0</span><br><span class="line">isa		: rv64imafdvcsu</span><br><span class="line">mmu		: sv39</span><br><span class="line"></span><br><span class="line"># cat /proc/meminfo</span><br><span class="line">MemTotal:         162672 kB</span><br><span class="line">MemFree:           98276 kB</span><br><span class="line">MemAvailable:     128976 kB</span><br><span class="line">Buffers:            3416 kB</span><br><span class="line">Cached:            28776 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:            11792 kB</span><br><span class="line">Inactive:          26892 kB</span><br><span class="line">Active(anon):        144 kB</span><br><span class="line">Inactive(anon):     6592 kB</span><br><span class="line">Active(file):      11648 kB</span><br><span class="line">Inactive(file):    20300 kB</span><br><span class="line">Unevictable:           0 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:             0 kB</span><br><span class="line">SwapFree:              0 kB</span><br><span class="line">Dirty:                 4 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:          6508 kB</span><br><span class="line">Mapped:            10092 kB</span><br><span class="line">Shmem:               248 kB</span><br><span class="line">KReclaimable:       5164 kB</span><br><span class="line">Slab:              13988 kB</span><br><span class="line">SReclaimable:       5164 kB</span><br><span class="line">SUnreclaim:         8824 kB</span><br><span class="line">KernelStack:        1248 kB</span><br><span class="line">PageTables:          524 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:       81336 kB</span><br><span class="line">Committed_AS:       9868 kB</span><br><span class="line">VmallocTotal:   67108863 kB</span><br><span class="line">VmallocUsed:        5468 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">Percpu:               64 kB</span><br><span class="line">CmaTotal:              0 kB</span><br><span class="line">CmaFree:               0 kB</span><br></pre></td></tr></table></figure>
<h2 id="python">4.3 Python</h2>
<p>By default, <strong>Python 3.11.6</strong> has been installed on <a
target="_blank" rel="noopener" href="https://www.alibaba.com/product-detail/Lichee-Nano-Development-Board-Multi-System_1600176273210.html">LicheeRV
Nano</a>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># python --version</span><br><span class="line">Python 3.11.6</span><br></pre></td></tr></table></figure>
<h1 id="licheerv-nano-build">5. <a
target="_blank" rel="noopener" href="https://github.com/sipeed/LicheeRV-Nano-Build">LicheeRV-Nano-Build</a></h1>
<p>The default <a
target="_blank" rel="noopener" href="https://github.com/sipeed/LicheeRV-Nano-Build/blob/main/README.md">LicheeRV-Nano-Build
README.md</a> seems to be problematic. I did it in my way:</p>
<h2 id="clone-licheerv-nano-build">5.1 Clone <a
target="_blank" rel="noopener" href="https://github.com/sipeed/LicheeRV-Nano-Build">LicheeRV-Nano-Build</a></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  git clone https://github.com/sipeed/LicheeRV-Nano-Build --depth=1</span><br><span class="line">➜  cd LicheeRV-Nano-Build</span><br><span class="line">➜  LicheeRV-Nano-Build git:(main)</span><br></pre></td></tr></table></figure>
<h2 id="setup">5.2 Setup</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">➜  LicheeRV-Nano-Build git:(main) ✗ source build/cvisetup.sh</span><br><span class="line">/proc/self/fd/19:7: cv1800b_board_sel: assignment to invalid subscript range</span><br><span class="line">  -------------------------------------------------------------------------------------------------------</span><br><span class="line">    Usage:</span><br><span class="line">    (1) menuconfig - Use menu to configure your board.</span><br><span class="line">        ex: $ menuconfig</span><br><span class="line"></span><br><span class="line">    (2) defconfig $CHIP_ARCH - List EVB boards($BOARD) by CHIP_ARCH.</span><br><span class="line">       ** sg200x ** -&gt; [&#x27;sg2000&#x27;, &#x27;sg2002&#x27;]</span><br><span class="line">       ** cv181x ** -&gt; [&#x27;cv1812cp&#x27;, &#x27;cv1812h&#x27;, &#x27;cv1813h&#x27;]</span><br><span class="line">       ** cv180x ** -&gt; [&#x27;cv1800b&#x27;]</span><br><span class="line">        ex: $ defconfig cv181x</span><br><span class="line"></span><br><span class="line">    (3) defconfig $BOARD - Choose EVB board settings.</span><br><span class="line">        ex: $ defconfig cv1813h_wevb_0007a_spinor</span><br><span class="line">        ex: $ defconfig cv1812cp_wevb_0006a_spinor</span><br><span class="line">  -------------------------------------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>
<h2 id="gui-based-menuconfig">5.3 GUI-based <code>menuconfig</code></h2>
<p>I personally prefer the GUI-based configuration.</p>
<h3 id="copy-menuconfig.py">5.3.1 Copy <code>menuconfig.py</code></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  LicheeRV-Nano-Build git:(main) ✗ cd build/scripts </span><br><span class="line">➜  scripts git:(main) ✗ cp menuconfig.py .py</span><br><span class="line">➜  scripts git:(main) ✗ </span><br></pre></td></tr></table></figure>
<h3
id="modify-.buildboardssg200xsg2002_licheervnano_sdsg2002_licheervnano_sd_defconfig">5.3.2
Modify
<code>./build/boards/sg200x/sg2002_licheervnano_sd/sg2002_licheervnano_sd_defconfig</code></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">diff --git a/build/boards/sg200x/sg2002_licheervnano_sd/sg2002_licheervnano_sd_defconfig b/build/boards/sg200x/sg2002_licheervnano_sd/sg2002_licheervnano_sd_defconfig</span><br><span class="line">index 4138f665b..58a5ea02d 100644</span><br><span class="line">--- a/build/boards/sg200x/sg2002_licheervnano_sd/sg2002_licheervnano_sd_defconfig</span><br><span class="line">+++ b/build/boards/sg200x/sg2002_licheervnano_sd/sg2002_licheervnano_sd_defconfig</span><br><span class="line">@@ -2,12 +2,12 @@ CONFIG_CHIP_sg2002=y</span><br><span class="line"> CONFIG_BOARD_licheervnano_sd=y</span><br><span class="line"> CONFIG_DDR_CFG_ddr3_1866_x16=y</span><br><span class="line"> CONFIG_ARCH=&quot;riscv&quot;</span><br><span class="line">-CONFIG_CROSS_COMPILE=&quot;riscv64-unknown-linux-musl-&quot;</span><br><span class="line">+CONFIG_CROSS_COMPILE=&quot;riscv64-linux-gnu-&quot;</span><br><span class="line"> CONFIG_CC_OPTIMIZE_FOR_SIZE=y</span><br><span class="line"> CONFIG_KERNEL_ENTRY_HACK=y</span><br><span class="line"> CONFIG_KERNEL_ENTRY_HACK_ADDR=&quot;0x80200000&quot;</span><br><span class="line"> CONFIG_TOOLCHAIN_MUSL_RISCV64=y</span><br><span class="line">-CONFIG_FLASH_SIZE_SHRINK=y</span><br><span class="line">+# CONFIG_FLASH_SIZE_SHRINK=y</span><br><span class="line"> CONFIG_BOOT_IMAGE_SINGLE_DTB=y</span><br><span class="line"> # CONFIG_FLASH_SIZE_SHRINK is not set</span><br><span class="line"> CONFIG_CP_EXT_WIRELESS=y</span><br><span class="line">@@ -16,7 +16,7 @@ CONFIG_MIPI_PANEL_ZCT2133V1=y</span><br><span class="line"> CONFIG_SENSOR_GCORE_GC4653=y</span><br><span class="line"> CONFIG_SENSOR_OV_OS04A10=y</span><br><span class="line"> CONFIG_UBOOT_2021_10=y</span><br><span class="line">-CONFIG_KERNEL_SRC_5.10=y</span><br><span class="line">+CONFIG_KERNEL_SRC=&quot;linux_5.10&quot;</span><br><span class="line"> CONFIG_KERNEL_UNCOMPRESSED=y</span><br><span class="line"> # CONFIG_SKIP_RAMDISK is not set</span><br><span class="line"> CONFIG_SENSOR_TUNING_PARAM_cv181x_src_gcore_gc4653=y</span><br></pre></td></tr></table></figure>
<p><strong><span style="color:red">By the way, even until now, I’ve got
NO idea what the MIPI_PANEL should be?</span></strong></p>
<h3 id="run-menuconfig">5.3.3 Run <code>menuconfig</code></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  LicheeRV-Nano-Build git:(main) ✗ menuconfig</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/LicheeRV_Nano/LicheeRV-Nano-Build_menuconfig.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/LicheeRV_Nano/LicheeRV-Nano-Build_menuconfig.png"
alt="LicheeRV Nano Build menuconfig" /></a></p>
<h2 id="build">5.4 Build</h2>
<h3 id="exports">5.4.1 Exports</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  LicheeRV-Nano-Build git:(main) ✗ export IMGTOOL_PATH=tools/common/image_tool                      </span><br><span class="line">➜  LicheeRV-Nano-Build git:(main) ✗ export COMMON_TOOLS_PATH=tools/common                                 </span><br><span class="line">➜  LicheeRV-Nano-Build git:(main) ✗ export FLASH_PARTITION_XML=boards/default/partition/partition_none.xml</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/02/09/SBCs/RISC-V/MilkV-Duo-256M-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/09/SBCs/RISC-V/MilkV-Duo-256M-02/" class="post-title-link" itemprop="url">Milk-V Duo 256M - 02</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-02-09 13:51:15" itemprop="dateCreated datePublished" datetime="2024-02-09T13:51:15-08:00">2024-02-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/MCU/" itemprop="url" rel="index"><span itemprop="name">MCU</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/MCU/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Happy Chinese Dragon Year !!! Today, let's continue this SBC: <a
target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a>.</p>
<h1 id="some-suggestions">1. Some Suggestions</h1>
<ul>
<li><strong>Auto resizing</strong> in order to use the full TF card). So
far, I'll have to do it manually. Anyway, now I can use my full TF card
as: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@milkv-duo]~<span class="comment"># df -h</span></span><br><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">/dev/root                28.5G    146.0M     27.2G   1% /</span><br><span class="line">devtmpfs                 83.1M         0     83.1M   0% /dev</span><br><span class="line">tmpfs                    83.1M         0     83.1M   0% /dev/shm</span><br><span class="line">tmpfs                    83.1M     48.0K     83.1M   0% /tmp</span><br><span class="line">tmpfs                    83.1M     32.0K     83.1M   0% /run</span><br></pre></td></tr></table></figure> Without resizing, as in my previous blog <a
href="../../../../../../2024/02/09/SBCs/RISC-V/MilkV-Duo-256M-01/">Milk-V
Duo 256M - 01</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@milkv-duo]~<span class="comment"># df -h</span></span><br><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">/dev/root               752.0M    152.6M    557.0M  22% /</span><br><span class="line">devtmpfs                 83.1M         0     83.1M   0% /dev</span><br><span class="line">tmpfs                    83.1M         0     83.1M   0% /dev/shm</span><br><span class="line">tmpfs                    83.1M     48.0K     83.1M   0% /tmp</span><br><span class="line">tmpfs                    83.1M     32.0K     83.1M   0% /run</span><br></pre></td></tr></table></figure></li>
<li><strong>Fix eth0's MAC address</strong>. For the wired connection on
this particular small SBC <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo
256M</a>, I'd strongly recommend to use the physical MAC address for
<strong>eth0</strong>, rather than a dynamic one. Whenever rebooting, <a
target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a> will change its MAC
address, as well as the IP address, which is seriously
<strong>NOT</strong> what I expected. Therefore, what we need to do is
to modify file <code>/etc/network/interfaces</code> as suggested by
StackExchange issue <a
target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/366533/change-mac-address-permanently-inside-etc-network-interfaces">Change
Mac Address permanently inside /etc/network/interfaces</a>:
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">auto eth0</span><br><span class="line">iface eth0 inet static</span><br><span class="line">    address 192.168.1.51</span><br><span class="line">    netmask 255.255.255.0</span><br><span class="line">    gateway 192.168.1.1</span><br><span class="line">    hwaddress ether 00:11:22:33:44:55</span><br></pre></td></tr></table></figure></li>
<li></li>
</ul>
<h1 id="yolo5-example-based-on-tpu">2. Yolo5 Example Based on TPU</h1>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/02/08/SBCs/RISC-V/MilkV-Duo-256M-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/08/SBCs/RISC-V/MilkV-Duo-256M-01/" class="post-title-link" itemprop="url">Milk-V Duo 256M - 01</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-02-08 21:44:28" itemprop="dateCreated datePublished" datetime="2024-02-08T21:44:28-08:00">2024-02-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-29 21:51:38" itemprop="dateModified" datetime="2024-09-29T21:51:38-07:00">2024-09-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/MCU/" itemprop="url" rel="index"><span itemprop="name">MCU</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/MCU/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Finally, I got <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>
built today. So, yes, happy Chinese new year of Dragon, 2024. Let's have
some fun of <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a>.</p>
<h1 id="introduction">1. Introduction</h1>
<p>From <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a>'s official
website, the following picture clearly shows it has</p>
<ul>
<li>one RISC-V <a target="_blank" rel="noopener" href="https://www.t-head.cn/product/C906">T-HEAD
C906</a> chip <span class="citation" data-cites="1GHz">@1GHz</span>, for
Linux</li>
<li>one RISC-V <a target="_blank" rel="noopener" href="https://www.t-head.cn/product/C906">T-HEAD
C906</a> chip <span class="citation" data-cites="700MHz">@700MHz</span>,
for FreeRTOS</li>
<li>one <a target="_blank" rel="noopener" href="https://developer.arm.com/Processors/Cortex-A53">Arm
Cortex-A53</a> chip <span class="citation"
data-cites="1GHz">@1GHz</span>, for both Linux &amp; Android</li>
<li>one <a
target="_blank" rel="noopener" href="https://www.microchip.com/en-us/products/microcontrollers-and-microprocessors/8-bit-mcus/8051-mcus">8051
MCU</a></li>
<li>one <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Tensor_Processing_Unit">TPU</a></li>
</ul>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/MilkV/MilkV-Duo-256M.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/MilkV/MilkV-Duo-256M.png"
alt="MilkV Duo 256M Core chips" /></a></p>
<p>The detailed specifications are also highlighted in the table on the
official website of <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo
256M</a>.</p>
<h1 id="build-duo-buildroot-sdk">2. Build <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a></h1>
<h2 id="failed-to-build-duo-buildroot-sdk-using-ubuntu-22.04">2.1 Failed
to build <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>
using <a target="_blank" rel="noopener" href="https://releases.ubuntu.com/jammy/">Ubuntu 22.04</a></h2>
<p>Even if I strictly followed the manual on <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>'s
official documentation <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk?tab=readme-ov-file#1-compiled-using-ubuntu-2204">Compiled
using Ubuntu 22.04</a>, I still failed to build an image out for
flashing, with the following error messages inside the log file
<strong>build/br.log</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">2024-02-08T13:34:11 tic: symbol lookup error: tic: undefined symbol: _nc_disable_period</span><br><span class="line">2024-02-08T13:34:11 ? tic could not build ....../duo-buildroot-sdk-Duo-V1.0.8/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/per-package/ncurses/host/riscv64-buildroot-linux-musl/sysroot/usr/share/terminfo</span><br><span class="line">2024-02-08T13:34:11 make[4]: *** [Makefile:92: install.data] Error 1</span><br><span class="line">2024-02-08T13:34:12 make[3]: *** [Makefile:122: install] Error 2</span><br><span class="line">2024-02-08T13:34:12 make[2]: *** [package/pkg-generic.mk:289: ....../duo-buildroot-sdk-Duo-V1.0.8/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/build/ncurses-6.1/.stamp_staging_installed] Error 2</span><br><span class="line">2024-02-08T13:34:12 make[2]: *** Waiting <span class="keyword">for</span> unfinished <span class="built_in">jobs</span>....</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p><span style="color:blue">A possible solution is found at: </span><a
target="_blank" rel="noopener" href="https://lore.kernel.org/buildroot/bug-15685-163-ecW1EgIyRW@https.bugs.busybox.net%2F/T/">https://lore.kernel.org/buildroot/bug-15685-163-ecW1EgIyRW@https.bugs.busybox.net%2F/T/</a>.</p>
<h2 id="successfully-build-duo-buildroot-sdk-using-docker">2.2
Successfully build <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>
using Docker</h2>
<p>By strictly following the manual on <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk">duo-buildroot-sdk</a>'s
official documentation <a
target="_blank" rel="noopener" href="https://github.com/milkv-duo/duo-buildroot-sdk?tab=readme-ov-file#2-compiled-using-docker">Compiled
using Docker</a>, I now am able to build an image out as:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">mkfs.fat: Warning: lowercase labels might not work properly on some systems</span><br><span class="line">INFO: vfat(boot.vfat): adding file <span class="string">&#x27;fip.bin&#x27;</span> as <span class="string">&#x27;fip.bin&#x27;</span> ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: <span class="string">&quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/boot.vfat&#x27; &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/fip.bin&#x27; &#x27;::&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file <span class="string">&#x27;rawimages/boot.sd&#x27;</span> as <span class="string">&#x27;rawimages/boot.sd&#x27;</span> ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: <span class="string">&quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/boot.vfat&#x27; &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rawimages/boot.sd&#x27; &#x27;::&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: ext4(rootfs.ext4): cmd: <span class="string">&quot;genext2fs -d &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/tmp/root&#x27; --size-in-blocks=786432 -i 16384 &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rootfs.ext4&#x27; &quot;</span> (stderr):</span><br><span class="line">copying from directory ~/install/soc_cv1812cp_milkv_duo256m_sd/tmp/root</span><br><span class="line">INFO: ext4(rootfs.ext4): cmd: <span class="string">&quot;tune2fs -O &#x27;extents,uninit_bg,dir_index,has_journal&#x27; &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rootfs.ext4&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: ext4(rootfs.ext4): cmd: <span class="string">&quot;tune2fs -L &#x27;rootfs&#x27; &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rootfs.ext4&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: ext4(rootfs.ext4): cmd: <span class="string">&quot;e2fsck -pvfD &#x27;~/install/soc_cv1812cp_milkv_duo256m_sd/rootfs.ext4&#x27;&quot;</span> (stderr):</span><br><span class="line">INFO: hdimage(milkv-duo256m.img): adding partition <span class="string">&#x27;boot&#x27;</span> (<span class="keyword">in</span> MBR) from <span class="string">&#x27;boot.vfat&#x27;</span> ...</span><br><span class="line">INFO: hdimage(milkv-duo256m.img): adding partition <span class="string">&#x27;rootfs&#x27;</span> (<span class="keyword">in</span> MBR) from <span class="string">&#x27;rootfs.ext4&#x27;</span> ...</span><br><span class="line">INFO: hdimage(milkv-duo256m.img): writing MBR</span><br><span class="line">gnimage <span class="keyword">for</span> milkv-duo256m success!</span><br><span class="line">~/build</span><br><span class="line">~</span><br><span class="line">Create SD image successful: out/milkv-duo256m-20240208-1949.img</span><br></pre></td></tr></table></figure>
<p>And, the last couple of lines in the log file
<strong>build/br.log</strong> are:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">2024-02-08T19:48:15 </span><br><span class="line">2024-02-08T19:48:15 Allocating group tables:  0/25     <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:15 Writing inode tables:  0/25     <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:15 Creating journal (4096 blocks): <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:15 Copying files into the device: PATH=<span class="string">&quot;~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/host/bin:~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/host/sbin:~/host-tools/gcc/riscv64-linux-musl-x86_64/bin:~/host-tools/gcc/riscv64-linux-x86_64/bin:~/host-tools/gcc/riscv64-elf-x86_64/bin:~/host-tools/gcc/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-elf/bin:~/host-tools/gcc/gcc-linaro-6.3.1-2017.05-x86_64_arm-linux-gnueabihf/bin:~/host-tools/gcc/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:~/host-tools/gcc/arm-cvitek-linux-uclibcgnueabihf/bin&quot;</span> xz -9 -C crc32 -c -T 9 ~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/images/rootfs.tar &gt; ~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/images/rootfs.tar.xz</span><br><span class="line">2024-02-08T19:48:16 <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:16 Writing superblocks and filesystem accounting information:  0/25     <span class="keyword">done</span></span><br><span class="line">2024-02-08T19:48:16 </span><br><span class="line">2024-02-08T19:48:16 <span class="built_in">ln</span> -sf rootfs.ext2 ~/buildroot-2021.05/output/milkv-duo256m_musl_riscv64/images/rootfs.ext4</span><br><span class="line">2024-02-08T19:49:28 make[1]: Leaving directory <span class="string">&#x27;~/buildroot-2021.05&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="boot-after-flashing">3. Boot after Flashing</h1>
<p>After flashing the generated
<strong>out/milkv-duo256m-20240208-1949.img</strong> into the SD card,
we can now boot up <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a> by
connecting it with my laptop <strong>via a USB cable</strong>.</p>
<h2 id="lsusb">3.1 lsusb</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">Bus 001 Device 009: ID 3346:1009 Cvitek RNDIS</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h2 id="ssh-into-milk-v-duo-256m-via-usb-connection">3.2 SSH into <a
target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a> via USB Connection</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ ssh root@192.168.42.1</span><br><span class="line">The authenticity of host <span class="string">&#x27;192.168.42.1 (192.168.42.1)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ED25519 key fingerprint is SHA256:NyuhOwhRh9sfzW+C2D5OIaTIbGCuVI1v1jrJv4DaM+U.</span></span><br><span class="line"><span class="string">This key is not known by any other names</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>192.168.42.1<span class="string">&#x27; (ED25519) to the list of known hosts.</span></span><br><span class="line"><span class="string">root@192.168.42.1&#x27;</span>s password: </span><br><span class="line">[root@milkv-duo]~<span class="comment"># ls</span></span><br><span class="line">[root@milkv-duo]~<span class="comment"># pwd</span></span><br><span class="line">/root</span><br><span class="line">[root@milkv-duo]~<span class="comment"># uname -a</span></span><br><span class="line">Linux milkv-duo 5.10.4-tag- <span class="comment">#1 PREEMPT Thu Feb 8 19:28:21 CST 2024 riscv64 GNU/Linux</span></span><br><span class="line">[root@milkv-duo]~<span class="comment"># lsb_release -a</span></span><br><span class="line">-sh: lsb_release: not found</span><br><span class="line">[root@milkv-duo]~<span class="comment"># neofetch</span></span><br><span class="line">-sh: neofetch: not found</span><br><span class="line">[root@milkv-duo]~<span class="comment"># ll /</span></span><br><span class="line">total 33</span><br><span class="line">drwxr-xr-x   18 root     root          1024 Feb  8  2024 ./</span><br><span class="line">drwxr-xr-x   18 root     root          1024 Feb  8  2024 ../</span><br><span class="line">drwxr-xr-x    2 root     root          3072 Feb  8  2024 bin/</span><br><span class="line">drwxr-xr-x    7 root     root          1540 Jan  1 00:00 dev/</span><br><span class="line">drwxr-xr-x    8 root     root          1024 Jan  1 00:00 etc/</span><br><span class="line">drwxr-xr-x    3 root     root          1024 Jan 30  2024 lib/</span><br><span class="line">lrwxrwxrwx    1 root     root             3 Feb  8  2024 lib64 -&gt; lib/</span><br><span class="line">lrwxrwxrwx    1 root     root            11 Feb  8  2024 linuxrc -&gt; bin/busybox*</span><br><span class="line">drwx------    2 root     root         16384 Feb  8  2024 lost+found/</span><br><span class="line">drwxr-xr-x    2 root     root          1024 Jan 30  2024 media/</span><br><span class="line">drwxr-xr-x    6 root     root          1024 Jan 30  2024 mnt/</span><br><span class="line">drwxr-xr-x    2 root     root          1024 Jan 30  2024 opt/</span><br><span class="line">dr-xr-xr-x  122 root     root             0 Jan  1 00:00 proc/</span><br><span class="line">drwx------    2 root     root          1024 Jan  1 00:03 root/</span><br><span class="line">drwxr-xr-x    4 root     root           200 Jan  1 00:00 run/</span><br><span class="line">drwxr-xr-x    2 root     root          3072 Feb  8  2024 sbin/</span><br><span class="line">dr-xr-xr-x   11 root     root             0 Jan  1 00:00 sys/</span><br><span class="line">drwxrwxrwt    3 root     root           160 Jan  1 00:00 tmp/</span><br><span class="line">drwxr-xr-x    8 root     root          1024 Feb  8  2024 usr/</span><br><span class="line">drwxr-xr-x    5 root     root          1024 Feb  8  2024 var/</span><br><span class="line">[root@milkv-duo]~<span class="comment"># df -h</span></span><br><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">/dev/root               752.0M    152.6M    557.0M  22% /</span><br><span class="line">devtmpfs                 83.1M         0     83.1M   0% /dev</span><br><span class="line">tmpfs                    83.1M         0     83.1M   0% /dev/shm</span><br><span class="line">tmpfs                    83.1M     48.0K     83.1M   0% /tmp</span><br><span class="line">tmpfs                    83.1M     32.0K     83.1M   0% /run</span><br><span class="line">[root@milkv-duo]~<span class="comment"># cat /proc/cpuinfo</span></span><br><span class="line">processor	: 0</span><br><span class="line">hart		: 0</span><br><span class="line">isa		: rv64imafdvcsu</span><br><span class="line">mmu		: sv39</span><br><span class="line"></span><br><span class="line">[root@milkv-duo]~<span class="comment"># cat /proc/meminfo</span></span><br><span class="line">MemTotal:         170288 kB</span><br><span class="line">MemFree:          147812 kB</span><br><span class="line">MemAvailable:     148580 kB</span><br><span class="line">Buffers:             872 kB</span><br><span class="line">Cached:             3024 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:             2520 kB</span><br><span class="line">Inactive:           2808 kB</span><br><span class="line">Active(anon):         72 kB</span><br><span class="line">Inactive(anon):     1440 kB</span><br><span class="line">Active(file):       2448 kB</span><br><span class="line">Inactive(file):     1368 kB</span><br><span class="line">Unevictable:           0 kB</span><br><span class="line">Mlocked:               0 kB</span><br><span class="line">SwapTotal:             0 kB</span><br><span class="line">SwapFree:              0 kB</span><br><span class="line">Dirty:                44 kB</span><br><span class="line">Writeback:             0 kB</span><br><span class="line">AnonPages:          1444 kB</span><br><span class="line">Mapped:             2532 kB</span><br><span class="line">Shmem:                80 kB</span><br><span class="line">KReclaimable:       2664 kB</span><br><span class="line">Slab:               7220 kB</span><br><span class="line">SReclaimable:       2664 kB</span><br><span class="line">SUnreclaim:         4556 kB</span><br><span class="line">KernelStack:        1024 kB</span><br><span class="line">PageTables:          404 kB</span><br><span class="line">NFS_Unstable:          0 kB</span><br><span class="line">Bounce:                0 kB</span><br><span class="line">WritebackTmp:          0 kB</span><br><span class="line">CommitLimit:       85144 kB</span><br><span class="line">Committed_AS:       5004 kB</span><br><span class="line">VmallocTotal:   67108863 kB</span><br><span class="line">VmallocUsed:        4408 kB</span><br><span class="line">VmallocChunk:          0 kB</span><br><span class="line">Percpu:               32 kB</span><br><span class="line">CmaTotal:              0 kB</span><br><span class="line">CmaFree:               0 kB</span><br><span class="line">[root@milkv-duo]~<span class="comment"># </span></span><br></pre></td></tr></table></figure>
<h2 id="ssh-into-milk-v-duo-256m-via-wired-connection">3.3 SSH into <a
target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo 256M</a> via Wired
Connection</h2>
<p>After my clumsy soldering, <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo
256M</a> is now able to be connected via my home Intranet. Now, let's
<strong>ssh</strong> into <a target="_blank" rel="noopener" href="https://milkv.io/duo">Milk-V Duo
256M</a> via its <strong>IP</strong> address.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@milkv-duo]~<span class="comment"># ip address</span></span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 0a:95:ef:1e:ec:c2 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.1.51/24 brd 192.168.1.255 scope global dynamic noprefixroute eth0</span><br><span class="line">       valid_lft 259082sec preferred_lft 226682sec</span><br><span class="line">3: usb0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc pfifo_fast state DOWN qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 5e:59:d4:f7:99:f7 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.42.1/24 brd 192.168.42.255 scope global usb0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>
<h1 id="camera-test---face-detection">4. Camera Test - Face
Detection</h1>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">[root@milkv-duo]~<span class="comment"># cd /bin</span></span><br><span class="line">[root@milkv-duo]/bin<span class="comment"># ls</span></span><br><span class="line"><span class="built_in">arch</span>           chattr         cpio           dumpkmap       getopt         <span class="built_in">link</span>           lsattr         mount          nuke           <span class="built_in">pwd</span>            setarch        su             <span class="built_in">uname</span></span><br><span class="line">ash            <span class="built_in">chgrp</span>          <span class="built_in">date</span>           <span class="built_in">echo</span>           grep           linux32        mk_cmds        mountpoint     pidof          resume         setpriv        <span class="built_in">sync</span>           usleep</span><br><span class="line"><span class="built_in">base32</span>         <span class="built_in">chmod</span>          <span class="built_in">dd</span>             egrep          gunzip         linux64        <span class="built_in">mkdir</span>          mt             ping           <span class="built_in">rm</span>             setserial      tar            vi</span><br><span class="line"><span class="built_in">base64</span>         <span class="built_in">chown</span>          <span class="built_in">df</span>             <span class="literal">false</span>          gzip           <span class="built_in">ln</span>             <span class="built_in">mknod</span>          <span class="built_in">mv</span>             pipe_progress  <span class="built_in">rmdir</span>          sh             <span class="built_in">touch</span>          watch</span><br><span class="line">busybox        compile_et     dmesg          fdflush        hostname       login          <span class="built_in">mktemp</span>         netstat        <span class="built_in">printenv</span>       run-parts      <span class="built_in">sleep</span>          <span class="literal">true</span>           zcat</span><br><span class="line"><span class="built_in">cat</span>            <span class="built_in">cp</span>             dnsdomainname  fgrep          <span class="built_in">kill</span>           <span class="built_in">ls</span>             more           <span class="built_in">nice</span>           ps             sed            <span class="built_in">stty</span>           umount</span><br><span class="line">[root@milkv-duo]/bin<span class="comment"># camera-test.sh </span></span><br><span class="line">[SAMPLE_COMM_SNS_ParseIni]-1950: Parse /mnt/data/sensor_cfg.ini</span><br><span class="line">[parse_source_devnum]-1605: devNum =  1</span><br><span class="line">[parse_sensor_name]-1686: sensor =  GCORE_GC2083_MIPI_2M_30FPS_10BIT</span><br><span class="line">[parse_sensor_busid]-1714: bus_id =  2</span><br><span class="line">[parse_sensor_i2caddr]-1725: sns_i2c_addr =  37</span><br><span class="line">[parse_sensor_mipidev]-1736: mipi_dev =  0</span><br><span class="line">[parse_sensor_laneid]-1747: Lane_id =  1, 0, 2, -1, -1</span><br><span class="line">[parse_sensor_pnswap]-1758: pn_swap =  0, 0, 0, 0, 0</span><br><span class="line">MMF Version:7e0cc6a08-musl_riscv64</span><br><span class="line">Create VBPool[0], size: (3110400 * 3) = 9331200 bytes</span><br><span class="line">Create VBPool[1], size: (3110400 * 3) = 9331200 bytes</span><br><span class="line">Create VBPool[2], size: (2764800 * 1) = 2764800 bytes</span><br><span class="line">Total memory of VB pool: 21427200 bytes</span><br><span class="line">Initialize SYS and VB</span><br><span class="line">Initialize VI</span><br><span class="line">ISP Vipipe(0) Allocate pa(0x8c771000) va(0x0x3fbed36000) size(291120)</span><br><span class="line">stSnsrMode.u16Width 1920 stSnsrMode.u16Height 1080 25.000000 wdrMode 0 pstSnsObj 0x3fbf86b400</span><br><span class="line">[SAMPLE_COMM_VI_StartMIPI]-483: sensor 0 stDevAttr.devno 0</span><br><span class="line">awbInit ver 6.8@2021500</span><br><span class="line">0 R:1400 B:3100 CT:2850</span><br><span class="line">1 R:1500 B:2500 CT:3900</span><br><span class="line">2 R:2300 B:1600 CT:6500</span><br><span class="line">Golden 1024 1024 1024</span><br><span class="line">WB Quadratic:0</span><br><span class="line">isWdr:0</span><br><span class="line">ViPipe:0,===GC2083 1080P 30fps 10bit LINE Init OK!===</span><br><span class="line">********************************************************************************</span><br><span class="line">cvi_bin_isp message</span><br><span class="line">gerritId:      36403          commitId:      c69c5863e      </span><br><span class="line">md5:           cab880835a2ad5184de5ed7762404b84</span><br><span class="line">sensorNum      1              </span><br><span class="line">sensorName0    2083           </span><br><span class="line"></span><br><span class="line">PQBIN message</span><br><span class="line">gerritId:      80171          commitId:      5c9d8fc5d      </span><br><span class="line">md5:           ba5a510e093ad42db6788e6c2d13169e</span><br><span class="line">sensorNum      3              </span><br><span class="line">sensorName0    2053           </span><br><span class="line"></span><br><span class="line">author:        wanqiang.he    desc:          思博慧CV1812H_GC2083_RGB_mode_V1.0.0</span><br><span class="line">createTime:    2023-08-04 16:48:08version:       V1.1           </span><br><span class="line">tool Version:       v3.0.5.24           mode:      </span><br><span class="line">********************************************************************************</span><br><span class="line">sensorName(0) mismatch, mwSns:2083 != pqBinSns:2053</span><br><span class="line">[SAMPLE_COMM_ISP_Thread]-95: ISP Dev 0 running!</span><br><span class="line">Initialize VPSS</span><br><span class="line">---------VPSS[0]---------</span><br><span class="line">Input size: (1920x1080)</span><br><span class="line">Input format: (19)</span><br><span class="line">VPSS physical device number: 1</span><br><span class="line">Src Frame Rate: -1</span><br><span class="line">Dst Frame Rate: -1</span><br><span class="line">    --------CHN[0]-------</span><br><span class="line">    Output size: (1920x1080)</span><br><span class="line">    Depth: 1</span><br><span class="line">    Do normalization: 0</span><br><span class="line">        Src Frame Rate: -1</span><br><span class="line">        Dst Frame Rate: -1</span><br><span class="line">    ----------------------</span><br><span class="line">    --------CHN[1]-------</span><br><span class="line">    Output size: (1920x1080)</span><br><span class="line">    Depth: 1</span><br><span class="line">    Do normalization: 0</span><br><span class="line">        Src Frame Rate: -1</span><br><span class="line">        Dst Frame Rate: -1</span><br><span class="line">    ----------------------</span><br><span class="line">------------------------</span><br><span class="line">Bind VI with VPSS Grp(0), Chn(0)</span><br><span class="line">Attach VBPool(0) to VPSS Grp(0) Chn(0)</span><br><span class="line">Attach VBPool(1) to VPSS Grp(0) Chn(1)</span><br><span class="line">Initialize VENC</span><br><span class="line">venc codec: h264</span><br><span class="line">venc frame size: 1920x1080</span><br><span class="line">Initialize RTSP</span><br><span class="line">rtsp://192.168.1.51/h264</span><br><span class="line">prio:0</span><br><span class="line">version: 1.4.0</span><br><span class="line">scrfd768432 Build at 2023-12-25 01:21:44 For platform cv181x</span><br><span class="line">Max SharedMem size:1658880</span><br><span class="line">anchor:-8,-8,8,8</span><br><span class="line">anchor:-16,-16,16,16</span><br><span class="line">bbox:bbox_8_Conv_dequant</span><br><span class="line">landmark:kps_8_Conv_dequant</span><br><span class="line">score:score_8_Sigmoid_dequant</span><br><span class="line">anchor:-32,-32,32,32</span><br><span class="line">anchor:-64,-64,64,64</span><br><span class="line">bbox:bbox_16_Conv_dequant</span><br><span class="line">landmark:kps_16_Conv_dequant</span><br><span class="line">score:score_16_Sigmoid_dequant</span><br><span class="line">anchor:-128,-128,128,128</span><br><span class="line">anchor:-256,-256,256,256</span><br><span class="line">bbox:bbox_32_Conv_dequant</span><br><span class="line">landmark:kps_32_Conv_dequant</span><br><span class="line">score:score_32_Sigmoid_dequant</span><br><span class="line">Enter TDL thread</span><br><span class="line">Enter encoder thread</span><br><span class="line">0 R:1165 B:3087 CT:2688</span><br><span class="line">1 R:1464 B:2327 CT:3937</span><br><span class="line">2 R:1974 B:1613 CT:7225</span><br><span class="line">Golden 1464 1024 2327</span><br><span class="line">wdrLEOnly:1</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">face count: 0</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p>One captured image over <code>rtsp://ipaddress/h264</code> is shown
as follows:</p>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/MilkV/MilkV-Duo-256M-Captured.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/RISC-V/MilkV/MilkV-Duo-256M-Captured.png"
alt="MilkV Duo Streaming" /></a></p>
<p>Now, it's the time to go to bed. Happy Chinese new year's Eve. The
new year's day of 2024 is February 10, 2024.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/02/03/SBCs/MCU/esp32-s3-eye/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/02/03/SBCs/MCU/esp32-s3-eye/" class="post-title-link" itemprop="url">ESP32 S3 EYE</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-02-03 16:29:13" itemprop="dateCreated datePublished" datetime="2024-02-03T16:29:13-08:00">2024-02-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/MCU/" itemprop="url" rel="index"><span itemprop="name">MCU</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Finally, in China, I setup my old laptop.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ neofetch</span><br><span class="line">            .-/+oossssoo+/-.               lvision@lvision-GT72-6QE </span><br><span class="line">        `:+ssssssssssssssssss+:`           ------------------------ </span><br><span class="line">      -+ssssssssssssssssssyyssss+-         OS: Ubuntu 22.04.3 LTS x86_64 </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       Host: GT72 6QE REV:1.0 </span><br><span class="line">   /ssssssssssshdmmNNmmyNMMMMhssssss/      Kernel: 6.5.0-15-generic </span><br><span class="line">  +ssssssssshmydMMMMMMMNddddyssssssss+     Uptime: 26 mins </span><br><span class="line"> /sssssssshNMMMyhhyyyyhmNMMMNhssssssss/    Packages: 3057 (dpkg), 13 (snap) </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Shell: zsh 5.8.1 </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   Resolution: 1920x1080 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   DE: GNOME 42.9 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   WM: Mutter </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   WM Theme: Adwaita </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Theme: Yaru [GTK2/3] </span><br><span class="line"> /sssssssshNMMMyhhyyyyhdNMMMNhssssssss/    Icons: Yaru [GTK2/3] </span><br><span class="line">  +sssssssssdmydMMMMMMMMddddyssssssss+     Terminal: gnome-terminal </span><br><span class="line">   /ssssssssssshdmNNNNmyNMMMMhssssss/      CPU: Intel i7-6700HQ (8) @ 3.500GHz </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       GPU: NVIDIA GeForce GTX 980M </span><br><span class="line">      -+sssssssssssssssssyyyssss+-         Memory: 3075MiB / 64254MiB </span><br><span class="line">        `:+ssssssssssssssssss+:`</span><br><span class="line">            .-/+oossssoo+/-.                                       </span><br><span class="line">                                                                   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">➜  ~ </span><br></pre></td></tr></table></figure>
<h1 id="introduction">1. Introduction</h1>
<p><a
target="_blank" rel="noopener" href="https://www.espressif.com/en/products/socs/esp32-s3">ESP32-S3</a>
<code>is a dual-core XTensa LX7 MCU, capable of running at 240 MHz. Apart from its 512 KB of internal SRAM, it also comes with integrated 2.4 GHz, 802.11 b/g/n Wi-Fi and Bluetooth 5 (LE) connectivity that provides long-range support.</code>
(Cite from <a target="_blank" rel="noopener" href="https://www.espressif.com">Espressif</a>'s official
online doc <a
target="_blank" rel="noopener" href="https://www.espressif.com/en/products/socs/esp32-s3">ESP32-S3</a>).</p>
<h2 id="lsusb">1.1 lsusb</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Bus 001 Device 007: ID 303a:1001 Espressif USB JTAG/serial debug unit</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Nobody</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
