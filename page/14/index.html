<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"longervision.ca","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Longer Vision Technology Github Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Longer Vision Technology">
<meta property="og:url" content="http://longervision.ca/page/14/index.html">
<meta property="og:site_name" content="Longer Vision Technology">
<meta property="og:description" content="Longer Vision Technology Github Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Nobody">
<meta property="article:tag" content="Longer Vision, Computer Vision, AI, Machine Learning">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://longervision.ca/page/14/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/14/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Longer Vision Technology</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Longer Vision Technology</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Github Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Nobody</p>
  <div class="site-description" itemprop="description">Longer Vision Technology Github Blog</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">151</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">146</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/07/10/AI/DeepLearning/tensorflow-keras-build-from-source/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/07/10/AI/DeepLearning/tensorflow-keras-build-from-source/" class="post-title-link" itemprop="url">Tensorflow & Keras - Build from Source</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-07-10 00:00:00" itemprop="dateCreated datePublished" datetime="2018-07-10T00:00:00-07:00">2018-07-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-10-05 00:00:47" itemprop="dateModified" datetime="2024-10-05T00:00:47-07:00">2024-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/" itemprop="url" rel="index"><span itemprop="name">AI</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/DeepLearning/" itemprop="url" rel="index"><span itemprop="name">DeepLearning</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.tensorflow.org/">Tensorflow</a> is always
problematic, particularly, for guys like me...</p>
<h1 id="configuration">1. Configuration</h1>
<p>Linux Kernel 4.17.3 + Ubuntu 18.04 + GCC 7.3.0 + Python</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">uname</span> -r</span><br><span class="line">4.17.3-041703-generic</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ lsb_release -a</span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID: Ubuntu</span><br><span class="line">Description:    Ubuntu 18.04 LTS</span><br><span class="line">Release:        18.04</span><br><span class="line">Codename:       bionic</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ gcc --version</span><br><span class="line">gcc (Ubuntu 7.3.0-16ubuntu3) 7.3.0</span><br><span class="line">Copyright (C) 2017 Free Software Foundation, Inc.</span><br><span class="line">This is free software; see the <span class="built_in">source</span> <span class="keyword">for</span> copying conditions.  There is NO</span><br><span class="line">warranty; not even <span class="keyword">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python --version</span><br><span class="line">Python 3.6.5</span><br></pre></td></tr></table></figure>
<h1 id="install-bazel">2. Install Bazel</h1>
<p>From Bazel's official website <a
target="_blank" rel="noopener" href="https://docs.bazel.build/versions/master/install-ubuntu.html">Installing
Bazel on Ubuntu</a>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;deb [arch=amd64] http://storage.googleapis.com/bazel-apt stable jdk1.8&quot;</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/bazel.list</span><br><span class="line">$ curl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add -</span><br><span class="line">$ sudo apt update &amp;&amp; sudo apt install bazel</span><br></pre></td></tr></table></figure>
<p>Current <strong>bazel 0.15.0</strong> will be installed.</p>
<h1 id="lets-build-tensorflow-from-source">3. Let's Build Tensorflow
from Source</h1>
<h2 id="configuration-1">3.1 Configuration</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">$ ./configure</span><br><span class="line">WARNING: An illegal reflective access operation has occurred</span><br><span class="line">WARNING: Illegal reflective access by com.google.protobuf.UnsafeUtil (file:~/.cache/bazel/_bazel_jiapei/install/ce085f519b017357185750fe457b4648/_embedded_binaries/A-server.jar) to field java.nio.Buffer.address</span><br><span class="line">WARNING: Please consider reporting this to the maintainers of com.google.protobuf.UnsafeUtil</span><br><span class="line">WARNING: Use --illegal-access=warn to <span class="built_in">enable</span> warnings of further illegal reflective access operations</span><br><span class="line">WARNING: All illegal access operations will be denied <span class="keyword">in</span> a future release</span><br><span class="line">WARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the <span class="built_in">command</span> <span class="string">&quot;bazel shutdown&quot;</span>.</span><br><span class="line">You have bazel 0.15.0 installed.</span><br><span class="line">Please specify the location of python. [Default is /usr/bin/python]: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Found possible Python library paths:</span><br><span class="line">  /usr/local/lib/python3.6/dist-packages</span><br><span class="line">  /usr/lib/python3/dist-packages</span><br><span class="line">Please input the desired Python library path to use.  Default is [/usr/local/lib/python3.6/dist-packages]</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with jemalloc as malloc support? [Y/n]: Y</span><br><span class="line">jemalloc as malloc support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with Google Cloud Platform support? [Y/n]: Y</span><br><span class="line">Google Cloud Platform support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with Hadoop File System support? [Y/n]: Y</span><br><span class="line">Hadoop File System support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with Amazon AWS Platform support? [Y/n]: Y</span><br><span class="line">Amazon AWS Platform support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with Apache Kafka Platform support? [Y/n]: Y</span><br><span class="line">Apache Kafka Platform support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with XLA JIT support? [y/N]: N</span><br><span class="line">No XLA JIT support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with GDR support? [y/N]: N</span><br><span class="line">No GDR support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with VERBS support? [y/N]: N</span><br><span class="line">No VERBS support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with OpenCL SYCL support? [y/N]: N</span><br><span class="line">No OpenCL SYCL support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with CUDA support? [y/N]: y</span><br><span class="line">CUDA support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Please specify the CUDA SDK version you want to use. [Leave empty to default to CUDA 9.0]: 9.2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please specify the location <span class="built_in">where</span> CUDA 9.2 toolkit is installed. Refer to README.md <span class="keyword">for</span> more details. [Default is /usr/local/cuda]: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7.0]: 7.1.4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please specify the location <span class="built_in">where</span> cuDNN 7 library is installed. Refer to README.md <span class="keyword">for</span> more details. [Default is /usr/local/cuda]:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with TensorRT support? [y/N]: N</span><br><span class="line">No TensorRT support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Please specify the NCCL version you want to use. [Leave empty to default to NCCL 1.3]: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Please specify a list of comma-separated Cuda compute capabilities you want to build with.</span><br><span class="line">You can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.</span><br><span class="line">Please note that each additional compute capability significantly increases your build time and binary size. [Default is: 5.2]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do you want to use clang as CUDA compiler? [y/N]: N</span><br><span class="line">nvcc will be used as CUDA compiler.</span><br><span class="line"></span><br><span class="line">Please specify <span class="built_in">which</span> gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do you wish to build TensorFlow with MPI support? [y/N]: N</span><br><span class="line">No MPI support will be enabled <span class="keyword">for</span> TensorFlow.</span><br><span class="line"></span><br><span class="line">Please specify optimization flags to use during compilation when bazel option <span class="string">&quot;--config=opt&quot;</span> is specified [Default is -march=native]: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Would you like to interactively configure ./WORKSPACE <span class="keyword">for</span> Android builds? [y/N]: N</span><br><span class="line">Not configuring the WORKSPACE <span class="keyword">for</span> Android builds.</span><br><span class="line"></span><br><span class="line">Preconfigured Bazel build configs. You can use any of the below by adding <span class="string">&quot;--config=&lt;&gt;&quot;</span> to your build <span class="built_in">command</span>. See tools/bazel.rc <span class="keyword">for</span> more details.</span><br><span class="line">        --config=mkl            <span class="comment"># Build with MKL support.</span></span><br><span class="line">        --config=monolithic     <span class="comment"># Config for mostly static monolithic build.</span></span><br><span class="line">Configuration finished</span><br></pre></td></tr></table></figure>
<h2 id="first-bazel-build">3.2 FIRST Bazel Build</h2>
<p>Follow <a
target="_blank" rel="noopener" href="https://www.tensorflow.org/install/install_sources">Installing
TensorFlow from Sources</a> on <a
target="_blank" rel="noopener" href="https://www.tensorflow.org/">Tensorflow</a>'s official website,
have all required packages prepared, and run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</span><br></pre></td></tr></table></figure>
<p>you will meet several <strong>ERROR</strong> messages, which requires
you to carry out the following modifications.</p>
<h2 id="modifications">3.3 Modifications</h2>
<ul>
<li>File
**~/.cache/bazel/_bazel_jiapei/051cd94cedc722db8c69e42ce51064b5/external/jpeg/BUILD**:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">config_setting(</span><br><span class="line">    name = <span class="string">&quot;armeabi-v7a&quot;</span>,</span><br><span class="line">-    values = &#123;<span class="string">&quot;android_cpu&quot;</span>: <span class="string">&quot;armeabi-v7a&quot;</span>&#125;,</span><br><span class="line">+    values = &#123;<span class="string">&quot;cpu&quot;</span>: <span class="string">&quot;armeabi-v7a&quot;</span>&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li>Two Symbolic links</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">ln</span> -s /usr/local/cuda/include/crt/math_functions.hpp /usr/local/cuda/include/math_functions.hpp</span><br><span class="line">$ sudo <span class="built_in">ln</span> -s /usr/local/cuda/nvvm/libdevice/libdevice.10.bc /usr/local/cuda/nvvm/lib64/libdevice.10.bc</span><br></pre></td></tr></table></figure>
<h2 id="bazel-build-again">3.4 Bazel Build Again</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</span><br></pre></td></tr></table></figure>
<p>It'll take around 30 minutes to have Tensorflow successfully
built.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">Target //tensorflow/tools/pip_package:build_pip_package up-to-date:</span><br><span class="line">  bazel-bin/tensorflow/tools/pip_package/build_pip_package</span><br><span class="line">INFO: Elapsed time: 4924.451s, Critical Path: 197.91s</span><br><span class="line">INFO: 8864 processes: 8864 <span class="built_in">local</span>.</span><br><span class="line">INFO: Build completed successfully, 11002 total actions</span><br></pre></td></tr></table></figure>
<h1 id="tensorflow-installation">4. Tensorflow Installation</h1>
<h2 id="build-the-pip-file">4.1 Build the pip File</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg</span><br><span class="line">Wed Jul 11 00:09:09 PDT 2018 : === Preparing sources <span class="keyword">in</span> <span class="built_in">dir</span>: /tmp/tmp.5X0zsqfxYo</span><br><span class="line">/media/jiapei/Data/Downloads/machinelearning/deeplearning/tensorflow/tensorflow /media/jiapei/Data/Downloads/machinelearning/deeplearning/tensorflow/tensorflow</span><br><span class="line">/media/jiapei/Data/Downloads/machinelearning/deeplearning/tensorflow/tensorflow</span><br><span class="line">Wed Jul 11 00:09:35 PDT 2018 : === Building wheel</span><br><span class="line">warning: no files found matching <span class="string">&#x27;*.dll&#x27;</span> under directory <span class="string">&#x27;*&#x27;</span></span><br><span class="line">warning: no files found matching <span class="string">&#x27;*.lib&#x27;</span> under directory <span class="string">&#x27;*&#x27;</span></span><br><span class="line">warning: no files found matching <span class="string">&#x27;*.h&#x27;</span> under directory <span class="string">&#x27;tensorflow/include/tensorflow&#x27;</span></span><br><span class="line">warning: no files found matching <span class="string">&#x27;*&#x27;</span> under directory <span class="string">&#x27;tensorflow/include/Eigen&#x27;</span></span><br><span class="line">warning: no files found matching <span class="string">&#x27;*.h&#x27;</span> under directory <span class="string">&#x27;tensorflow/include/google&#x27;</span></span><br><span class="line">warning: no files found matching <span class="string">&#x27;*&#x27;</span> under directory <span class="string">&#x27;tensorflow/include/third_party&#x27;</span></span><br><span class="line">warning: no files found matching <span class="string">&#x27;*&#x27;</span> under directory <span class="string">&#x27;tensorflow/include/unsupported&#x27;</span></span><br><span class="line">Wed Jul 11 00:10:58 PDT 2018 : === Output wheel file is <span class="keyword">in</span>: /tmp/tensorflow_pkg</span><br></pre></td></tr></table></figure>
<p>Let's have a look at what's been built:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> /tmp/tensorflow_pkg/</span><br><span class="line">tensorflow-1.9.0rc0-cp36-cp36m-linux_x86_64.whl</span><br></pre></td></tr></table></figure>
<h2 id="pip-installation">4.2 Pip Installation</h2>
<p>And, let's have
<strong>tensorflow-1.9.0rc0-cp36-cp36m-linux_x86_64.whl</strong>
installed.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install /tmp/tensorflow_pkg/tensorflow-1.9.0rc0-cp36-cp36m-linux_x86_64.whl</span><br><span class="line">Processing /tmp/tensorflow_pkg/tensorflow-1.9.0rc0-cp36-cp36m-linux_x86_64.whl</span><br><span class="line">Requirement already satisfied: wheel&gt;=0.26 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (0.31.1)</span><br><span class="line">Requirement already satisfied: gast&gt;=0.2.0 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (0.2.0)</span><br><span class="line">Requirement already satisfied: numpy&gt;=1.13.3 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (1.14.5)</span><br><span class="line">Requirement already satisfied: astor&gt;=0.6.0 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (0.7.1)</span><br><span class="line">Requirement already satisfied: six&gt;=1.10.0 <span class="keyword">in</span> ./.local/lib/python3.6/site-packages (from tensorflow==1.9.0rc0) (1.11.0)</span><br><span class="line">Requirement already satisfied: grpcio&gt;=1.8.6 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (1.13.0)</span><br><span class="line">Requirement already satisfied: absl-py&gt;=0.1.6 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (0.2.2)</span><br><span class="line">Requirement already satisfied: tensorboard&lt;1.9.0,&gt;=1.8.0 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (1.8.0)</span><br><span class="line">Requirement already satisfied: termcolor&gt;=1.1.0 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (1.1.0)</span><br><span class="line">Requirement already satisfied: setuptools&lt;=39.1.0 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (39.1.0)</span><br><span class="line">Requirement already satisfied: protobuf&gt;=3.6.0 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorflow==1.9.0rc0) (3.6.0)</span><br><span class="line">Requirement already satisfied: bleach==1.5.0 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;1.9.0,&gt;=1.8.0-&gt;tensorflow==1.9.0rc0) (1.5.0)</span><br><span class="line">Requirement already satisfied: html5lib==0.9999999 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;1.9.0,&gt;=1.8.0-&gt;tensorflow==1.9.0rc0) (0.9999999)</span><br><span class="line">Requirement already satisfied: werkzeug&gt;=0.11.10 <span class="keyword">in</span> ./.local/lib/python3.6/site-packages (from tensorboard&lt;1.9.0,&gt;=1.8.0-&gt;tensorflow==1.9.0rc0) (0.14.1)</span><br><span class="line">Requirement already satisfied: markdown&gt;=2.6.8 <span class="keyword">in</span> /usr/local/lib/python3.6/dist-packages (from tensorboard&lt;1.9.0,&gt;=1.8.0-&gt;tensorflow==1.9.0rc0) (2.6.11)</span><br><span class="line">Successfully installed tensorflow-1.9.0rc0</span><br></pre></td></tr></table></figure>
<p>Let's test if <a target="_blank" rel="noopener" href="https://www.tensorflow.org/">Tensorflow</a>
has been successfully installed.</p>
<h2 id="check-tensorflow">4.3 Check Tensorflow</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ python</span><br><span class="line">Python 3.6.5 (default, Apr  1 2018, 05:46:30) </span><br><span class="line">[GCC 7.3.0] on linux</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; import tensorflow as tf</span><br><span class="line">&gt;&gt;&gt; tf.__version__</span><br><span class="line"><span class="string">&#x27;1.9.0-rc0&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="keras-installation">5. Keras Installation</h1>
<p>After successfully check out <a
target="_blank" rel="noopener" href="https://github.com/keras-team/keras">Keras</a>, we can easily have
<strong>Keras</strong> installed by command <strong>python setup.py
install</strong>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py install</span><br><span class="line">running install</span><br><span class="line">running bdist_egg</span><br><span class="line">running egg_info</span><br><span class="line">creating Keras.egg-info</span><br><span class="line">writing Keras.egg-info/PKG-INFO</span><br><span class="line">writing dependency_links to Keras.egg-info/dependency_links.txt</span><br><span class="line">writing requirements to Keras.egg-info/requires.txt</span><br><span class="line">writing top-level names to Keras.egg-info/top_level.txt</span><br><span class="line">writing manifest file <span class="string">&#x27;Keras.egg-info/SOURCES.txt&#x27;</span></span><br><span class="line">reading manifest file <span class="string">&#x27;Keras.egg-info/SOURCES.txt&#x27;</span></span><br><span class="line">reading manifest template <span class="string">&#x27;MANIFEST.in&#x27;</span></span><br><span class="line">writing manifest file <span class="string">&#x27;Keras.egg-info/SOURCES.txt&#x27;</span></span><br><span class="line">installing library code to build/bdist.linux-x86_64/egg</span><br><span class="line">running install_lib</span><br><span class="line">running build_py</span><br><span class="line">creating build</span><br><span class="line">creating build/lib</span><br><span class="line">creating build/lib/docs</span><br><span class="line">copying docs/autogen.py -&gt; build/lib/docs</span><br><span class="line">copying docs/__init__.py -&gt; build/lib/docs</span><br><span class="line">creating build/lib/keras</span><br><span class="line">copying keras/activations.py -&gt; build/lib/keras</span><br><span class="line">copying keras/callbacks.py -&gt; build/lib/keras</span><br><span class="line">copying keras/constraints.py -&gt; build/lib/keras</span><br><span class="line">copying keras/initializers.py -&gt; build/lib/keras</span><br><span class="line">copying keras/losses.py -&gt; build/lib/keras</span><br><span class="line">copying keras/metrics.py -&gt; build/lib/keras</span><br><span class="line">copying keras/models.py -&gt; build/lib/keras</span><br><span class="line">copying keras/objectives.py -&gt; build/lib/keras</span><br><span class="line">copying keras/optimizers.py -&gt; build/lib/keras</span><br><span class="line">copying keras/regularizers.py -&gt; build/lib/keras</span><br><span class="line">copying keras/__init__.py -&gt; build/lib/keras</span><br><span class="line">creating build/lib/keras/applications</span><br><span class="line">copying keras/applications/densenet.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/imagenet_utils.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/inception_resnet_v2.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/inception_v3.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/mobilenet.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/mobilenetv2.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/nasnet.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/resnet50.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/vgg16.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/vgg19.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/xception.py -&gt; build/lib/keras/applications</span><br><span class="line">copying keras/applications/__init__.py -&gt; build/lib/keras/applications</span><br><span class="line">creating build/lib/keras/backend</span><br><span class="line">copying keras/backend/cntk_backend.py -&gt; build/lib/keras/backend</span><br><span class="line">copying keras/backend/common.py -&gt; build/lib/keras/backend</span><br><span class="line">copying keras/backend/tensorflow_backend.py -&gt; build/lib/keras/backend</span><br><span class="line">copying keras/backend/theano_backend.py -&gt; build/lib/keras/backend</span><br><span class="line">copying keras/backend/__init__.py -&gt; build/lib/keras/backend</span><br><span class="line">creating build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/boston_housing.py -&gt; build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/cifar.py -&gt; build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/cifar10.py -&gt; build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/cifar100.py -&gt; build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/fashion_mnist.py -&gt; build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/imdb.py -&gt; build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/mnist.py -&gt; build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/reuters.py -&gt; build/lib/keras/datasets</span><br><span class="line">copying keras/datasets/__init__.py -&gt; build/lib/keras/datasets</span><br><span class="line">creating build/lib/keras/engine</span><br><span class="line">copying keras/engine/base_layer.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/input_layer.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/network.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/saving.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/sequential.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/topology.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/training.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/training_arrays.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/training_generator.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/training_utils.py -&gt; build/lib/keras/engine</span><br><span class="line">copying keras/engine/__init__.py -&gt; build/lib/keras/engine</span><br><span class="line">creating build/lib/keras/layers</span><br><span class="line">copying keras/layers/advanced_activations.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/convolutional.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/convolutional_recurrent.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/core.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/cudnn_recurrent.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/embeddings.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/local.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/merge.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/noise.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/normalization.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/pooling.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/recurrent.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/wrappers.py -&gt; build/lib/keras/layers</span><br><span class="line">copying keras/layers/__init__.py -&gt; build/lib/keras/layers</span><br><span class="line">creating build/lib/keras/legacy</span><br><span class="line">copying keras/legacy/interfaces.py -&gt; build/lib/keras/legacy</span><br><span class="line">copying keras/legacy/layers.py -&gt; build/lib/keras/legacy</span><br><span class="line">copying keras/legacy/__init__.py -&gt; build/lib/keras/legacy</span><br><span class="line">creating build/lib/keras/preprocessing</span><br><span class="line">copying keras/preprocessing/image.py -&gt; build/lib/keras/preprocessing</span><br><span class="line">copying keras/preprocessing/sequence.py -&gt; build/lib/keras/preprocessing</span><br><span class="line">copying keras/preprocessing/text.py -&gt; build/lib/keras/preprocessing</span><br><span class="line">copying keras/preprocessing/__init__.py -&gt; build/lib/keras/preprocessing</span><br><span class="line">creating build/lib/keras/utils</span><br><span class="line">copying keras/utils/conv_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/data_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/generic_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/io_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/layer_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/multi_gpu_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/np_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/test_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/vis_utils.py -&gt; build/lib/keras/utils</span><br><span class="line">copying keras/utils/__init__.py -&gt; build/lib/keras/utils</span><br><span class="line">creating build/lib/keras/wrappers</span><br><span class="line">copying keras/wrappers/scikit_learn.py -&gt; build/lib/keras/wrappers</span><br><span class="line">copying keras/wrappers/__init__.py -&gt; build/lib/keras/wrappers</span><br><span class="line">creating build/bdist.linux-x86_64</span><br><span class="line">creating build/bdist.linux-x86_64/egg</span><br><span class="line">creating build/bdist.linux-x86_64/egg/docs</span><br><span class="line">copying build/lib/docs/autogen.py -&gt; build/bdist.linux-x86_64/egg/docs</span><br><span class="line">copying build/lib/docs/__init__.py -&gt; build/bdist.linux-x86_64/egg/docs</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras</span><br><span class="line">copying build/lib/keras/activations.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/densenet.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/imagenet_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/inception_resnet_v2.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/inception_v3.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/mobilenet.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/mobilenetv2.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/nasnet.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/resnet50.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/vgg16.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/vgg19.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/xception.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">copying build/lib/keras/applications/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/applications</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/backend</span><br><span class="line">copying build/lib/keras/backend/cntk_backend.py -&gt; build/bdist.linux-x86_64/egg/keras/backend</span><br><span class="line">copying build/lib/keras/backend/common.py -&gt; build/bdist.linux-x86_64/egg/keras/backend</span><br><span class="line">copying build/lib/keras/backend/tensorflow_backend.py -&gt; build/bdist.linux-x86_64/egg/keras/backend</span><br><span class="line">copying build/lib/keras/backend/theano_backend.py -&gt; build/bdist.linux-x86_64/egg/keras/backend</span><br><span class="line">copying build/lib/keras/backend/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/backend</span><br><span class="line">copying build/lib/keras/callbacks.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">copying build/lib/keras/constraints.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/boston_housing.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/cifar.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/cifar10.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/cifar100.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/fashion_mnist.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/imdb.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/mnist.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/reuters.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">copying build/lib/keras/datasets/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/datasets</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/base_layer.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/input_layer.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/network.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/saving.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/sequential.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/topology.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/training.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/training_arrays.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/training_generator.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/training_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/engine/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/engine</span><br><span class="line">copying build/lib/keras/initializers.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/advanced_activations.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/convolutional.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/convolutional_recurrent.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/core.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/cudnn_recurrent.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/embeddings.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/local.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/merge.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/noise.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/normalization.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/pooling.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/recurrent.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/wrappers.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">copying build/lib/keras/layers/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/layers</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/legacy</span><br><span class="line">copying build/lib/keras/legacy/interfaces.py -&gt; build/bdist.linux-x86_64/egg/keras/legacy</span><br><span class="line">copying build/lib/keras/legacy/layers.py -&gt; build/bdist.linux-x86_64/egg/keras/legacy</span><br><span class="line">copying build/lib/keras/legacy/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/legacy</span><br><span class="line">copying build/lib/keras/losses.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">copying build/lib/keras/metrics.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">copying build/lib/keras/models.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">copying build/lib/keras/objectives.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">copying build/lib/keras/optimizers.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/preprocessing</span><br><span class="line">copying build/lib/keras/preprocessing/image.py -&gt; build/bdist.linux-x86_64/egg/keras/preprocessing</span><br><span class="line">copying build/lib/keras/preprocessing/sequence.py -&gt; build/bdist.linux-x86_64/egg/keras/preprocessing</span><br><span class="line">copying build/lib/keras/preprocessing/text.py -&gt; build/bdist.linux-x86_64/egg/keras/preprocessing</span><br><span class="line">copying build/lib/keras/preprocessing/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/preprocessing</span><br><span class="line">copying build/lib/keras/regularizers.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/conv_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/data_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/generic_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/io_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/layer_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/multi_gpu_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/np_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/test_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/vis_utils.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">copying build/lib/keras/utils/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/utils</span><br><span class="line">creating build/bdist.linux-x86_64/egg/keras/wrappers</span><br><span class="line">copying build/lib/keras/wrappers/scikit_learn.py -&gt; build/bdist.linux-x86_64/egg/keras/wrappers</span><br><span class="line">copying build/lib/keras/wrappers/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras/wrappers</span><br><span class="line">copying build/lib/keras/__init__.py -&gt; build/bdist.linux-x86_64/egg/keras</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/docs/autogen.py to autogen.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/docs/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/activations.py to activations.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/densenet.py to densenet.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/imagenet_utils.py to imagenet_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/inception_resnet_v2.py to inception_resnet_v2.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/inception_v3.py to inception_v3.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/mobilenet.py to mobilenet.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/mobilenetv2.py to mobilenetv2.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/nasnet.py to nasnet.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/resnet50.py to resnet50.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/vgg16.py to vgg16.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/vgg19.py to vgg19.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/xception.py to xception.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/applications/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/backend/cntk_backend.py to cntk_backend.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/backend/common.py to common.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/backend/tensorflow_backend.py to tensorflow_backend.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/backend/theano_backend.py to theano_backend.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/backend/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/callbacks.py to callbacks.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/constraints.py to constraints.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/boston_housing.py to boston_housing.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/cifar.py to cifar.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/cifar10.py to cifar10.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/cifar100.py to cifar100.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/fashion_mnist.py to fashion_mnist.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/imdb.py to imdb.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/mnist.py to mnist.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/reuters.py to reuters.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/datasets/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/base_layer.py to base_layer.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/input_layer.py to input_layer.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/network.py to network.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/saving.py to saving.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/sequential.py to sequential.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/topology.py to topology.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/training.py to training.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/training_arrays.py to training_arrays.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/training_generator.py to training_generator.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/training_utils.py to training_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/engine/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/initializers.py to initializers.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/advanced_activations.py to advanced_activations.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/convolutional.py to convolutional.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/convolutional_recurrent.py to convolutional_recurrent.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/core.py to core.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/cudnn_recurrent.py to cudnn_recurrent.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/embeddings.py to embeddings.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/local.py to local.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/merge.py to merge.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/noise.py to noise.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/normalization.py to normalization.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/pooling.py to pooling.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/recurrent.py to recurrent.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/wrappers.py to wrappers.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/layers/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/legacy/interfaces.py to interfaces.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/legacy/layers.py to layers.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/legacy/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/losses.py to losses.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/metrics.py to metrics.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/models.py to models.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/objectives.py to objectives.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/optimizers.py to optimizers.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/preprocessing/image.py to image.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/preprocessing/sequence.py to sequence.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/preprocessing/text.py to text.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/preprocessing/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/regularizers.py to regularizers.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/conv_utils.py to conv_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/data_utils.py to data_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/generic_utils.py to generic_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/io_utils.py to io_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/layer_utils.py to layer_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/multi_gpu_utils.py to multi_gpu_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/np_utils.py to np_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/test_utils.py to test_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/vis_utils.py to vis_utils.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/utils/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/wrappers/scikit_learn.py to scikit_learn.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/wrappers/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">byte-compiling build/bdist.linux-x86_64/egg/keras/__init__.py to __init__.cpython-36.pyc</span><br><span class="line">creating build/bdist.linux-x86_64/egg/EGG-INFO</span><br><span class="line">copying Keras.egg-info/PKG-INFO -&gt; build/bdist.linux-x86_64/egg/EGG-INFO</span><br><span class="line">copying Keras.egg-info/SOURCES.txt -&gt; build/bdist.linux-x86_64/egg/EGG-INFO</span><br><span class="line">copying Keras.egg-info/dependency_links.txt -&gt; build/bdist.linux-x86_64/egg/EGG-INFO</span><br><span class="line">copying Keras.egg-info/requires.txt -&gt; build/bdist.linux-x86_64/egg/EGG-INFO</span><br><span class="line">copying Keras.egg-info/top_level.txt -&gt; build/bdist.linux-x86_64/egg/EGG-INFO</span><br><span class="line">zip_safe flag not <span class="built_in">set</span>; analyzing archive contents...</span><br><span class="line">creating dist</span><br><span class="line">creating <span class="string">&#x27;dist/Keras-2.2.0-py3.6.egg&#x27;</span> and adding <span class="string">&#x27;build/bdist.linux-x86_64/egg&#x27;</span> to it</span><br><span class="line">removing <span class="string">&#x27;build/bdist.linux-x86_64/egg&#x27;</span> (and everything under it)</span><br><span class="line">Processing Keras-2.2.0-py3.6.egg</span><br><span class="line">Copying Keras-2.2.0-py3.6.egg to /usr/local/lib/python3.6/dist-packages</span><br><span class="line">Adding Keras 2.2.0 to easy-install.pth file</span><br><span class="line"></span><br><span class="line">Installed /usr/local/lib/python3.6/dist-packages/Keras-2.2.0-py3.6.egg</span><br><span class="line">Processing dependencies <span class="keyword">for</span> Keras==2.2.0</span><br><span class="line">Searching <span class="keyword">for</span> Keras-Preprocessing==1.0.1</span><br><span class="line">Best match: Keras-Preprocessing 1.0.1</span><br><span class="line">Adding Keras-Preprocessing 1.0.1 to easy-install.pth file</span><br><span class="line"></span><br><span class="line">Using /usr/local/lib/python3.6/dist-packages</span><br><span class="line">Searching <span class="keyword">for</span> Keras-Applications==1.0.2</span><br><span class="line">Best match: Keras-Applications 1.0.2</span><br><span class="line">Adding Keras-Applications 1.0.2 to easy-install.pth file</span><br><span class="line"></span><br><span class="line">Using /usr/local/lib/python3.6/dist-packages</span><br><span class="line">Searching <span class="keyword">for</span> h5py==2.8.0</span><br><span class="line">Best match: h5py 2.8.0</span><br><span class="line">Adding h5py 2.8.0 to easy-install.pth file</span><br><span class="line"></span><br><span class="line">Using /usr/local/lib/python3.6/dist-packages</span><br><span class="line">Searching <span class="keyword">for</span> PyYAML==3.13</span><br><span class="line">Best match: PyYAML 3.13</span><br><span class="line">Adding PyYAML 3.13 to easy-install.pth file</span><br><span class="line"></span><br><span class="line">Using /usr/local/lib/python3.6/dist-packages</span><br><span class="line">Searching <span class="keyword">for</span> six==1.11.0</span><br><span class="line">Best match: six 1.11.0</span><br><span class="line">Adding six 1.11.0 to easy-install.pth file</span><br><span class="line"></span><br><span class="line">Using /usr/lib/python3/dist-packages</span><br><span class="line">Searching <span class="keyword">for</span> scipy==1.1.0</span><br><span class="line">Best match: scipy 1.1.0</span><br><span class="line">Adding scipy 1.1.0 to easy-install.pth file</span><br><span class="line"></span><br><span class="line">Using /usr/local/lib/python3.6/dist-packages</span><br><span class="line">Searching <span class="keyword">for</span> numpy==1.14.5</span><br><span class="line">Best match: numpy 1.14.5</span><br><span class="line">Adding numpy 1.14.5 to easy-install.pth file</span><br><span class="line"></span><br><span class="line">Using /usr/local/lib/python3.6/dist-packages</span><br><span class="line">Finished processing dependencies <span class="keyword">for</span> Keras==2.2.0</span><br></pre></td></tr></table></figure>
<p>That's all for today. I think <a
target="_blank" rel="noopener" href="https://www.python.org/">Python</a> is seriously cool, handy
indeed. I myself will still recommend <a
target="_blank" rel="noopener" href="https://pytorch.org/">Pytorch</a>, but it seems <a
target="_blank" rel="noopener" href="https://www.tensorflow.org/">Tensorflow</a> and <a
target="_blank" rel="noopener" href="https://keras.io/">Keras</a> are also very popular in North
America.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/07/05/ComputerVision/Face/face_keypoint_orientation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/07/05/ComputerVision/Face/face_keypoint_orientation/" class="post-title-link" itemprop="url">Face Key Point Localization & Orientation</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-07-05 00:00:00" itemprop="dateCreated datePublished" datetime="2018-07-05T00:00:00-07:00">2018-07-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Computer-Vision/" itemprop="url" rel="index"><span itemprop="name">Computer Vision</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Computer-Vision/Face/" itemprop="url" rel="index"><span itemprop="name">Face</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>I'm quite busy today. So, I'd just post some videos to show the
performance about <strong>jiu bu gao su ni</strong> <span class="emoji"
data-alias="laughing" style=""
data-fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f606.png?v8">😆</span>
Click on the pictures to open an uploaded Facebook video.</p>
<h1 id="key-point-localization">1. Key Point Localization</h1>
<h2 id="nobody---yeah-its-me-10-years-ago.-how-time-flies...">1.1 Nobody
- Yeah, it's ME, 10 YEARS ago. How time flies...</h2>
<p><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054002684756934/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/keypoints/nobody_snapshot.png"
alt="Nobody - Yeah, it&#39;s ME" /></a></p>
<h2 id="franck---what-a-canonical-annotated-face-dataset">1.2 FRANCK -
What a Canonical Annotated Face Dataset</h2>
<p><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054003711423498/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/keypoints/franck_snapshot.png"
alt="FRANCK" /></a></p>
<h1 id="orientation">2. Orientation</h1>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">01_al_pacino</th>
<th style="text-align: center;">02_alanis_morissette</th>
<th style="text-align: center;">03_anderson_cooper</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054033554753847/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/01_snapshot_al_pacino.png"
alt="01_al_pacino.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054036881420181/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/02_snapshot_alanis_morissette.png"
alt="02_alanis_morissette.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054038041420065/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/03_snapshot_anderson_cooper.png"
alt="03_anderson_cooper.mp4" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;">04_angelina_jolie</td>
<td style="text-align: center;">05_bill_clinton</td>
<td style="text-align: center;">06_bill_gates</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054041144753088/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/04_snapshot_angelina_jolie.png"
alt="04_angelina_jolie.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054042951419574/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/05_snapshot_bill_clinton.png"
alt="05_bill_clinton.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054044151419454/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/06_snapshot_bill_gates.png"
alt="06_bill_gates.mp4" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;">07_gloria_estefan</td>
<td style="text-align: center;">08_jet_li</td>
<td style="text-align: center;">09_julia_roberts</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054045324752670/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/07_snapshot_gloria_estefan.png"
alt="07_gloria_estefan.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054046601419209/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/08_snapshot_jet_li.png"
alt="08_jet_li.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054048371419032/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/09_snapshot_julia_roberts.png"
alt="09_julia_roberts.mp4" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;">10_noam_chomsky</td>
<td style="text-align: center;">11_sylvester_stallone</td>
<td style="text-align: center;">12_tony_blair</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054049451418924/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/10_snapshot_noam_chomsky.png"
alt="10_noam_chomsky.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054051491418720/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/11_snapshot_sylvester_stallone.png"
alt="11_sylvester_stallone.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054052961418573/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/12_snapshot_tony_blair.png"
alt="12_tony_blair.mp4" /></a></td>
</tr>
<tr class="even">
<td style="text-align: center;">13_victoria_beckham</td>
<td style="text-align: center;">14_vladimir_putin</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054064601417409/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/13_snapshot_victoria_beckham.png"
alt="13_victoria_beckham.mp4" /></a></td>
<td style="text-align: center;"><a
target="_blank" rel="noopener" href="https://www.facebook.com/LongerVisionTechnologyUSA/videos/1054065608083975/"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/face/orientation/14_snapshot_vladimir_putin.png"
alt="14_vladimir_putin.mp4" /></a></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/07/02/AI/DeepLearning/ImageAI-Happy-Canada-Day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/07/02/AI/DeepLearning/ImageAI-Happy-Canada-Day/" class="post-title-link" itemprop="url">ImageAI - Happy Canada Day</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-07-02 00:00:00" itemprop="dateCreated datePublished" datetime="2018-07-02T00:00:00-07:00">2018-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/" itemprop="url" rel="index"><span itemprop="name">AI</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/DeepLearning/" itemprop="url" rel="index"><span itemprop="name">DeepLearning</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Yesterday is <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Canada_Day">Canada Day</a>... ^_^
Happy <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Canada_Day">Canada Day</a>
everybody...</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/festivals/2018/CanadaDay.jpg"
alt="Happy Canada Day" />
<figcaption aria-hidden="true">Happy Canada Day</figcaption>
</figure>
<p>Just notice <a
target="_blank" rel="noopener" href="https://towardsdatascience.com/object-detection-with-10-lines-of-code-d6cb4d86f606">this
news about ImageAI</a> today. So, I just had it tested for fun. I
seriously don't want to talk about <a
target="_blank" rel="noopener" href="https://github.com/OlafenwaMoses/ImageAI">ImageAI</a> too much,
you can follow the <a
target="_blank" rel="noopener" href="https://github.com/OlafenwaMoses/ImageAI">author's github</a> and
it shouldn't be that hard to have everything done in minutes.</p>
<h1 id="preparation">1. Preparation</h1>
<h2 id="prerequisite-dependencies">1.1 Prerequisite Dependencies</h2>
<p>As described by on <a
target="_blank" rel="noopener" href="https://github.com/OlafenwaMoses/ImageAI">ImageAI's Github</a>,
multiple Python dependencies need to be installed:</p>
<ul>
<li>Tensorflow</li>
<li>Numpy</li>
<li>SciPy</li>
<li>OpenCV</li>
<li>Pillow</li>
<li>Matplotlib</li>
<li>h5py</li>
<li>Keras</li>
</ul>
<p>All packages can be easily installed by command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install PackageName</span><br></pre></td></tr></table></figure>
<p>Afterwards, <a
target="_blank" rel="noopener" href="https://github.com/OlafenwaMoses/ImageAI">ImageAI</a> can be
installed by a single command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install https://github.com/OlafenwaMoses/ImageAI/releases/download/2.0.1/imageai-2.0.1-py3-none-any.whl </span><br></pre></td></tr></table></figure>
<h2 id="cnn-models">1.2 CNN Models</h2>
<p>Two models are adopted as in the examples <strong>prediction</strong>
and <strong>detection</strong>.</p>
<ul>
<li>resnet50_weights_tf_dim_ordering_tf_kernels.h5 - can be downloaded
at <a
target="_blank" rel="noopener" href="https://github.com/fchollet/deep-learning-models/releases">fchollet's
deep-learning-models</a></li>
<li>resnet50_coco_best_v2.1.0.h5 - can be downloaded at <a
target="_blank" rel="noopener" href="https://github.com/fizyr/keras-retinanet/releases">fizyr's
keras-retinanet</a></li>
</ul>
<h1 id="examples">2. Examples</h1>
<h2 id="prediction">2.1 Prediction</h2>
<p>Simple examples are given at <a
target="_blank" rel="noopener" href="https://github.com/OlafenwaMoses/ImageAI/tree/master/imageai/Prediction">https://github.com/OlafenwaMoses/ImageAI/tree/master/imageai/Prediction</a>.</p>
<p>I modified <a
target="_blank" rel="noopener" href="https://github.com/OlafenwaMoses/ImageAI/tree/master/imageai/Prediction#firstpredictionpy">FirstPrediction.py</a>
a bit as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> imageai.Prediction <span class="keyword">import</span> ImagePrediction</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">prediction = ImagePrediction()</span><br><span class="line">prediction.setModelTypeAsResNet()</span><br><span class="line">prediction.setModelPath(<span class="string">&quot;/media/jiapei/Data/Programs/Python/ImageAI/resnet50_weights_tf_dim_ordering_tf_kernels.h5&quot;</span>)</span><br><span class="line">prediction.loadModel()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">predictions, probabilities = prediction.predictImage((<span class="string">&quot;./01.jpg&quot;</span>), result_count=<span class="number">5</span>)</span><br><span class="line"><span class="keyword">for</span> eachPrediction, eachProbability <span class="keyword">in</span> <span class="built_in">zip</span>(predictions, probabilities):</span><br><span class="line">    <span class="built_in">print</span>(eachPrediction + <span class="string">&quot; : &quot;</span> + np.format_float_positional(eachProbability, precision=<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p>For the 1st image:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/ImageAI/01.jpg"
alt="ImageAI Test Image 1" />
<figcaption aria-hidden="true">ImageAI Test Image 1</figcaption>
</figure>
<p>From bash, you will get:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ python FirstPrediction.py </span><br><span class="line">2018-07-02 18:12:09.275412: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA</span><br><span class="line">convertible : 52.45954394340515</span><br><span class="line">sports_car : 37.61279881000519</span><br><span class="line">pickup : 3.1751133501529694</span><br><span class="line">car_wheel : 1.817503571510315</span><br><span class="line">minivan : 1.748703233897686</span><br></pre></td></tr></table></figure>
<h2 id="detection">2.2 Detection</h2>
<p>Simple examples are given at <a
target="_blank" rel="noopener" href="https://github.com/OlafenwaMoses/ImageAI/tree/master/imageai/Detection">https://github.com/OlafenwaMoses/ImageAI/tree/master/imageai/Detection</a>.</p>
<p>Trivial modification is also implemented upon <a
target="_blank" rel="noopener" href="https://github.com/OlafenwaMoses/ImageAI/tree/master/imageai/Detection#firstobjectdetectionpy">FirstObjectDetection.py</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> imageai.Detection <span class="keyword">import</span> ObjectDetection</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">detector = ObjectDetection()</span><br><span class="line">detector.setModelTypeAsRetinaNet()</span><br><span class="line">detector.setModelPath( os.path.join(<span class="string">&quot;/media/jiapei/Data/Programs/Python/ImageAI/resnet50_coco_best_v2.1.0.h5&quot;</span>))</span><br><span class="line">detector.loadModel()</span><br><span class="line"></span><br><span class="line">input_image=<span class="string">&quot;./03.jpg&quot;</span></span><br><span class="line">output_image=<span class="string">&quot;./imageai_output_03.jpg&quot;</span></span><br><span class="line">detections = detector.detectObjectsFromImage(input_image, output_image)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> eachObject <span class="keyword">in</span> detections:</span><br><span class="line">    <span class="built_in">print</span>(eachObject[<span class="string">&quot;name&quot;</span>] + <span class="string">&quot; : &quot;</span> + np.format_float_positional(eachObject[<span class="string">&quot;percentage_probability&quot;</span>], precision=<span class="number">3</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="for-the-2nd-image">2.2.1 For the 2nd image:</h3>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/ImageAI/02.jpg"
alt="ImageAI Test Image 2" />
<figcaption aria-hidden="true">ImageAI Test Image 2</figcaption>
</figure>
<p>From bash, you will get</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">$ python FirstDetection.py </span><br><span class="line">Using TensorFlow backend.</span><br><span class="line">2018-07-02 18:23:09.634037: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA</span><br><span class="line">2018-07-02 18:23:11.744790: W tensorflow/core/framework/allocator.cc:101] Allocation of 68300800 exceeds 10% of system memory.</span><br><span class="line">2018-07-02 18:23:11.958081: W tensorflow/core/framework/allocator.cc:101] Allocation of 68403200 exceeds 10% of system memory.</span><br><span class="line">2018-07-02 18:23:12.174739: W tensorflow/core/framework/allocator.cc:101] Allocation of 68403200 exceeds 10% of system memory.</span><br><span class="line">2018-07-02 18:23:12.433540: W tensorflow/core/framework/allocator.cc:101] Allocation of 68403200 exceeds 10% of system memory.</span><br><span class="line">2018-07-02 18:23:12.694631: W tensorflow/core/framework/allocator.cc:101] Allocation of 68403200 exceeds 10% of system memory.</span><br><span class="line">2018-07-02 18:23:16.267111: W tensorflow/core/framework/allocator.cc:101] Allocation of 64224000 exceeds 10% of system memory.</span><br><span class="line">2018-07-02 18:23:16.370939: W tensorflow/core/framework/allocator.cc:101] Allocation of 64224000 exceeds 10% of system memory.</span><br><span class="line">2018-07-02 18:23:16.403353: W tensorflow/core/framework/allocator.cc:101] Allocation of 67435200 exceeds 10% of system memory.</span><br><span class="line">person : 55.596935749053955</span><br><span class="line">person : 66.90954566001892</span><br><span class="line">person : 67.96322464942932</span><br><span class="line">person : 50.80411434173584</span><br><span class="line">bicycle : 64.87574577331543</span><br><span class="line">bicycle : 72.0929205417633</span><br><span class="line">person : 80.02063035964966</span><br><span class="line">person : 85.82872748374939</span><br><span class="line">truck : 59.56767797470093</span><br><span class="line">person : 66.69963002204895</span><br><span class="line">person : 79.37889695167542</span><br><span class="line">person : 64.81361389160156</span><br><span class="line">bus : 65.35580158233643</span><br><span class="line">bus : 97.16107249259949</span><br><span class="line">bus : 68.20474863052368</span><br><span class="line">truck : 67.65954494476318</span><br><span class="line">truck : 77.73774266242981</span><br><span class="line">bus : 69.96590495109558</span><br><span class="line">truck : 69.54039335250854</span><br><span class="line">car : 61.26518249511719</span><br><span class="line">car : 59.965676069259644</span><br></pre></td></tr></table></figure>
<p>And, under the program folder, you will get an output image:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/ImageAI/imageai_output_02.jpg"
alt="ImageAI Output Image for Test Image 2" />
<figcaption aria-hidden="true">ImageAI Output Image for Test Image
2</figcaption>
</figure>
<h3 id="for-the-3rd-image">2.2.2 For the 3rd image:</h3>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/ImageAI/03.jpg"
alt="ImageAI Test Image 3" />
<figcaption aria-hidden="true">ImageAI Test Image 3</figcaption>
</figure>
<p>From bash, you will get</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">$ python FirstDetection.py </span><br><span class="line">Using TensorFlow backend.</span><br><span class="line">2018-07-02 18:25:24.919351: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA</span><br><span class="line">person : 53.27633619308472</span><br><span class="line">person : 52.71329879760742</span><br><span class="line">person : 63.67729902267456</span><br><span class="line">person : 55.00321388244629</span><br><span class="line">person : 74.53054189682007</span><br><span class="line">person : 51.54905915260315</span><br><span class="line">motorcycle : 59.057921171188354</span><br><span class="line">bus : 93.79504919052124</span><br><span class="line">bus : 86.21828556060791</span><br><span class="line">bus : 77.143394947052</span><br><span class="line">person : 59.69809293746948</span><br><span class="line">car : 71.79147601127625</span><br><span class="line">car : 60.15858054161072</span><br><span class="line">person : 62.758803367614746</span><br><span class="line">person : 58.786213397979736</span><br><span class="line">person : 76.49624943733215</span><br><span class="line">car : 56.977421045303345</span><br><span class="line">person : 67.86248683929443</span><br><span class="line">person : 50.977784395217896</span><br><span class="line">person : 52.3215651512146</span><br><span class="line">motorcycle : 52.81376242637634</span><br><span class="line">person : 76.79281234741211</span><br><span class="line">motorcycle : 74.65972304344177</span><br><span class="line">person : 55.96961975097656</span><br><span class="line">person : 68.15704107284546</span><br><span class="line">motorcycle : 56.21282458305359</span><br><span class="line">bicycle : 71.78951501846313</span><br><span class="line">motorcycle : 69.68616843223572</span><br><span class="line">bicycle : 91.09067916870117</span><br><span class="line">motorcycle : 83.16765427589417</span><br><span class="line">motorcycle : 61.57424449920654</span><br></pre></td></tr></table></figure>
<p>And, under the program folder, you will get an output image:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/ImageAI/imageai_output_03.jpg"
alt="ImageAI Output Image for Test Image 3" />
<figcaption aria-hidden="true">ImageAI Output Image for Test Image
3</figcaption>
</figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/06/23/ComputerVision/Face/vosm-2018/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/06/23/ComputerVision/Face/vosm-2018/" class="post-title-link" itemprop="url">Vision Open Statistic Models</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-06-23 00:00:00" itemprop="dateCreated datePublished" datetime="2018-06-23T00:00:00-07:00">2018-06-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Computer-Vision/" itemprop="url" rel="index"><span itemprop="name">Computer Vision</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Computer-Vision/Face/" itemprop="url" rel="index"><span itemprop="name">Face</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>It has been quite a while that my <a
target="_blank" rel="noopener" href="https://github.com/jiapei100/VOSM">VOSM</a> has NOT been updated.
My bad for sure. But today, I have it updated, and <a
target="_blank" rel="noopener" href="https://github.com/jiapei100/VOSM/releases">VOSM-0.3.5</a> is
released. Just refer to the following 3 pages on
<strong>github</strong>:</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://github.com/jiapei100/VOSM/blob/master/README.md">VOSM
README.md</a></li>
<li><a
target="_blank" rel="noopener" href="https://github.com/jiapei100/VOSM/wiki/How-to-use-VOSM%3F">VOSM
Wiki</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/jiapei100/VOSM/releases">VOSM
Release</a></li>
</ul>
<p>We'll still explain a bit on <strong>How to use VOSM</strong> in the
following:</p>
<h1 id="building">1. Building</h1>
<h2 id="building-commands">1.1 Building Commands</h2>
<p>Currently, there are 7 types of models to be built. Namely, there are
7 choices for the parameter "-t":</p>
<ul>
<li>SM</li>
<li>TM</li>
<li>AM</li>
<li>IA</li>
<li>FM</li>
<li>SMLTC</li>
<li>SMNDPROFILE</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ testsmbuilding -o &quot;./output&quot; -a &quot;./annotations/training/&quot; -i &quot;./images/training/&quot; -s &quot;../VOSM/shapeinfo/IMM/ShapeInfo.txt&quot; -d &quot;IMM&quot; -c 1 -t &quot;SM&quot; -l 4 -p 0.95</span><br><span class="line">$ testsmbuilding -o &quot;./output&quot; -a &quot;./annotations/training/&quot; -i &quot;./images/training/&quot; -s &quot;../VOSM/shapeinfo/IMM/ShapeInfo.txt&quot; -d &quot;IMM&quot; -c 1 -t &quot;TM&quot; -l 4 -p 0.95</span><br><span class="line">$ testsmbuilding -o &quot;./output&quot; -a &quot;./annotations/training/&quot; -i &quot;./images/training/&quot; -s &quot;../VOSM/shapeinfo/IMM/ShapeInfo.txt&quot; -d &quot;IMM&quot; -c 1 -t &quot;AM&quot; -l 4 -p 0.95</span><br><span class="line">$ testsmbuilding -o &quot;./output&quot; -a &quot;./annotations/training/&quot; -i &quot;./images/training/&quot; -s &quot;../VOSM/shapeinfo/IMM/ShapeInfo.txt&quot; -d &quot;IMM&quot; -c 1 -t &quot;IA&quot; -l 4 -p 0.95</span><br><span class="line">$ testsmbuilding -o &quot;./output&quot; -a &quot;./annotations/training/&quot; -i &quot;./images/training/&quot; -s &quot;../VOSM/shapeinfo/IMM/ShapeInfo.txt&quot; -d &quot;IMM&quot; -c 1 -t &quot;FM&quot; -l 4 -p 0.95</span><br><span class="line">$ testsmbuilding -o &quot;./output&quot; -a &quot;./annotations/training/&quot; -i &quot;./images/training/&quot; -s &quot;../VOSM/shapeinfo/IMM/ShapeInfo.txt&quot; -d &quot;IMM&quot; -c 1 -t &quot;SMLTC&quot; -l 4 -p 0.95</span><br><span class="line">$ testsmbuilding -o &quot;./output&quot; -a &quot;./annotations/training/&quot; -i &quot;./images/training/&quot; -s &quot;../VOSM/shapeinfo/IMM/ShapeInfo.txt&quot; -d &quot;IMM&quot; -c 1 -t &quot;SMNDPROFILE&quot; -l 4 -p 0.95</span><br></pre></td></tr></table></figure>
<h2 id="output-folders">1.2 Output Folders</h2>
<p>After these 7 commands, 9 folders will be generated:</p>
<ul>
<li>Point2DDistributionModel</li>
<li>ShapeModel</li>
<li>TextureModel</li>
<li>AppearanceModel</li>
<li>AAMICIA</li>
<li>AFM</li>
<li>AXM</li>
<li>ASMLTCs</li>
<li>ASMNDProfiles</li>
</ul>
<h2 id="output-images">1.3 Output Images</h2>
<p>Under folder <strong>TextureModel</strong>, 3 key images are
generated:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Reference.jpg</th>
<th style="text-align: center;">edges.jpg</th>
<th style="text-align: center;">ellipses.jpg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/TextureModel/Reference.jpg"
alt="Reference.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/TextureModel/edges.jpg"
alt="edges.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/TextureModel/ellipses.jpg"
alt="ellipses" /></td>
</tr>
</tbody>
</table>
<p>Under folder <strong>AAMICIA</strong>, another 3 key images are
generated:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">m_IplImageTempFace.jpg</th>
<th style="text-align: center;">m_IplImageTempFaceX.jpg</th>
<th style="text-align: center;">m_IplImageTempFaceY.jpg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/AAMICIA/m_IplImageTempFace.jpg"
alt="m_IplImageTempFace.jpg - same as Reference.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/AAMICIA/m_IplImageTempFaceX.jpg"
alt="m_IplImageTempFaceX.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/AAMICIA/m_IplImageTempFaceY.jpg"
alt="m_IplImageTempFaceY.jpg" /></td>
</tr>
</tbody>
</table>
<h1 id="fitting">2. Fitting</h1>
<h2 id="fitting-commands">2.1 Fitting Commands</h2>
<p>Current <a target="_blank" rel="noopener" href="https://github.com/jiapei100/VOSM/releases">VOSM</a>
supports 5 fitting methods.</p>
<ul>
<li>ASM_PROFILEND</li>
<li>ASM_LTC</li>
<li>AAM_BASIC</li>
<li>AAM_CMUICIA</li>
<li>AAM_IAIA</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ testsmfitting -o &quot;./output/&quot; -t &quot;ASM_PROFILEND&quot; -i &quot;./images/testing/&quot; -a &quot;./annotations/testing/&quot; -d &quot;IMM&quot; -s true -r true</span><br><span class="line">$ testsmfitting -o &quot;./output/&quot; -t &quot;ASM_LTC&quot; -i &quot;./images/testing/&quot; -a &quot;./annotations/testing/&quot; -d &quot;IMM&quot; -s true -r true</span><br><span class="line">$ testsmfitting -o &quot;./output/&quot; -t &quot;AAM_BASIC&quot; -i &quot;./images/testing/&quot; -a &quot;./annotations/testing/&quot; -d &quot;IMM&quot; -s true -r true</span><br><span class="line">$ testsmfitting -o &quot;./output/&quot; -t &quot;AAM_CMUICIA&quot; -i &quot;./images/testing/&quot; -a &quot;./annotations/testing/&quot; -d &quot;IMM&quot; -s true -r true</span><br><span class="line">$ testsmfitting -o &quot;./output/&quot; -t &quot;AAM_IAIA&quot; -i &quot;./images/testing/&quot; -a &quot;./annotations/testing/&quot; -d &quot;IMM&quot; -s true -r true</span><br></pre></td></tr></table></figure>
<h2 id="fitting-results">2.2 Fitting Results</h2>
<p>Let's just take <strong>ASM_PROFILEND</strong> as an example.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ testsmfitting -o &quot;./output/&quot; -t &quot;ASM_PROFILEND&quot; -i &quot;./images/testing/&quot; -a &quot;./annotations/testing/&quot; -d &quot;IMM&quot; -s true -r true</span><br></pre></td></tr></table></figure>
<p>All fitted images are generated under current folder, some are well
fitted:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">11-1m.jpg</th>
<th style="text-align: center;">33-4m.jpg</th>
<th style="text-align: center;">40-6m.jpg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/WellFitted/11-1m.jpg"
alt="11-1m.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/WellFitted/33-4m.jpg"
alt="33-4m.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/WellFitted/40-6m.jpg"
alt="40-6m" /></td>
</tr>
</tbody>
</table>
<p>others are <strong>NOT</strong> well fitted:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">12-3f.jpg</th>
<th style="text-align: center;">20-6m.jpg</th>
<th style="text-align: center;">23-4m.jpg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/NOTWellFitted/12-3f.jpg"
alt="12-3f.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/NOTWellFitted/20-6m.jpg"
alt="20-6m.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/NOTWellFitted/23-4m.jpg"
alt="23-4m" /></td>
</tr>
</tbody>
</table>
<h2 id="process-of-fitting">2.3 Process of Fitting</h2>
<p>The fitting process can also be recorded for each image if the
parameter "-r" is enabled by <code>-r true</code>. Let's take a look at
what's in folder <strong>40-6m</strong>.</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">00.jpg</th>
<th style="text-align: center;">01.jpg</th>
<th style="text-align: center;">02.jpg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/00.jpg"
alt="00.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/01.jpg"
alt="01.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/02.jpg"
alt="02.jpg" /></td>
</tr>
<tr class="even">
<td style="text-align: center;">03.jpg</td>
<td style="text-align: center;">04.jpg</td>
<td style="text-align: center;">05.jpg</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/03.jpg"
alt="03.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/04.jpg"
alt="04.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/05.jpg"
alt="05.jpg" /></td>
</tr>
<tr class="even">
<td style="text-align: center;">06.jpg</td>
<td style="text-align: center;">07.jpg</td>
<td style="text-align: center;">08.jpg</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/06.jpg"
alt="06.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/07.jpg"
alt="07.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/08.jpg"
alt="08.jpg" /></td>
</tr>
<tr class="even">
<td style="text-align: center;">09.jpg</td>
<td style="text-align: center;">10.jpg</td>
<td style="text-align: center;">11.jpg</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/09.jpg"
alt="09.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/10.jpg"
alt="10.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/11.jpg"
alt="11.jpg" /></td>
</tr>
<tr class="even">
<td style="text-align: center;">09.jpg</td>
<td style="text-align: center;">10.jpg</td>
<td style="text-align: center;">11.jpg</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/12.jpg"
alt="12.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/13.jpg"
alt="13.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/14.jpg"
alt="14.jpg" /></td>
</tr>
<tr class="even">
<td style="text-align: center;">15.jpg</td>
<td style="text-align: center;">16.jpg</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/15.jpg"
alt="15.jpg" /></td>
<td style="text-align: center;"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/vosm/IMM/FittingResults/40-6m/16.jpg"
alt="16.jpg" /></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>Clearly, the <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Pyramid_%28image_processing%29">technology
of pyramids</a> is adopted during the fitting process.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/06/22/Tools/download-youtube-videos/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/06/22/Tools/download-youtube-videos/" class="post-title-link" itemprop="url">Use VLC To Download Youtube Videos</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-06-22 00:00:00" itemprop="dateCreated datePublished" datetime="2018-06-22T00:00:00-07:00">2018-06-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tools/" itemprop="url" rel="index"><span itemprop="name">Tools</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>To download videos from <a
target="_blank" rel="noopener" href="https://www.youtube.com/">Youtube</a> is sometimes
<strong>required</strong>. Some Chrome plugins can be used to download
Youtube videos, such as: <a
target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/youtube-downloader/glpiomfohibbgeedfmcnahlanpehojdd">Youtube
Downloader</a>. Other methods can also be found on various resources,
such as: <a
target="_blank" rel="noopener" href="https://www.wikihow.com/Download-YouTube-Videos">WikiHow</a>.</p>
<p>In this blog, I'm going to <strong>cite (copy and paste)</strong>
from <a
target="_blank" rel="noopener" href="https://www.wikihow.com/Download-YouTube-Videos">WikiHow</a> about
<strong>How to download Youtube videos by using VLC</strong>.</p>
<h1 id="step1-copy-youtube-url">STEP1: Copy Youtube URL</h1>
<p>Find the Youtube video that you would like to download, and copy the
Youtube URL.</p>
<h1 id="step-2-broadcast-youtube-video-in-vlc">STEP 2: Broadcast Youtube
Video in VLC</h1>
<p>Paste the URL under <strong>VLC Media
Player</strong>-&gt;<strong>Media</strong>-&gt;<strong>Open Network
Stream</strong>-&gt;<strong>Network Tab</strong>-&gt;<strong>Please
enter a network URL:</strong>, and <strong>Play</strong>:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Tools/youtube/Broadcasting.jpg"
alt="Video Broadcasting" />
<figcaption aria-hidden="true">Video Broadcasting</figcaption>
</figure>
<h1 id="step-3-get-the-real-location-of-youtube-video">STEP 3: Get the
Real Location of Youtube Video</h1>
<p>Then, copy the URL under <strong>Tools</strong>-&gt;<strong>Codec
Information</strong>-&gt;<strong>Codec</strong>-&gt;<strong>Location</strong>:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Tools/youtube/CurrentMediaInformation.jpg"
alt="Current Media Information" />
<figcaption aria-hidden="true">Current Media Information</figcaption>
</figure>
<h1 id="step-4-save-video-as">STEP 4: Save Video As</h1>
<p>Finally, paste the URL in Chrome:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Tools/youtube/SaveVideoAs.jpg"
alt="Save Video As" />
<figcaption aria-hidden="true">Save Video As</figcaption>
</figure>
<p>and <strong>Save video as...</strong>.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/06/22/Tools/irc-via-weechat-in-Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/06/22/Tools/irc-via-weechat-in-Linux/" class="post-title-link" itemprop="url">IRC Via WeeChat in Linux</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-06-22 00:00:00" itemprop="dateCreated datePublished" datetime="2018-06-22T00:00:00-07:00">2018-06-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tools/" itemprop="url" rel="index"><span itemprop="name">Tools</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="irc-and-freenode">1. IRC and Freenode</h1>
<p>People have been using <a
target="_blank" rel="noopener" href="https://whatis.techtarget.com/definition/Internet-Relay-Chat-IRC">IRC</a>
for decades.</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://freenode.net/">Freenode</a> is an <a
target="_blank" rel="noopener" href="https://whatis.techtarget.com/definition/Internet-Relay-Chat-IRC">IRC</a>
network used to discuss peer-directed projects.</p>
</blockquote>
<p>cited from <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Freenode">Wikipedia</a>.</p>
<p>It's recommended to have some background about <strong>IRC</strong>
and <strong>Freenode</strong> on Wikipedia:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Wikipedia:IRC/Tutorial">IRC
Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Freenode">Freenode</a></li>
</ul>
<h1 id="popular-irc-clients">2. Popular IRC Clients</h1>
<p>Lots of IRC clients can be found on Google. Here, we just summarize
some from <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Wikipedia:IRC/Tutorial">IRC
Wikipedia</a>:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://webchat.freenode.net/">freenode official
webchat</a></li>
<li><a target="_blank" rel="noopener" href="https://kiwiirc.com/">KiwiIRC</a></li>
<li><a target="_blank" rel="noopener" href="https://www.irccloud.com/">IRCCloud</a></li>
<li><a target="_blank" rel="noopener" href="https://qwebirc.org/">qwebirc</a></li>
<li><a target="_blank" rel="noopener" href="http://cgiirc.org/">CGI:IRC</a></li>
</ul>
<h1 id="best-irc-clients-for-linux">3. 7 Best IRC Clients for Linux</h1>
<p>Please just refer to <a
target="_blank" rel="noopener" href="https://www.tecmint.com/best-irc-clients-for-linux/">https://www.tecmint.com/best-irc-clients-for-linux/</a>.</p>
<h1 id="weechat-in-linux">4. WeeChat in Linux</h1>
<h2 id="installation">4.1 Installation</h2>
<p>We can of course directly download the package from <a
target="_blank" rel="noopener" href="https://weechat.org/download/">WeeChat Download</a>, and have it
installed from source. However, installing WeeChat from repository <a
target="_blank" rel="noopener" href="http://tipsonubuntu.com/2017/07/07/install-latest-WeeChat-chat-client-ubuntu/">is
recommended</a>.</p>
<h3 id="step-1-add-the-weechat-repository">Step 1: Add the WeeChat
repository</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo sh -c &#x27;echo &quot;deb https://weechat.org/ubuntu $(lsb_release -cs) main&quot; &gt;&gt; /etc/apt/sources.list.d/WeeChat.list&#x27;</span><br></pre></td></tr></table></figure>
<h3 id="step-2-add-weechat-repository-key">Step 2: Add WeeChat
repository key</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-key adv --keyserver keys.gnupg.net --recv-keys 11E9DE8848F2B65222AA75B8D1820DB22A11534E</span><br></pre></td></tr></table></figure>
<h3 id="step-3-weechat-installation">Step 3: WeeChat Installation</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt update</span><br><span class="line">$ sudo apt install WeeChat</span><br></pre></td></tr></table></figure>
<h2 id="how-to-use-weechat">4.2 How to use WeeChat</h2>
<p>Refer to <a
target="_blank" rel="noopener" href="https://weechat.org/files/doc/devel/weechat_quickstart.en.html">WeeChat
Official Documentation</a>.</p>
<h3 id="step-1-run-weechat">Step 1: Run WeeChat</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ weechat</span><br></pre></td></tr></table></figure>
<p>will display:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/weechat/01_weechat.jpg"
alt="WeeChat" />
<figcaption aria-hidden="true">WeeChat</figcaption>
</figure>
<p>And we <strong>FIRST</strong> type in /<em>help</em></p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/weechat/02_help.jpg"
alt="WeeChat" />
<figcaption aria-hidden="true">WeeChat</figcaption>
</figure>
<h3 id="step-2-connect-freenode">Step 2: Connect Freenode</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/connect freenode</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/weechat/03_connectfreenode.jpg"
alt="WeeChat" />
<figcaption aria-hidden="true">WeeChat</figcaption>
</figure>
<h3 id="step-3-join-a-channel">Step 3: Join a Channel</h3>
<p>Here, we select channel <strong>OpenCV</strong> as an example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/join #opencv</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/weechat/04_join_opencv.jpg"
alt="WeeChat" />
<figcaption aria-hidden="true">WeeChat</figcaption>
</figure>
<h3 id="step-4-close-a-channel">Step 4: Close a Channel</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/close</span><br></pre></td></tr></table></figure>
<h1 id="pidgin-optional">5. Pidgin (Optional)</h1>
<p>We're <strong>NOT</strong> going to talk about it in this blog.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/06/19/IoT/motion-configuration/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/06/19/IoT/motion-configuration/" class="post-title-link" itemprop="url">Video Surveillance With Motion</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-06-19 00:00:00" itemprop="dateCreated datePublished" datetime="2018-06-19T00:00:00-07:00">2018-06-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/IOT/" itemprop="url" rel="index"><span itemprop="name">IOT</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>To DIY a home security camera is comparatively simple by using a
low-cost embedded board with Linux installed. There are <strong>ONLY 3
steps </strong> in total.</p>
<h1 id="step1-install-motion-from-repository">STEP1: Install MOTION from
Repository</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install motion</span><br></pre></td></tr></table></figure>
<h1 id="step-2-start_motion_daemonyes">STEP 2:
start_motion_daemon=yes</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vim /etc/default/motion</span><br></pre></td></tr></table></figure>
<p>Change <strong>start_motion_daemon</strong> from <strong>no</strong>
to <strong>yes</strong>.</p>
<h1 id="step-3-stream_localhost-off">STEP 3: stream_localhost off</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vim /etc/motion/motion.conf</span><br></pre></td></tr></table></figure>
<p>Change <strong>stream_localhost on</strong> to
<strong>stream_localhost off</strong>.</p>
<h1 id="step-4-restart-motion-service">STEP 4: Restart Motion
Service</h1>
<p>Run the following command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo /etc/init.d/motion restart</span><br></pre></td></tr></table></figure>
<h1 id="step-5-run-motion">STEP 5: Run Motion</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo motion</span><br></pre></td></tr></table></figure>
<h1 id="step-6-video-surveillance-remotely">STEP 6: Video Surveillance
Remotely</h1>
<p>Open up Chrome and type in the <strong>IP address:8081</strong> to
show the captured video at 1FPS. In my case,
<strong>192.168.0.86:8081</strong>, and the video effect is as:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/vision/motion/motion_video.jpg"
alt="Motion Video Surveillance" />
<figcaption aria-hidden="true">Motion Video Surveillance</figcaption>
</figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/04/01/AI/DeepLearning/CNN-by-PyTorch-via-Anaconda/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/04/01/AI/DeepLearning/CNN-by-PyTorch-via-Anaconda/" class="post-title-link" itemprop="url">CNN by PyTorch via Anaconda</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-04-01 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-01T00:00:00-07:00">2018-04-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-01 01:47:29" itemprop="dateModified" datetime="2024-05-01T01:47:29-07:00">2024-05-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/" itemprop="url" rel="index"><span itemprop="name">AI</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI/DeepLearning/" itemprop="url" rel="index"><span itemprop="name">DeepLearning</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Finally, I’ve got some time to write something about <a
target="_blank" rel="noopener" href="http://pytorch.org/">PyTorch</a>, a popular deep learning tool. We
suppose you have had fundamental understanding of <a
target="_blank" rel="noopener" href="https://anaconda.org/">Anaconda Python</a>, created Anaconda
virtual environment (in my case, it’s named condaenv), and had <a
target="_blank" rel="noopener" href="http://pytorch.org/">PyTorch</a> installed successfully under this
Anaconda virtual environment <strong>condaenv</strong>.</p>
<p>Since I’m using <a target="_blank" rel="noopener" href="https://code.visualstudio.com/">Visual
Studio Code</a> to test my Python code (of course, you can use whichever
coding tool you like), I suppose you’ve already had your own coding tool
configured. Now, you are ready to go!</p>
<p>In my case, I’m giving a tutorial, instead of coding by myself.
Therefore, <a target="_blank" rel="noopener" href="http://jupyter.org/">Jupyter Notebook</a> is
selected as my presentation tool. So, I’ll demonstrate everything both
in .py files, as well as .ipynb files. All codes can be found at <a
target="_blank" rel="noopener" href="https://github.com/LongerVision/PyTorch_Examples">Longer Vision
PyTorch_Examples</a>. However, <strong>ONLY</strong> <a
target="_blank" rel="noopener" href="http://jupyter.org/">Jupyter Notebook</a> presentation is given in
my blogs. Therefore, I suppose you’ve already successfully installed <a
target="_blank" rel="noopener" href="http://jupyter.org/">Jupyter Notebook</a>, as well as any other
required packages under your Anaconda virtual environment
<strong>condaenv</strong>.</p>
<p>Now, let’s pop up <a target="_blank" rel="noopener" href="http://jupyter.org/">Jupyter Notebook</a>
server.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/PyTorch/00_AnacondaVirtualEnv4Python.jpg"
alt="Anaconda Python Virtual Environment" />
<figcaption aria-hidden="true">Anaconda Python Virtual
Environment</figcaption>
</figure>
<p>Clearly, Anaconda comes with the <strong>NEWEST</strong> version. So
far, it is <strong>Python 3.6.4</strong>.</p>
<h1 id="part-a-hello-pytorch">PART A: Hello PyTorch</h1>
<p>Our very <strong>FIRST</strong> test code is of only 6 lines
including an empty line:</p>
<iframe src="https://nbviewer.org/github/LongerVision/Resource/blob/master/AI/DeepLearning/CNN-by-PyTorch-via-Anaconda/00_HelloPyTorch.ipynb" width="800" height="400">
</iframe>
<p>After popping up <a target="_blank" rel="noopener" href="http://jupyter.org/">Jupyter Notebook</a>
server, and click <strong>Run</strong>, you will see this view:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/AI/PyTorch/00_HelloPyTorch.jpg"
alt="Jupyter Notebook Hello PyTorch" />
<figcaption aria-hidden="true">Jupyter Notebook Hello
PyTorch</figcaption>
</figure>
<p>Clearly, the current <strong>torch</strong> is of version
<strong>0.3.1</strong>, and <strong>torchvision</strong> is of version
<strong>0.2.0</strong>.</p>
<h1 id="part-b-convolutional-neural-network-in-pytorch">PART B:
Convolutional Neural Network in PyTorch</h1>
<h2 id="general-concepts">1. General Concepts</h2>
<h3 id="online-resource">1) Online Resource</h3>
<p>We are <strong>NOT</strong> going to discuss the background details
of Convolutional Neural Network. A lot online frameworks/courses are
available for you to catch up:</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://cs231n.stanford.edu/">CS231n</a></li>
<li><a target="_blank" rel="noopener" href="https://caffe2.ai/">Caffe2</a></li>
<li><a target="_blank" rel="noopener" href="https://mxnet.apache.org/">MXNet</a></li>
<li><a
target="_blank" rel="noopener" href="https://cs.stanford.edu/people/karpathy/convnetjs/?spm=5176.100239.blogcont43089.256.HCgoHQ">ConvNetJS</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tensorflow.org/">TensorFlow</a></li>
<li><a target="_blank" rel="noopener" href="https://openai.com/">OpenAI</a></li>
<li>…</li>
</ul>
<p>Several fabulous blogs are strongly recommended, including:</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://brohrer.github.io/how_convolutional_neural_networks_work.html">How
do Convolutional Neural Networks work?</a></li>
<li><a target="_blank" rel="noopener" href="http://karpathy.github.io/">Andrej Karpathy blog</a></li>
<li><a target="_blank" rel="noopener" href="http://colah.github.io/">colah’s blog</a></li>
<li><a target="_blank" rel="noopener" href="http://eric-yuan.me/">Eric Yuan’s Blog</a></li>
<li>…</li>
</ul>
<h3 id="architecture">2) Architecture</h3>
<p>One picture for all (cited from <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Convolutional_neural_network">Convolutional
Neural Network</a> )</p>
<figure>
<img
src="https://upload.wikimedia.org/wikipedia/commons/6/63/Typical_cnn.png"
alt="Typical Convolutional Neural Network Architecture" />
<figcaption aria-hidden="true">Typical Convolutional Neural Network
Architecture</figcaption>
</figure>
<h3 id="back-propagation-bp">3) Back Propagation (BP)</h3>
<p>The <strong>ONLY</strong> concept in <strong>CNN</strong> we want to
emphasize here is <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Backpropagation">Back
Propagation</a>, which has been widely used in traditional neural
networks, which takes the solution similar to the final <strong>Fully
Connected Layer</strong> of CNN. You are welcome to get some more
details from <a
target="_blank" rel="noopener" href="https://brilliant.org/wiki/backpropagation/">https://brilliant.org/wiki/backpropagation/</a>.</p>
<h4 id="pre-defined-variables">Pre-defined Variables</h4>
<h5 id="training-database">Training Database</h5>
<ul>
<li><span
class="math inline">\(X={(\vec{x_1},\vec{y_1}),(\vec{x_2},\vec{y_2}),…,(\vec{x_N},\vec{y_N})}\)</span>:
the training dataset <span class="math inline">\(X\)</span> is composed
of <span class="math inline">\(N\)</span> pairs of training samples,
where <span class="math inline">\((\vec{x_i},\vec{y_i}),1 \le i \le
N\)</span></li>
<li><span class="math inline">\((\vec{x_i},\vec{y_i}),1 \le i \le
N\)</span>: the <span class="math inline">\(i\)</span>th training sample
pair</li>
<li><span class="math inline">\(\vec{x_i}\)</span>: the <span
class="math inline">\(i\)</span>th input vector (can be an original
image, can also be a vector of extracted features, etc.)</li>
<li><span class="math inline">\(\vec{y_i}\)</span>: the <span
class="math inline">\(i\)</span>th desired output vector (can be a <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/One-hot">one-hot</a> vector, can
also be a scalar, which is a 1-element vector)</li>
<li><span class="math inline">\(\hat{\vec{y_i} }\)</span>: the <span
class="math inline">\(i\)</span>th output vector from the nerual network
by using the <span class="math inline">\(i\)</span>th input vector <span
class="math inline">\(\vec{x_i}\)</span></li>
<li><span class="math inline">\(N\)</span>: size of dataset, namely, how
many training samples</li>
<li><span class="math inline">\(w_{ij}^k\)</span>: in the neural
network’s architecture, at level <span class="math inline">\(k\)</span>,
the weight of the node connecting the <span
class="math inline">\(i\)</span>th input and the <span
class="math inline">\(j\)</span>th output</li>
<li><span class="math inline">\(\theta\)</span>: a generalized denotion
for any parameter inside the neural networks, which can be looked on as
any element from a set of <span
class="math inline">\(w_{ij}^k\)</span>.</li>
</ul>
<h5 id="evaluation-function">Evaluation Function</h5>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Mean_squared_error">Mean
squared error (MSE)</a>: <span class="math display">\[E(X, \theta) =
\frac{1}{2N} \sum_{i=1}^N \left(||\hat{\vec{y_i} } -
\vec{y_i}||\right)^2\]</span></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cross_entropy">Cross
entropy</a>: <span class="math display">\[E(X, prob) = - \frac{1}{N}
\sum_{i=1}^N log_2\left({prob(\vec{y_i})}\right)\]</span></li>
</ul>
<p>Particularly, for binary classification, <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Logistic_regression">logistic
regression</a> is often adopted. A <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Logistic_function">logistic
function</a> is defined as:</p>
<p><span class="math display">\[f(x)=\frac{1}{(1+e^{-x})}\]</span></p>
<p>In such a case, the loss function can easily be deducted as:</p>
<p><span class="math display">\[E(X,W) = - \frac{1}{N} \sum_{i=1}^N [y_i
log({\hat{y_i} })+(1-y_i)log(1-\hat{y_i})]\]</span></p>
<p>where</p>
<p><span class="math display">\[y_i=0/1\]</span></p>
<p><span class="math display">\[\hat{y_i} \equiv g(\vec{w} \cdot
\vec{x_i}) = \frac{1}{(1+e^{-\vec{w} \cdot \vec{x_i} })}\]</span></p>
<p>Some PyTorch explaination can be found at <a
target="_blank" rel="noopener" href="http://pytorch.org/docs/master/nn.html#crossentropyloss">torch.nn.CrossEntropyLoss</a>.</p>
<h4 id="bp-deduction-conclusions">BP Deduction Conclusions</h4>
<p>Only <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Mean_squared_error">MSE</a> is
considered here (Please refer to <a
target="_blank" rel="noopener" href="https://brilliant.org/wiki/backpropagation/">https://brilliant.org/wiki/backpropagation/</a>):</p>
<p><span class="math display">\[
\frac {\partial {E(X,\theta)} } {\partial w_{ij}^k} = \frac {1}{N}
\sum_{d=1}^N \frac {\partial}{\partial w_{ij}^k} \Big( {\frac{1}{2}
(\vec{y_d}-y_d)^2 } \Big) = \frac{1}{N} \sum_{d=1}^N {\frac{\partial
E_d}{\partial w_{ij}^k} }
\]</span></p>
<p>The updating weights is also determined as:</p>
<p><span class="math display">\[
\Delta w_{ij}^k = - \alpha \frac {\partial {E(X,\theta)} } {\partial
w_{ij}^k}
\]</span></p>
<h2 id="pytorch-implementation-of-canonical-cnn">2. PyTorch
Implementation of Canonical CNN</h2>
<iframe src="https://nbviewer.org/github/LongerVision/Resource/blob/master/AI/DeepLearning/CNN-by-PyTorch-via-Anaconda/01_PyTorch_CNN_MNIST.ipynb" width="800" height="600">
</iframe>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/03/02/IoT/setup-repeater-bridge-using-a-dd-wrt-router/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/03/02/IoT/setup-repeater-bridge-using-a-dd-wrt-router/" class="post-title-link" itemprop="url">Setup Repeater Bridge Using A dd-wrt Router</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-03-02 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-02T00:00:00-08:00">2018-03-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/IOT/" itemprop="url" rel="index"><span itemprop="name">IOT</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Hi, today, I'm going to revisit a very old topic, <strong>Setup
Repeater Bridge Using A dd-wrt Router</strong>. This reminds me of my
<strong>FIRST</strong> startup <a target="_blank" rel="noopener" href="http://visionmisc.com/">Misc
Vision</a> that used to resell <a target="_blank" rel="noopener" href="https://foscam.com/">Foscam home
security IP cameras</a>. That is a long story. Anyway, this blog is
going to heavily cite the contents on <a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Repeater_Bridge">this
page</a>.</p>
<h1 id="part-a-flash-a-supported-router-with-dd-wrt-firmware">PART A:
Flash A Supported Router with DD-WRT Firmware</h1>
<p>Before we start to tackle <strong>the problem</strong>, the open
source firmware <a target="_blank" rel="noopener" href="https://www.dd-wrt.com/">DD-WRT</a> is strongly
recommended to flash your router.</p>
<h2 id="dd-wrt-and-openwrt">1. DD-WRT and OpenWRT</h2>
<p>Two widely used open source router firmware have been published
online for quite a bit of time: <a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/">DD-WRT</a>, <a
target="_blank" rel="noopener" href="https://openwrt.org/">OpenWRT</a> In fact, each of these two are
OK for router firmware flashing.</p>
<h2 id="dd-wrt-supported-routers">2. DD-WRT Supported Routers</h2>
<p>To check if your router is supported by <a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/">DD-WRT</a>, you need to check <a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/site/support/router-database">this
page</a>.</p>
<h2 id="dd-wrt-sl-r7202">3. DD-WRT SL-R7202</h2>
<p>In my case, I got a lot of such routers in hand and am selling them
on <a
target="_blank" rel="noopener" href="https://vancouver.craigslist.ca/rds/sop/d/brandnew-300m-dd-wrt-router/6516713575.html">Craigslist</a>
(if anybody is interested in it, please let me know). You can also find
some either <strong>continued</strong> or <strong>discontinued</strong>
such products on the market, such as <a
target="_blank" rel="noopener" href="https://www.gearbest.com/network-devices/pp_65336.html">Gearbest</a>.</p>
<p>DD-WRT SL-R7202 looks good:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/miscvision/mv-7202_top.jpg"
alt="DD-WRT SL-R7202 Top" />
<figcaption aria-hidden="true">DD-WRT SL-R7202 Top</figcaption>
</figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/miscvision/mv-7202_palmsize_01.jpg"
alt="DD-WRT SL-R7202 Size" />
<figcaption aria-hidden="true">DD-WRT SL-R7202 Size</figcaption>
</figure>
<p><strong>In one word, find some DD-WRT supported router, and have it
successfully flashed FIRST</strong>. As a lazy man, I'm
<strong>NOT</strong> going to flash anything but just use a router
coming with an existing DD-WRT firmware, namely, <strong>DD-WRT
SL-R7202</strong>.</p>
<h1 id="part-b-the-problem">PART B: The Problem</h1>
<p>The problem that we are going to deal with is how to connect multiple
routers, so that the Internet range can be expanded. For routers with
dd-wrt firmware, there are mulitple ways to connect routers, please
refer to <a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Linking_Routers">https://www.dd-wrt.com/wiki/index.php/Linking_Routers</a>.</p>
<h2 id="linking-routers">1. Linking Routers</h2>
<p>In the following, most contents are <strong>CITED</strong> directly
from <a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Linking_Routers">Linking
Routers</a> and its extended webpages.</p>
<ul>
<li><p><strong>Access Point / Switch</strong> - Extend the Wireless
access area using more routers, with <strong>WIRED</strong> connections
between routers, or turn a <strong>WIRED</strong> port on an existing
network into a Wireless Access Point. All computers will be on the same
network segment, and will be able to see one another in Windows Network.
This works with all devices with LAN ports, and does not require dd-wrt
to be installed. "</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Wireless_access_point">Wireless
Access Point</a> - Extend Wi-Fi &amp; LAN (Requires physical(just
<strong>WIRED</strong>) ethernet connection between routers)</li>
<li><a target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Switch">Switch</a> -
Similar config as WAP, but radio disabled (accepts only
<strong>WIRED</strong> connections)</li>
</ul></li>
</ul>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/Access_point.jpg"
alt="DD-WRT Access Point Mode" />
<figcaption aria-hidden="true">DD-WRT Access Point Mode</figcaption>
</figure>
<ul>
<li><p><strong>Repeater / Repeater Bridge</strong> - Extend the Wireless
access area using a second router <strong>WIRELESSLY</strong> connected
to the primary. The secondary router must have dd-wrt installed; the
primary does not need dd-wrt.</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Repeater_Bridge">Repeater
Bridge</a> - A wireless repeater with DHCP &amp; NAT disabled, clients
on same subnet as host AP (primary router). That is, all computers can
see one another in Windows Network.</li>
<li><a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Wlan_Repeater">Repeater</a>
- A wireless repeater with DHCP &amp; NAT enabled, clients on different
subnet from host AP (primary router). Computers connected to one router
can not see computers connected to other routers in Windows
Network.</li>
<li><a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Universal_Wireless_Repeater">Universal
Wireless Repeater</a> - Uses a program/script called AutoAP to keep a
connection to the nearest/best host AP.</li>
</ul></li>
</ul>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/Repeater_Bridge.jpg"
alt="DD-WRT Repeater Bridge Mode" />
<figcaption aria-hidden="true">DD-WRT Repeater Bridge Mode</figcaption>
</figure>
<ul>
<li><p><strong>Client / Client Bridge</strong> - Connect two wired
networks using a WiFi link (WIRELESS connection between two routers).
The secondary router must have dd-wrt installed; the primary router does
not need to have dd-wrt.</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Client_Bridged">Client
Bridged</a> - Join two wired networks by two Wireless routers building a
bridge. All computers can see one another in Windows Network.</li>
<li><a target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Client_Mode">Client
Mode</a> - Join two wired networks by two Wireless routers (unbridged).
Computers on one wired network can not see computers on other wired
network in Windows Network.</li>
</ul></li>
</ul>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/Client_Bridge.jpg"
alt="DD-WRT Client Bridge Mode" />
<figcaption aria-hidden="true">DD-WRT Client Bridge Mode</figcaption>
</figure>
<ul>
<li><p><strong>WDS</strong> - Extend the Wireless access area using more
routers connected WIRELESSLY. WDS is a mesh network. Routers must almost
always have the SAME chipset type for WDS to work, and any non dd-wrt
routers must be WDS compatible. Using identical routers is best, but not
always necessary if all devices have the same chipset types. (All
Broadcom or all Atheros etc)</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/WDS_Linked_router_network">WDS
Linked router network</a></li>
</ul></li>
<li><p><strong>OLSR</strong> - Extend the Wireless access area using
more routers. Extra routers do not need any wired connections to each
other. Use several ISP (Internet) connections. OLSR is a mesh
network.</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Mesh_Networking_with_OLSR">Mesh
Networking with OLSR</a></li>
<li><a
target="_blank" rel="noopener" href="http://dev.wifidog.org/wiki/doc/gateway-server/WifiDogAndOlsr%7CWifiDog">+
OLSR</a></li>
</ul></li>
</ul>
<h2 id="down-to-earth-case">2. Down-to-earth Case</h2>
<p>In my case, my laptop and some of my IoT devices can be easily
connected to the <a target="_blank" rel="noopener" href="https://www.shaw.ca/">ShawCable</a>
Modem/Router combo, which is on the <strong>2nd floor</strong> in my
living room and directly connected to the Internet. However, my R&amp;D
office is located in my garage on the <strong>1st floor</strong>, where
dd-wrt router is put in. In such a case, my dd-wrt router must be
connected to my <a target="_blank" rel="noopener" href="https://www.shaw.ca/">ShawCable</a>
Modem/Router <strong>WIRELESSLY</strong>.</p>
<p>Due to the reason explained in the section <strong>Difference between
Client Bridge and Repeater Bridge</strong>. A standard wireless bridge
(<strong>Client Bridge</strong>) connects wired clients to a secondary
router as if they were connected to your main router with a cable.
Secondary clients share the bandwidth of a wireless connection back to
your main router. Of course, you can still connect clients to your main
router using either a cable connection or a wireless connection.</p>
<blockquote>
<p>The <strong>limitation</strong> with standard bridging is that it
only allows <strong>WIRED</strong> clients to connect to your secondary
router. <strong>WIRELESS</strong> clients cannot connect to your
secondary router configured as a standard bridge. Repeater Bridge
<strong>allows both WIRELESS AND WIRED</strong> clients to connect to a
the <strong>Repeater Bridge</strong> router, and through that device
<strong>WIRELESSLY</strong> to a primary router. You can still use this
mode if you only need to bridge wired clients; the extra wireless
repeater capability comes along for free; however, you are not required
to use it.</p>
</blockquote>
<p>Therefore, we select <strong>Repeater Bridge</strong> as our
solution. Here, <strong>DD-WRT SL-R7202</strong> is selected as the
<strong>Repeater Bridge</strong>. The difficulty is <strong>how to setup
DD-WRT SL-R7202 to make it work as a wireless Repeater
Bridge</strong>?</p>
<h1 id="part-c-about-firmware-optional">PART C: About Firmware
(Optional)</h1>
<h2 id="do-we-need-firmware-upgrading">1. Do We Need Firmware
Upgrading?</h2>
<p>Actually, before I come to this step, I've already: * strictly
followed the configuration process written on <a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/wiki/index.php/Repeater_Bridge">https://www.dd-wrt.com/wiki/index.php/Repeater_Bridge</a>,
but <strong>FAILED</strong> many times. * and afterwards, I found a
video solution at https://www.youtube.com/watch?v=ByB8vVGBjh4, which
seems to be suitable for my case. However, it finally turns out that my
<strong>DD-WRT SL-R7202</strong> router comes with a firmware version
<strong>DD-WRT (build 13064)</strong>, but the tutorial on
<strong>Youtube</strong> uses a router with firmware version
<strong>DD-WRT (build 21061)</strong>.</p>
<p>It seems to me that a firmware upgrading is a must before we setup
the <strong>Wireless Repeater Bridge Mode</strong>. But,
<strong>How</strong>?</p>
<h2 id="reset-to-factory-defaults-on-dd-wrt-router-the-2nd-router">2.
Reset to Factory Defaults on DD-WRT Router (The 2nd Router)</h2>
<p>First of all, we need to reset DD-WRT. There is a black button on my
<strong>DD-WRT SL-R7202</strong>, as shown:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/miscvision/mv-7202_back.jpg"
alt="Reset Button at DD-WRT&#39;s Back" />
<figcaption aria-hidden="true">Reset Button at DD-WRT's
Back</figcaption>
</figure>
<p>In fact, how to reset <strong>DD-WRT</strong> needs to be paid
attention to. &gt; Hold the reset button until lights flash (10-30sec)
or 30-30-30 if appropriate for your router. (DO NOT 30-30-30 ARM
routers.)</p>
<h2 id="visit-http192.168.1.1">3. Visit http://192.168.1.1:</h2>
<p>After successfully reset DD-WRT router to factory default, connect it
with your host computer via a <strong>WIRED</strong> cable, for better
stablity. Then, we change our network connection from our <strong>FIRST
router</strong> to <strong>SECOND router: dd-wrt router</strong>.
Afterwards, let's visit http://192.168.1.1.</p>
<ul>
<li><strong>NOTE</strong>: My host computer's IP address on the
<strong>FIRST</strong> router, namely, <strong>ShawCable</strong>
Modem/Router is staticly set as <strong>192.168.0.8</strong> (which is
able to connect to the Internet). After I switch to the Wifi
<strong>dd-wrt</strong>, my host's IP is <strong>DHCP</strong> allocated
to <strong>192.168.1.103</strong>. The gateway on
<strong>ShawCable</strong> is <strong>192.168.0.1</strong>, which is
different from the gateway on <strong>dd-wrt 192.168.1.1</strong> by
default.</li>
</ul>
<h3 id="first-page">1) FIRST Page</h3>
<p>DD-WRT home page looks like:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/01_FirstLogin.jpg"
alt="DD-WRT First Login" />
<figcaption aria-hidden="true">DD-WRT First Login</figcaption>
</figure>
<p>And it's suggested we input a new router username
<strong>root</strong> and password <strong>admin</strong>. After the
button <strong>Change Password</strong> is clicked, we are entering the
very first page of DD-WRT Web GUI.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/02_FirstPage.jpg"
alt="DD-WRT First Page" />
<figcaption aria-hidden="true">DD-WRT First Page</figcaption>
</figure>
<ul>
<li>We can easily tell the firmware's info on the top right corner.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Firmware: DD-WRT v24-sp2 (10/10/09) std</span><br><span class="line">Time: 00:01:13 up 1 min, load average: 0.12, 0.04, 0.00</span><br><span class="line">WAN IP: 0.0.0.0</span><br></pre></td></tr></table></figure>
<ul>
<li>And, we can also easily tell from the bottom of this page that for
now, only 1 DHCP client is connected to this router, which is just our
host computer: <strong>jiapei-GT72-6QE</strong>.</li>
</ul>
<h3 id="system-info-on-status-page">2) System Info on Status Page</h3>
<p>DD-WRT Status page tells a lot about what's in this router:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/03_Status_BeforeUpgrading.jpg"
alt="DD-WRT Status - Before Upgrading" />
<figcaption aria-hidden="true">DD-WRT Status - Before
Upgrading</figcaption>
</figure>
<p>Clearly, our router model is <strong>Buffalo WHR-G300N</strong>, and
our firmware build version is <strong>13064</strong>.</p>
<h3 id="upgradable">3) Upgradable?</h3>
<p>We then visit <a
target="_blank" rel="noopener" href="https://www.dd-wrt.com/site/support/router-database">https://www.dd-wrt.com/site/support/router-database</a>,
and input <strong>WHR-G300N</strong>, two routers will be listed as:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/04_dd-wrt_WHR-G300N.jpg"
alt="DD-WRT WHR-G300N" />
<figcaption aria-hidden="true">DD-WRT WHR-G300N</figcaption>
</figure>
<p>By click the <strong>FIRST</strong> one, namely <strong>v1</strong>,
we get:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/05_dd-wrt_WHR-G300N_Firmware.jpg"
alt="DD-WRT WHR-G300N v1: from 13064 to 14896" />
<figcaption aria-hidden="true">DD-WRT WHR-G300N v1: from 13064 to
14896</figcaption>
</figure>
<p>Clearly, we should be able to upgrade from our current firmware
version <strong>13064</strong> to the newer one
<strong>14896</strong>.</p>
<p>With the existing firmware version <strong>13064</strong> installed
on the router <strong>SL-R7202</strong>, we can directly upgrade the
firmware through web flash by downloading the firmware
<strong>WHR-G300N-webflash.bin</strong>, but ignoring downloading all
<strong>TFTP</strong> and <strong>openvpn</strong> files.</p>
<h3 id="firmware-upgrading">4) Firmware Upgrading</h3>
<p>Just click <strong>Administration -&gt; Firmware Upgrade</strong>,
and then choose <strong>WHR-G300N-webflash.bin</strong>.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/06_Firmware_Upgrade.jpg"
alt="DD-WRT Administration - Firmware Upgrade" />
<figcaption aria-hidden="true">DD-WRT Administration - Firmware
Upgrade</figcaption>
</figure>
<p>After clicking <strong>Choose file</strong>, the system is
automatically upgraded after several minutes.</p>
<p><strong>NOTE: Do NOT touch anything during the upgrading
process.</strong></p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/07_Upgrade_Successful.jpg"
alt="DD-WRT Upgrade Successful" />
<figcaption aria-hidden="true">DD-WRT Upgrade Successful</figcaption>
</figure>
<p>After firmware upgrading, we can easily tell some difference: From
<strong>Setup Page</strong>, on the left-top corner, we can see the
builder version is now <strong>14896</strong>. And from the right-top
corner, the current firmware info is:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Firmware: DD-WRT v24-sp2 (08/07/10) std</span><br><span class="line">Time: 00:08:20 up 8 min, load average: 0.00, 0.02, 0.00</span><br><span class="line">WAN IP: 0.0.0.0</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/08_Setup_AfterUpgrading.jpg"
alt="DD-WRT Setup - Basic Setup" />
<figcaption aria-hidden="true">DD-WRT Setup - Basic Setup</figcaption>
</figure>
<p>From the <strong>Status Page</strong>, we can doublecheck the
firmware version is now <strong>14896</strong>.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/09_Status_AfterUpgrading.jpg"
alt="DD-WRT Status - After Upgrading" />
<figcaption aria-hidden="true">DD-WRT Status - After
Upgrading</figcaption>
</figure>
<h3 id="firmware-upgrading-is-problematic">5) Firmware Upgrading is
Problematic !</h3>
<p>However, upgrading the firmware version from <strong>13064</strong>
to the newer one <strong>14896</strong> is problematic, please refer to
<a
target="_blank" rel="noopener" href="https://jgiam.com/2012/07/06/setting-up-a-repeater-bridge-with-dd-wrt-and-d-link-dir-600">https://jgiam.com/2012/07/06/setting-up-a-repeater-bridge-with-dd-wrt-and-d-link-dir-600</a>.
After carefully reading this article, and due to my practical try later
on, I summarized the conclusion here first:</p>
<ul>
<li><span style="color:red"><strong>NOTE</strong></span>:
<ul>
<li><span style="color:red"><strong>KEEP using firmware version 13064,
instead of 14896</strong></span></li>
<li><span style="color:red"><strong>NEVER adding the Virtual
Interfaces</strong></span></li>
</ul></li>
</ul>
<h1 id="part-d-wireless-repeater-bridge-same-subset">PART D: Wireless
Repeater Bridge (Same Subset)</h1>
<h2 id="wireless---basic-settings">1. Wireless -&gt; Basic Settings</h2>
<p>We modify the parameters accordingly (Cited from the blog <a
target="_blank" rel="noopener" href="https://jgiam.com/2012/07/06/setting-up-a-repeater-bridge-with-dd-wrt-and-d-link-dir-600">Setting
up a repeater bridge with DD-WRT and D-Link DIR-600</a> ):</p>
<ul>
<li><strong>Physical Interface Section</strong>
<ul>
<li><strong>Wireless Mode</strong>: Repeater Bridge</li>
<li><strong>Wireless Network Mode</strong>: Must Be Exactly The Same As
Primary Router</li>
<li><strong>Wireless Network Name (SSID)</strong>: Must Be Exactly The
Same As Primary Router. <span style="color:red"><strong>Be Careful:
DD-WRT is ONLY a 2.4G router. If your primary router has two bands,
namely, 2.4G and 5G, make sure you connect to the 2.4G
network.</strong></span></li>
<li><strong>Wireless Channel</strong>: Must Be Exactly The Same As
Primary Router</li>
<li><strong>Channel Width</strong>: Must Be Exactly The Same As Primary
Router</li>
<li><strong>Wireless SSID Broadcast</strong>: Enabled</li>
<li><strong>Network Configuration</strong>: Bridged</li>
</ul></li>
</ul>
<p>Then, click <strong>Save without Apply</strong>, we get:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/10_Wireless_BasicSettings.jpg"
alt="DD-WRT Wireless - Basic Settings" />
<figcaption aria-hidden="true">DD-WRT Wireless - Basic
Settings</figcaption>
</figure>
<h2 id="wireless---wireless-security">2. Wireless -&gt; Wireless
Security</h2>
<ul>
<li><strong>Physical Interface section</strong>
<ul>
<li><strong>Security Mode</strong>: Must Be <strong>WPA2
Personal</strong>, and The Primary Router Must Be Exactly The Same.</li>
<li><strong>WPA Algorithms</strong>: Must Be <strong>AES</strong>, and
The Primary Router Must Be Exactly The Same.</li>
<li><strong>WPA Shared Key</strong>: Must Be Exactly The Same As Primary
Router</li>
<li><strong>Key Renewal Interval (in seconds)</strong>: Leave as it is,
normally, <strong>3600</strong>.</li>
</ul></li>
</ul>
<p>Then, click <strong>Save without Apply</strong>, we get:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/11_Wireless_Security.jpg"
alt="DD-WRT Wireless - Wireless Security" />
<figcaption aria-hidden="true">DD-WRT Wireless - Wireless
Security</figcaption>
</figure>
<h2 id="setup---basic-setup">3. Setup -&gt; Basic Setup</h2>
<ul>
<li><strong>WAN Connection Type Section</strong>
<ul>
<li><strong>Connection Type</strong>: Disabled</li>
<li><strong>STP</strong>: Disabled</li>
</ul></li>
<li><strong>Optional Settings</strong>
<ul>
<li><strong>Router Name</strong>: DD-WRT, just let it be</li>
</ul></li>
<li><strong>Router IP</strong>
<ul>
<li><strong>IP Address</strong>: 192.168.0.2 (in my case, my Primary
Router IP is 192.168.0.1, and 192.168.0.2 has NOT been used yet.)</li>
<li><strong>Subnet Mask</strong>: 255.255.255.0</li>
<li><strong>Gateway</strong>: 192.168.0.1 (Must Be Primary Router
IP)</li>
<li><strong>Local DNS</strong>: 192.168.0.1 (Must Be Primary Router
IP)</li>
</ul></li>
<li><strong>WAN Port</strong>
<ul>
<li><strong>Assign WAN Port to Switch</strong>: tick</li>
</ul></li>
<li><strong>Time Settings</strong>
<ul>
<li><strong>Time Zone</strong>: set correspondingly</li>
</ul></li>
</ul>
<p>Then, click <strong>Save without Apply</strong>, we get:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/12_Setup_BasicSetup.jpg"
alt="DD-WRT Setup - Basic Setup" />
<figcaption aria-hidden="true">DD-WRT Setup - Basic Setup</figcaption>
</figure>
<h2 id="setup---advanced-routing">4. Setup -&gt; Advanced Routing</h2>
<ul>
<li><strong>Operating Mode Section</strong>
<ul>
<li><strong>Operating Mode</strong>: Router</li>
</ul></li>
</ul>
<p>Then, click <strong>Save without Apply</strong>, we get:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/13_Setup_AdvancedRouting.jpg"
alt="DD-WRT Setup - Advanced Routing" />
<figcaption aria-hidden="true">DD-WRT Setup - Advanced
Routing</figcaption>
</figure>
<h2 id="services---services">5. Services -&gt; Services</h2>
<ul>
<li><strong>DNSMasq Section</strong>
<ul>
<li><strong>DNSMasq</strong>: Diable</li>
</ul></li>
<li><strong>Secure Shell Section</strong>
<ul>
<li><strong>SSHd</strong>: Enable</li>
</ul></li>
<li><strong>Telnet Section</strong>
<ul>
<li><strong>Telnet</strong>: Enable</li>
</ul></li>
</ul>
<p>Then, click <strong>Save without Apply</strong>, we get:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/14_Services_Services.jpg"
alt="DD-WRT Services - Services" />
<figcaption aria-hidden="true">DD-WRT Services - Services</figcaption>
</figure>
<h2 id="security---firewall">6. Security -&gt; Firewall</h2>
<p><span style="color:red"><strong>Note: Process in Sequence.</strong>
</span> * <strong>Block WAN Requests</strong> - <strong>Block Anonymous
WAN Requests (Ping)</strong>: untick - <strong>Filter
Multicast</strong>: tick - <strong>Filter WAN NAT Redirection</strong>:
untick - <strong>Filter IDENT (Port 113)</strong>: untick *
<strong>Firewall Protection</strong> - <strong>SPI Firewall</strong>:
Disable</p>
<p>Then, click <strong>Save without Apply</strong>, we get:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/15_Security_Firewall.jpg"
alt="DD-WRT Security - Firewall" />
<figcaption aria-hidden="true">DD-WRT Security - Firewall</figcaption>
</figure>
<h2 id="administration-management">7. Administration Management</h2>
<ul>
<li><strong>Remote Access Section</strong>
<ul>
<li><strong>Web GUI Management</strong>: Enable</li>
<li><strong>SSH Management</strong>: Enable</li>
<li><strong>Telnet Remote Port</strong>: Enable</li>
<li><strong>Allow Any Remote IP</strong>: Enable</li>
</ul></li>
</ul>
<p>Then, click <strong>Save without Apply</strong>, we get:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/16_Administration_Management.jpg"
alt="DD-WRT Administration - Management" />
<figcaption aria-hidden="true">DD-WRT Administration -
Management</figcaption>
</figure>
<p>Now, it's the time to <strong>Apply Settings</strong></p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/17_ApplySettings.jpg"
alt="DD-WRT Administration - Management - Apply Settings" />
<figcaption aria-hidden="true">DD-WRT Administration - Management -
Apply Settings</figcaption>
</figure>
<p>And finally, click <strong>Reboot Router</strong></p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/18_RebootRouter.jpg"
alt="DD-WRT Administration - Management - Reboot Router" />
<figcaption aria-hidden="true">DD-WRT Administration - Management -
Reboot Router</figcaption>
</figure>
<h1 id="part-e-doublechek-repeater-bridge">PART E: Doublechek Repeater
Bridge</h1>
<h2 id="ping">1. Ping</h2>
<p>Let's see the ping results directly:</p>
<h3 id="pc-wired-connecting-to-dd-wrt-router-2">1) PC Wired Connecting
to DD-WRT (Router 2)</h3>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/19_dd-wrt_wired.jpg"
alt="DD-WRT Wired Connection Between PC and Router 2, Namely, DD-WRT" />
<figcaption aria-hidden="true">DD-WRT Wired Connection Between PC and
Router 2, Namely, DD-WRT</figcaption>
</figure>
<h3 id="pc-wirelessly-connecting-to-router-1---5g">2) PC Wirelessly
Connecting to Router 1 - 5G</h3>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/19_dd-wrt_5g.jpg"
alt="DD-WRT Wifi Connection Between PC and Primary Router 1&#39;s 5G Network" />
<figcaption aria-hidden="true">DD-WRT Wifi Connection Between PC and
Primary Router 1's 5G Network</figcaption>
</figure>
<h3 id="pc-wirelessly-connecting-to-router-1---2.4g">3) PC Wirelessly
Connecting to Router 1 - 2.4G</h3>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/19_dd-wrt_2.4g.jpg"
alt="DD-WRT Wifi Connection Between PC and Primary Router 1&#39;s 2.4G Network" />
<figcaption aria-hidden="true">DD-WRT Wifi Connection Between PC and
Primary Router 1's 2.4G Network</figcaption>
</figure>
<h2 id="visit-http192.168.0.1-and-http192.168.0.2">2. Visit
http://192.168.0.1 and http://192.168.0.2</h2>
<p>Most of the time, in order to get the fastest Internet speed, I use
Primary Router 1's 5G network. Therefore, for my final demonstration, my
PC is wirelessly connected to the 5G network. And, I can successfully
visit <a target="_blank" rel="noopener" href="http://192.168.0.1">http://192.168.0.1</a> and <a
target="_blank" rel="noopener" href="http://192.168.0.2">http://192.168.0.2</a>.</p>
<h3 id="http192.168.0.1">1) http://192.168.0.1</h3>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/20_cisco.jpg"
alt="http://192.168.0.1" />
<figcaption aria-hidden="true">http://192.168.0.1</figcaption>
</figure>
<h3 id="http192.168.0.2">2) http://192.168.0.2</h3>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/IoT/dd-wrt/20_dd-wrt.jpg"
alt="http://192.168.0.2" />
<figcaption aria-hidden="true">http://192.168.0.2</figcaption>
</figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2018/02/27/SBCs/ARM/orange-pi-plus-2-armbian/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/02/27/SBCs/ARM/orange-pi-plus-2-armbian/" class="post-title-link" itemprop="url">Install Armbian Ubuntu Desktop with the Newest Supported Mainline Linux Kernel onto Orange Pi Plus 2</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-02-27 00:00:00" itemprop="dateCreated datePublished" datetime="2018-02-27T00:00:00-08:00">2018-02-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-28 17:33:45" itemprop="dateModified" datetime="2024-09-28T17:33:45-07:00">2024-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/ARM/" itemprop="url" rel="index"><span itemprop="name">ARM</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Today, we are going to install a runnable Linux OS <a
target="_blank" rel="noopener" href="https://www.armbian.com/">Armbian</a> and then flash the most
recent supported <a target="_blank" rel="noopener" href="https://www.kernel.org/">Linux Kernel</a> onto
an <a target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus
2</a>, which adopts <a
target="_blank" rel="noopener" href="http://www.allwinnertech.com/index.php?c=product&amp;a=index&amp;pid=6">AllWinner
H3</a> as its CPU. The board looks like (cited from <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus 2</a>
):</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/AllWinner/orangepi/plus2/H3.jpg"
alt="Orange Pi Plus 2" />
<figcaption aria-hidden="true">Orange Pi Plus 2</figcaption>
</figure>
<p>Similar to our previous blog <a
href="../../../../../../2018/02/24/SBCs/ARM/nanopi-neo-armbian/">Install
Armbian Debian Server onto NanoPi NEO</a>, to build the Mainline Linux
for Orange Pi Plus 2, we use the Embedded Linux management open source
Armbian. However, this time, we'll have the most recently supported
Linux Kernel updated finally.</p>
<h1
id="part-a-install-ubuntu-desktop-built-by-armbian-onto-orange-pi-plus-2">PART
A: Install Ubuntu Desktop Built By Armbian onto Orange Pi Plus 2</h1>
<h2 id="download-armbian-ubuntu-desktop-for-orange-pi-plus-2">1.
Download Armbian Ubuntu Desktop for Orange Pi Plus 2</h2>
<p>We <strong>FIRST</strong> go visiting the website <a
target="_blank" rel="noopener" href="https://www.armbian.com/orange-pi-plus-2/">https://www.armbian.com/orange-pi-plus-2/</a>
and click <strong>Ubuntu desktop - legacy kernel</strong> icon, a file
named
<strong>Armbian_5.38_Orangepiplus_Ubuntu_xenial_default_3.4.113_desktop.7z</strong>
will be automatically downloaded.</p>
<p>Then, we extract this .<strong>7z</strong> file by</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ 7z x Armbian_5.38_Orangepiplus_Ubuntu_xenial_default_3.4.113_desktop.7z</span><br><span class="line"></span><br><span class="line">7-Zip (A) [64] 9.20  Copyright (c) 1999-2010 Igor Pavlov  2010-11-18</span><br><span class="line">p7zip Version 9.20 (locale=en_CA.UTF-8,Utf16=on,HugeFiles=on,8 CPUs)</span><br><span class="line"></span><br><span class="line">Processing archive: Armbian_5.38_Orangepiplus_Ubuntu_xenial_default_3.4.113_desktop.7z</span><br><span class="line"></span><br><span class="line">Extracting  Armbian_5.38_Orangepiplus_Ubuntu_xenial_default_3.4.113_desktop.img</span><br><span class="line">Extracting  armbian.txt</span><br><span class="line">Extracting  armbian.txt.asc</span><br><span class="line">Extracting  Armbian_5.38_Orangepiplus_Ubuntu_xenial_default_3.4.113_desktop.img.asc</span><br><span class="line">Extracting  sha256sum.sha</span><br><span class="line"></span><br><span class="line">Everything is Ok</span><br><span class="line"></span><br><span class="line">Files: 5</span><br><span class="line">Size:       3061862273</span><br><span class="line">Compressed: 606477386</span><br></pre></td></tr></table></figure>
<h2 id="install-armbian-ubuntu-desktop-for-orange-pi-plus-2">2. Install
Armbian Ubuntu Desktop for Orange Pi Plus 2</h2>
<p>After the extracted image file is prepared, it's the time to install
the Armbian Ubuntu Desktop onto our TF card. We <strong>FIRST</strong>
format the TF card:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkfs.ext4 /dev/mmcblk0 </span><br><span class="line">[sudo] password <span class="keyword">for</span> jiapei: </span><br><span class="line">mke2fs 1.42.13 (17-May-2015)</span><br><span class="line">Found a dos partition table <span class="keyword">in</span> /dev/mmcblk0</span><br><span class="line">Proceed anyway? (y,n) y</span><br><span class="line">Discarding device blocks: <span class="keyword">done</span>                            </span><br><span class="line">Creating filesystem with 7791744 4k blocks and 1949696 inodes</span><br><span class="line">Filesystem UUID: 8873533f-4a66-4e8c-8633-844eaa90116d</span><br><span class="line">Superblock backups stored on blocks: </span><br><span class="line">        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, </span><br><span class="line">        4096000</span><br><span class="line"></span><br><span class="line">Allocating group tables: <span class="keyword">done</span>                            </span><br><span class="line">Writing inode tables: <span class="keyword">done</span>                            </span><br><span class="line">Creating journal (32768 blocks): <span class="keyword">done</span></span><br><span class="line">Writing superblocks and filesystem accounting information: <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>Afterwards, use <strong>dd</strong> to install the downloaded Armbian
Ubuntu Desktop image.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">dd</span> bs=4M <span class="keyword">if</span>=Armbian_5.38_Orangepiplus_Ubuntu_xenial_default_3.4.113_desktop.img of=/dev/mmcblk0 conv=fsync</span><br><span class="line">[sudo] password <span class="keyword">for</span> jiapei: </span><br><span class="line">730+0 records <span class="keyword">in</span></span><br><span class="line">730+0 records out</span><br><span class="line">3061841920 bytes (3.1 GB, 2.9 GiB) copied, 381.133 s, 8.0 MB/s</span><br></pre></td></tr></table></figure>
<h2 id="boot-into-orange-pi-plus-2">3. Boot Into Orange Pi Plus 2</h2>
<p>We now unplug the TF card from the host and put it into the <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus 2
board</a>, Armbian Ubuntu Desktop boots successfully. Make sure the
username and password are respectively: <strong>root</strong> and
<strong>1234</strong>. And you will notice that</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">You are required to change your password immediately (root enforced)</span><br><span class="line">Changing password <span class="keyword">for</span> root.</span><br><span class="line">(current) UNIX password:</span><br><span class="line">Enter new UNIX password:</span><br><span class="line">Retype new UNIX password:</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>And, for the <strong>FIRST</strong> boot, we'll be asked to create a
<strong>NEW user</strong> besides <strong>root</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Creating a new user account. Press &lt;Ctrl-C&gt; to abort</span><br><span class="line">Desktop enironment will not be enabled <span class="keyword">if</span> you abort the new user creation</span><br><span class="line"></span><br><span class="line">Please provide a username (eg. your forename): orangepiplus2</span><br><span class="line">Trying to add user orangepiplus2</span><br><span class="line">Adding user <span class="string">&#x27;orangepiplus2&#x27;</span> ...</span><br><span class="line">Adding new group <span class="string">&#x27;orangepiplus2&#x27;</span> (1000) ...</span><br><span class="line">Adding new user <span class="string">&#x27;orangepiplus2&#x27;</span> (1000) with group <span class="string">&#x27;orangepiplus2&#x27;</span> ...</span><br><span class="line">Creating home directory <span class="string">&#x27;/home/orangepiplus2&#x27;</span> ...</span><br><span class="line">Copying files from <span class="string">&#x27;/etc/ske1&#x27;</span> ...</span><br><span class="line">Enter new UNIX password:</span><br><span class="line">Retype new UNIX password:</span><br><span class="line">passwd: password updated successfully</span><br><span class="line">Changing the user information <span class="keyword">for</span> orangepiplus2</span><br><span class="line">Eter the new value, or press ENTER <span class="keyword">for</span> the default</span><br><span class="line">       Full Name []:</span><br><span class="line">       Room Number []:</span><br><span class="line">       Work Phone []:</span><br><span class="line">       Home Phone []:</span><br><span class="line">       Other []:</span><br><span class="line">Is the information correct? [Y/n] Y</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>Then, <a target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus
2</a> will boot into GUI as follows.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/01_armbian_ubuntu_desktop_overview.jpg"
alt="Armbian Ubuntu Desktop Overview" />
<figcaption aria-hidden="true">Armbian Ubuntu Desktop
Overview</figcaption>
</figure>
<p>We are now able to see the kernel version is of
<strong>3.4.113</strong>, which is a very old <a
target="_blank" rel="noopener" href="https://www.kernel.org/">Linux Kernel</a>.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/02_armbian_kernel_version.jpg"
alt="Armbian Kernel Version" />
<figcaption aria-hidden="true">Armbian Kernel Version</figcaption>
</figure>
<p>We then <strong>update/upgrade</strong> all upgradable packages, and
have the system rebooted.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/03_armbian_sudo_apt_update.jpg"
alt="Armbian Apt Update" />
<figcaption aria-hidden="true">Armbian Apt Update</figcaption>
</figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/04_armbian_sudo_apt_upgrade.jpg"
alt="Armbian Apt Upgrade" />
<figcaption aria-hidden="true">Armbian Apt Upgrade</figcaption>
</figure>
<p>After finishing the upgrading, <strong>Ubuntu</strong> has
successfully upgraded from <strong>16.04.3</strong> to
<strong>16.04.4</strong>, but <a target="_blank" rel="noopener" href="https://www.kernel.org/">Linux
Kernel</a> is still of version <strong>3.4.113</strong>.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/05_upgraded.jpg"
alt="Armbian All Upgraded" />
<figcaption aria-hidden="true">Armbian All Upgraded</figcaption>
</figure>
<h1
id="part-b-build-the-newest-armbian-u-boot-and-linux-kernel-for-orange-pi-plus-2">PART
B: Build The Newest Armbian U-Boot and Linux Kernel for Orange Pi Plus
2</h1>
<p>As shown in <strong>PART A</strong>, the current <a
target="_blank" rel="noopener" href="https://www.kernel.org/">Linux Kernel</a> on our <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus 2</a> is of
an old version <strong>3.4.113</strong>. Are we able to upgrade the <a
target="_blank" rel="noopener" href="https://www.kernel.org/">Linux Kernel</a> to the most recent one?
<strong>The ANSWER is of course YES</strong>.</p>
<h2 id="download-armbian-source-code">1. Download Armbian Source
Code</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> git@github.com:armbian/build.git armbian</span><br></pre></td></tr></table></figure>
<h2 id="test-compiling">2. Test Compiling</h2>
<p>We now try to compile <a target="_blank" rel="noopener" href="https://www.armbian.com/">Armbian</a>
for our very <strong>FIRST</strong> attempt. This will help us to
download a lot required packages, including all <a
target="_blank" rel="noopener" href="https://releases.linaro.org/components/toolchain/binaries/">Linaro
toolchains</a>, <a
target="_blank" rel="noopener" href="http://www.denx.de/wiki/U-Boot/WebHome">U-Boot</a>, etc., and save
those packages under folder <strong>cache</strong>, <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ./armbian</span><br><span class="line">$ ./compile.sh </span><br><span class="line">[ o.k. ] Using config file [ config-default.conf ]</span><br><span class="line">[ warn ] This script requires root privileges, trying to use sudo </span><br><span class="line">[sudo] password <span class="keyword">for</span> jiapei: </span><br><span class="line">[ o.k. ] Using config file [ config-default.conf ]</span><br><span class="line">[ o.k. ] This script will try to update</span><br><span class="line">Permission denied (publickey).</span><br><span class="line">fatal: Could not <span class="built_in">read</span> from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br><span class="line">Already on <span class="string">&#x27;master&#x27;</span></span><br><span class="line">Your branch is up-to-date with <span class="string">&#x27;origin/master&#x27;</span>.</span><br><span class="line">[ o.k. ] Preparing [ host ]</span><br><span class="line">[ o.k. ] Build host OS release [ xenial ]</span><br><span class="line">[ o.k. ] Syncing clock [ host ]</span><br><span class="line">[ .... ] Downloading [ gcc-linaro-arm-linux-gnueabihf-4.8-2014.04_linux ]</span><br><span class="line"><span class="comment">######################################################################## 100.0%</span></span><br><span class="line"><span class="comment">######################################################################## 100.0%</span></span><br><span class="line">[ .... ] Verifying </span><br><span class="line">gpg: keyring `/home/jiapei/Downloads/OperatingSystems/linux/distros/armbian/armbian/cache/.gpg/pubring.gpg<span class="string">&#x27; created</span></span><br><span class="line"><span class="string">gpg: /home/jiapei/Downloads/OperatingSystems/linux/distros/armbian/armbian/cache/.gpg/trustdb.gpg: trustdb created</span></span><br><span class="line"><span class="string">gpg: error reading key: public key not found</span></span><br><span class="line"><span class="string">gpg: keyring `/home/jiapei/Downloads/OperatingSystems/linux/distros/armbian/armbian/cache/.gpg/secring.gpg&#x27;</span> created</span><br><span class="line">gpg: requesting key 8F427EAF from hkp server keyserver.ubuntu.com</span><br><span class="line">gpg: key 8F427EAF: public key <span class="string">&quot;Linaro Toolchain Builder &lt;michael.hope+cbuild@linaro.org&gt;&quot;</span> imported</span><br><span class="line">gpg: Total number processed: 1</span><br><span class="line">gpg:               imported: 1  (RSA: 1)</span><br><span class="line">gpg: assuming signed data <span class="keyword">in</span> `gcc-linaro-arm-linux-gnueabihf-4.8-2014.04_linux.tar.xz<span class="string">&#x27;</span></span><br><span class="line"><span class="string">gpg: Signature made Wed 16 Apr 2014 11:29:14 AM PDT using RSA key ID 8F427EAF</span></span><br><span class="line"><span class="string">gpg: Good signature from &quot;Linaro Toolchain Builder &lt;michael.hope+cbuild@linaro.org&gt;&quot;</span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-4.9.4-2017.01-x86_64_aarch64-linux-gnu ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabi ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-5.5.0-2017.10-x86_64_aarch64-linux-gnu ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-5.5.0-2017.10-x86_64_arm-linux-gnueabi ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-5.5.0-2017.10-x86_64_arm-linux-gnueabihf ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-6.4.1-2017.11-x86_64_arm-linux-gnueabihf ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-6.4.1-2017.11-x86_64_aarch64-linux-gnu ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-7.2.1-2017.11-x86_64_aarch64-linux-gnu ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete </span></span><br><span class="line"><span class="string">[ .... ] Downloading [ gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabihf ]</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">######################################################################## 100.0%</span></span><br><span class="line"><span class="string">[ .... ] Verifying </span></span><br><span class="line"><span class="string">[ .... ] Extracting </span></span><br><span class="line"><span class="string">[ o.k. ] Download complete</span></span><br></pre></td></tr></table></figure></p>
<p>Then, a canonical GUI will jump out onto the screen for you to make
selections:</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/06_what_to_build.jpg"
alt="U-boot and kernel packages" />
<figcaption aria-hidden="true">U-boot and kernel packages</figcaption>
</figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/07_kernel_configurations.jpg"
alt="Show a kernel configuration menu before compilation" />
<figcaption aria-hidden="true">Show a kernel configuration menu before
compilation</figcaption>
</figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/08_officialy_supported_boards.jpg"
alt="Officially supported boards" />
<figcaption aria-hidden="true">Officially supported boards</figcaption>
</figure>
<p>Clearly, our board <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus 2</a> is
<strong>NOT</strong> in the list. Therefore, we select
<strong>Cancel</strong> here for now, and some <strong>ERROR</strong>
messages will be generated as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ error ] ERROR <span class="keyword">in</span> <span class="keyword">function</span> <span class="built_in">source</span> [ main.sh:198 ]</span><br><span class="line">[ error ] No kernel branch selected </span><br><span class="line">[ o.k. ] Process terminated</span><br></pre></td></tr></table></figure>
<h2 id="prepare-the-board-configuration-file">3. Prepare The Board
Configuration File</h2>
<p>We doublecheck the officially supported boards:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ./config/boards</span><br><span class="line">$ <span class="built_in">ls</span> -1 *orangepi*</span><br><span class="line">orangepi2.conf</span><br><span class="line">orangepi2g-iot.csc</span><br><span class="line">orangepi.eos</span><br><span class="line">orangepilite.conf</span><br><span class="line">orangepimini.eos</span><br><span class="line">orangepione.conf</span><br><span class="line">orangepipc2.conf</span><br><span class="line">orangepipc.conf</span><br><span class="line">orangepipcplus.conf</span><br><span class="line">orangepiplus2e.conf</span><br><span class="line">orangepiplus.conf</span><br><span class="line">orangepiprime.conf</span><br><span class="line">orangepi-r1.conf</span><br><span class="line">orangepiwin.conf</span><br><span class="line">orangepizero.conf</span><br><span class="line">orangepizeroplus2-h3.conf</span><br><span class="line">orangepizeroplus2-h5.conf</span><br><span class="line">orangepizeroplus.conf</span><br></pre></td></tr></table></figure>
<p>As we can see, it is certain that our board <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus 2</a> is
NOT officially supported. Due to the trivial difference between <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus 2</a> and
<a target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2e/">Orange Pi Plus 2e</a>,
we configure our <a target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange
Pi Plus 2</a> board as a <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2e/">Orange Pi Plus 2e</a>
board by:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cp</span> orangepiplus2e.conf orangepiplus2.conf</span><br></pre></td></tr></table></figure>
<p>Afterwards, we modify the file content in
<strong>orangepiplus2.conf</strong> manually:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim orangepiplus2.conf</span><br></pre></td></tr></table></figure>
<p>and, the file content is correspondingly modified to:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># H3 quad core 2GB RAM WiFi eMMC</span></span><br><span class="line">BOARD_NAME=<span class="string">&quot;Orange Pi+ 2&quot;</span></span><br><span class="line">BOARDFAMILY=<span class="string">&quot;sun8i&quot;</span></span><br><span class="line">BOOTCONFIG=<span class="string">&quot;orangepi_plus2_defconfig&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">MODULES=<span class="string">&quot;8189fs #w1-sunxi #w1-gpio #w1-therm #gc2035 #vfe_v4l2 #sunxi-cir&quot;</span></span><br><span class="line">MODULES_NEXT=<span class="string">&quot;8189fs&quot;</span></span><br><span class="line">CPUMIN=<span class="string">&quot;408000&quot;</span></span><br><span class="line">CPUMAX=<span class="string">&quot;1296000&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">KERNEL_TARGET=<span class="string">&quot;default,next,dev&quot;</span></span><br><span class="line">CLI_TARGET=<span class="string">&quot;stretch,xenial:next&quot;</span></span><br><span class="line">DESKTOP_TARGET=<span class="string">&quot;xenial:default&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">CLI_BETA_TARGET=<span class="string">&quot;&quot;</span></span><br><span class="line">DESKTOP_BETA_TARGET=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">RECOMMENDED=<span class="string">&quot;Ubuntu_xenial_default_desktop:90,Debian_stretch_next:75&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">BOARDRATING=<span class="string">&quot;&quot;</span></span><br><span class="line">CHIP=<span class="string">&quot;http://docs.armbian.com/Hardware_Allwinner-H3/&quot;</span></span><br><span class="line">HARDWARE=<span class="string">&quot;http://www.orangepi.org/orangepiplus2/&quot;</span></span><br><span class="line">FORUMS=<span class="string">&quot;http://forum.armbian.com/index.php/forum/13-allwinner-h3/&quot;</span></span><br><span class="line">BUY=<span class="string">&quot;http://s.click.aliexpress.com/e/VbA6AEq&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="prepare-board-configuration-file-for-u-boot">4. Prepare Board
Configuration File for U-Boot</h2>
<p>Then, we recompile armbian with some particular options (Please refer
to <a
target="_blank" rel="noopener" href="https://docs.armbian.com/Developer-Guide_Build-Options/">Armbian
Build Options</a> for parameter details):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ../../</span><br><span class="line">$ ./compile.sh BOARD=<span class="string">&quot;orangepiplus2&quot;</span> BRANCH=<span class="string">&quot;next&quot;</span> KERNEL_ONLY=<span class="string">&quot;yes&quot;</span> KERNEL_CONFIGURE=<span class="string">&quot;no&quot;</span></span><br><span class="line">[ o.k. ] Using config file [ config-default.conf ]</span><br><span class="line">[ warn ] This script requires root privileges, trying to use sudo </span><br><span class="line">[sudo] password <span class="keyword">for</span> jiapei: </span><br><span class="line">[ o.k. ] Using config file [ config-default.conf ]</span><br><span class="line">[ o.k. ] This script will try to update</span><br><span class="line">Permission denied (publickey).</span><br><span class="line">fatal: Could not <span class="built_in">read</span> from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br><span class="line">Already on <span class="string">&#x27;master&#x27;</span></span><br><span class="line">Your branch is up-to-date with <span class="string">&#x27;origin/master&#x27;</span>.</span><br><span class="line">[ o.k. ] Command line: setting BOARD to [ orangepiplus2 ]</span><br><span class="line">[ o.k. ] Command line: setting BRANCH to [ next ]</span><br><span class="line">[ o.k. ] Command line: setting KERNEL_ONLY to [ no ]</span><br><span class="line">[ o.k. ] Command line: setting KERNEL_CONFIGURE to [ no ]</span><br><span class="line">[ o.k. ] Preparing [ host ]</span><br><span class="line">[ o.k. ] Build host OS release [ xenial ]</span><br><span class="line">[ o.k. ] Syncing clock [ host ]</span><br></pre></td></tr></table></figure>
<p>Again, the canonical GUI will jump out onto the screen for you to
make selections, here we select <strong>Ubuntu Xenial 16.04 LTS</strong>
and <strong>Image with console interface (server)</strong>
respectively.</p>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/09_target_OS_release.jpg"
alt="Target OS release" />
<figcaption aria-hidden="true">Target OS release</figcaption>
</figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/10_target_image_type.jpg"
alt="Target image type" />
<figcaption aria-hidden="true">Target image type</figcaption>
</figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line">[ o.k. ] Downloading sources </span><br><span class="line">[ o.k. ] Checking git sources [ u-boot v2017.11 ]</span><br><span class="line">[ .... ] Creating <span class="built_in">local</span> copy </span><br><span class="line">[ .... ] Fetching updates </span><br><span class="line">remote: Counting objects: 13853, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (12500/12500), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 13853 (delta 2493), reused 5244 (delta 1104)</span><br><span class="line">Receiving objects: 100% (13853/13853), 17.27 MiB | 1.00 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (2493/2493), <span class="keyword">done</span>.</span><br><span class="line">From git://git.denx.de/u-boot</span><br><span class="line"> * tag               v2017.11   -&gt; FETCH_HEAD</span><br><span class="line">[ .... ] Checking out </span><br><span class="line">[ o.k. ] Checking git sources [ linux-mainline linux-4.14.y ]</span><br><span class="line">[ .... ] Creating <span class="built_in">local</span> copy </span><br><span class="line">[ .... ] Fetching updates </span><br><span class="line">remote: Counting objects: 65193, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (60945/60945), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 65193 (delta 5919), reused 26531 (delta 3272)</span><br><span class="line">Receiving objects: 100% (65193/65193), 172.40 MiB | 3.26 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (5919/5919), <span class="keyword">done</span>.</span><br><span class="line">From git://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable</span><br><span class="line"> * branch            linux-4.14.y -&gt; FETCH_HEAD</span><br><span class="line"> * [new branch]      linux-4.14.y -&gt; origin/linux-4.14.y</span><br><span class="line">[ .... ] Checking out </span><br><span class="line">[ o.k. ] Checking git sources [ sunxi-tools master ]</span><br><span class="line">[ .... ] Creating <span class="built_in">local</span> copy </span><br><span class="line">[ .... ] Fetching updates </span><br><span class="line">remote: Counting objects: 83, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (78/78), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 83 (delta 13), reused 33 (delta 4), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (83/83), <span class="keyword">done</span>.</span><br><span class="line">From https://github.com/linux-sunxi/sunxi-tools</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line"> * [new branch]      master     -&gt; origin/master</span><br><span class="line">[ .... ] Checking out </span><br><span class="line">[ o.k. ] Checking git sources [ rkbin-tools master ]</span><br><span class="line">[ .... ] Creating <span class="built_in">local</span> copy </span><br><span class="line">[ .... ] Fetching updates </span><br><span class="line">remote: Counting objects: 232, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (182/182), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 232 (delta 57), reused 209 (delta 50), pack-reused 0</span><br><span class="line">Receiving objects: 100% (232/232), 22.60 MiB | 8.32 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (57/57), <span class="keyword">done</span>.</span><br><span class="line">From https://github.com/rockchip-linux/rkbin</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line"> * [new branch]      master     -&gt; origin/master</span><br><span class="line">[ .... ] Checking out </span><br><span class="line">[ o.k. ] Checking git sources [ marvell-tools A3700_utils-armada-17.10 ]</span><br><span class="line">[ .... ] Creating <span class="built_in">local</span> copy </span><br><span class="line">[ .... ] Fetching updates </span><br><span class="line">remote: Counting objects: 294, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (150/150), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 294 (delta 151), reused 229 (delta 140), pack-reused 0</span><br><span class="line">Receiving objects: 100% (294/294), 5.80 MiB | 4.40 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (151/151), <span class="keyword">done</span>.</span><br><span class="line">From https://github.com/MarvellEmbeddedProcessors/A3700-utils-marvell</span><br><span class="line"> * branch            A3700_utils-armada-17.10 -&gt; FETCH_HEAD</span><br><span class="line"> * [new branch]      A3700_utils-armada-17.10 -&gt; origin/A3700_utils-armada-17.10</span><br><span class="line">[ .... ] Checking out </span><br><span class="line">[ o.k. ] Checking git sources [ odroidc2-blobs master ]</span><br><span class="line">[ .... ] Creating <span class="built_in">local</span> copy </span><br><span class="line">[ .... ] Fetching updates </span><br><span class="line">remote: Counting objects: 13, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (13/13), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 13 (delta 0), reused 11 (delta 0), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (13/13), <span class="keyword">done</span>.</span><br><span class="line">From https://github.com/armbian/odroidc2-blobs</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line"> * [new branch]      master     -&gt; origin/master</span><br><span class="line">[ .... ] Checking out </span><br><span class="line">[ o.k. ] Compiling [ sunxi-tools ]</span><br><span class="line">Setting version information: 5c19710</span><br><span class="line"></span><br><span class="line">[ o.k. ] Installing [ rkbin-tools ]</span><br><span class="line">[ o.k. ] Cleaning output/debs <span class="keyword">for</span> [ orangepiplus2 next ]</span><br><span class="line">[ o.k. ] Cleaning [ u-boot/v2017.11 ]</span><br><span class="line">[ o.k. ] Compiling u-boot [ 2017.11 ]</span><br><span class="line">[ o.k. ] Compiler version [ arm-linux-gnueabihf-gcc 7.2.1 ]</span><br><span class="line">[ .... ] Checking out sources </span><br><span class="line">[ o.k. ] Cleaning [ u-boot/v2017.11 ]</span><br><span class="line">[ o.k. ] Started patching process <span class="keyword">for</span> [ u-boot sunxi-orangepiplus2-next ]</span><br><span class="line">[ o.k. ] Looking <span class="keyword">for</span> user patches <span class="keyword">in</span> [ userpatches/u-boot/u-boot-sunxi ]</span><br><span class="line">[ o.k. ] * [l][c] 0020-sunxi-call-fdt_fixup_ethernet-again-to-set-macaddr-f.patch </span><br><span class="line">[ o.k. ] * [l][c] 4kfix-limit-screen-to-full-hd.patch </span><br><span class="line">[ o.k. ] * [l][c] Add-A20-Olimex-SOM204-EVB-board.patch </span><br><span class="line">[ o.k. ] * [l][c] add-a20-olinuxino-micro-emmc-support.patch </span><br><span class="line">[ o.k. ] * [l][c] add-a20-optional-eMMC.patch </span><br><span class="line">[ o.k. ] * [l][c] add-bananapi-bpi-m2-zero.patch </span><br><span class="line">[ o.k. ] * [l][c] add-beelink-x2.patch </span><br><span class="line">[ o.k. ] * [l][c] add-nanopi-air-emmc.patch </span><br><span class="line">[ o.k. ] * [l][c] add-nanopi-duo.patch </span><br><span class="line">[ o.k. ] * [l][c] add-nanopi-m1-plus2-emmc.patch </span><br><span class="line">[ o.k. ] * [l][c] add-nanopineoplus2.patch </span><br><span class="line">[ o.k. ] * [l][c] add-orangepi-plus2-emmc.patch </span><br><span class="line">[ o.k. ] * [l][c] add-orangepi-zeroplus.patch </span><br><span class="line">[ o.k. ] * [l][c] add-orangepi-zeroplus2_h3.patch </span><br><span class="line">[ o.k. ] * [l][c] add-sunvell-r69.patch </span><br><span class="line">[ o.k. ] * [l][c] add-tritium.patch </span><br><span class="line">[ o.k. ] * [l][c] add_emmc_olinuxino_a64.patch </span><br><span class="line">[ o.k. ] * [l][c] add_emmc_orangepiwin.patch </span><br><span class="line">[ o.k. ] * [l][c] adjust-default-dram-clockspeeds.patch </span><br><span class="line">[ o.k. ] * [l][c] adjust-small-boards-cpufreq.patch </span><br><span class="line">[ o.k. ] * [l][c] enable-DT-overlays-support.patch </span><br><span class="line">[ o.k. ] * [l][c] enable-autoboot-keyed.patch </span><br><span class="line">[ o.k. ] * [l][c] fdt-setprop-fix-unaligned-access.patch </span><br><span class="line">[ o.k. ] * [l][c] fix-sdcard-detect-bpi-m2z.patch </span><br><span class="line">[ o.k. ] * [l][c] fix-sunxi-gpio-driver.patch </span><br><span class="line">[ o.k. ] * [l][c] fix-usb1-vbus-opiwin.patch </span><br><span class="line">[ o.k. ] * [l][c] h3-Fix-PLL1-setup-to-never-use-dividers.patch </span><br><span class="line">[ o.k. ] * [l][c] h3-enable-power-led.patch </span><br><span class="line">[ o.k. ] * [l][c] h3-set-safe-axi_apb-clock-dividers.patch </span><br><span class="line">[ o.k. ] * [l][c] lower-default-DRAM-freq-A64-H5.patch </span><br><span class="line">[ o.k. ] * [l][c] lower-default-cpufreq-H5.patch </span><br><span class="line">[ o.k. ] * [l][c] sun8i-set-machid.patch </span><br><span class="line">[ o.k. ] * [l][c] video-fix-vsync-polarity-bits.patch </span><br><span class="line">[ o.k. ] * [l][b] workaround-reboot-is-poweroff-olimex-a20.patch </span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/kconfig/conf.o</span><br><span class="line">  SHIPPED scripts/kconfig/zconf.tab.c</span><br><span class="line">  SHIPPED scripts/kconfig/zconf.lex.c</span><br><span class="line">  SHIPPED scripts/kconfig/zconf.hash.c</span><br><span class="line">  HOSTCC  scripts/kconfig/zconf.tab.o</span><br><span class="line">  HOSTLD  scripts/kconfig/conf</span><br><span class="line">***</span><br><span class="line">*** Can<span class="string">&#x27;t find default configuration &quot;arch/../configs/orangepi_plus2_defconfig&quot;!</span></span><br><span class="line"><span class="string">***</span></span><br><span class="line"><span class="string">scripts/kconfig/Makefile:121: recipe for target &#x27;</span>orangepi_plus2_defconfig<span class="string">&#x27; failed</span></span><br><span class="line"><span class="string">make[1]: *** [orangepi_plus2_defconfig] Error 1</span></span><br><span class="line"><span class="string">Makefile:479: recipe for target &#x27;</span>orangepi_plus2_defconfig<span class="string">&#x27; failed</span></span><br><span class="line"><span class="string">make: *** [orangepi_plus2_defconfig] Error 2</span></span><br><span class="line"><span class="string">sed: can&#x27;</span>t <span class="built_in">read</span> .config: No such file or directory</span><br><span class="line">scripts/kconfig/conf  --silentoldconfig Kconfig</span><br><span class="line">***</span><br><span class="line">*** Configuration file <span class="string">&quot;.config&quot;</span> not found!</span><br><span class="line">***</span><br><span class="line">*** Please run some configurator (e.g. <span class="string">&quot;make oldconfig&quot;</span> or</span><br><span class="line">*** <span class="string">&quot;make menuconfig&quot;</span> or <span class="string">&quot;make xconfig&quot;</span>).</span><br><span class="line">***</span><br><span class="line">scripts/kconfig/Makefile:46: recipe <span class="keyword">for</span> target <span class="string">&#x27;silentoldconfig&#x27;</span> failed</span><br><span class="line">make[2]: *** [silentoldconfig] Error 1</span><br><span class="line">Makefile:479: recipe <span class="keyword">for</span> target <span class="string">&#x27;silentoldconfig&#x27;</span> failed</span><br><span class="line">make[1]: *** [silentoldconfig] Error 2</span><br><span class="line">make: *** No rule to make target <span class="string">&#x27;include/config/auto.conf&#x27;</span>, needed by <span class="string">&#x27;include/config/uboot.release&#x27;</span>.  Stop.</span><br><span class="line">[ error ] ERROR <span class="keyword">in</span> <span class="keyword">function</span> compile_uboot [ compilation.sh:156 ]</span><br><span class="line">[ error ] U-boot compilation failed </span><br><span class="line">[ o.k. ] Process terminated</span><br></pre></td></tr></table></figure>
<p>We end up with <strong>ERROR</strong> messages again. Clearly, it's
because <strong>U-Boot</strong> does <strong>NOT</strong> support
<strong>orangepi_plus2_defconfig</strong>. Therefore, we do the same to
<strong>U-Boot</strong> board configuration by <strong>two</strong>
steps:</p>
<h3 id="step-1">1) STEP 1:</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ./cache/sources/u-boot/v2017.11/configs</span><br><span class="line">$ <span class="built_in">ls</span> -1 *orangepi*</span><br><span class="line">orangepi_2_defconfig</span><br><span class="line">orangepi_2_defconfig.orig</span><br><span class="line">orangepi_lite_defconfig</span><br><span class="line">orangepi_one_defconfig</span><br><span class="line">orangepi_pc2_defconfig</span><br><span class="line">orangepi_pc2_defconfig.orig</span><br><span class="line">orangepi_pc_defconfig</span><br><span class="line">orangepi_pc_plus_defconfig</span><br><span class="line">orangepi_plus2e_defconfig</span><br><span class="line">orangepi_plus2e_defconfig.orig</span><br><span class="line">orangepi_plus_defconfig</span><br><span class="line">orangepi_plus_defconfig.orig</span><br><span class="line">orangepi_prime_defconfig</span><br><span class="line">orangepi_win_defconfig</span><br><span class="line">orangepi_win_defconfig.orig</span><br><span class="line">orangepi_zero_defconfig</span><br><span class="line">orangepi_zero_defconfig.orig</span><br><span class="line">orangepi_zero_plus2_defconfig</span><br><span class="line">orangepi_zero_plus2_h3_defconfig</span><br><span class="line">orangepizero_plus_defconfig</span><br></pre></td></tr></table></figure>
<p>Clearly, <strong>orangepi_plus2_defconfig</strong> is
<strong>NOT</strong> in the list. Therefore, we do:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">cp</span> orangepi_plus2e_defconfig orangepi_plus2_defconfig</span><br><span class="line">$ sudo vim orangepi_plus2_defconfig</span><br></pre></td></tr></table></figure>
<p>and ensure any <strong>plus2e</strong> is now
<strong>plus2</strong>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> orangepi_plus2_defconfig</span><br><span class="line">CONFIG_ARM=y</span><br><span class="line">CONFIG_ARCH_SUNXI=y</span><br><span class="line">CONFIG_MACH_SUN8I_H3=y</span><br><span class="line">CONFIG_DRAM_CLK=624</span><br><span class="line">CONFIG_DRAM_ZQ=3881979</span><br><span class="line">CONFIG_DRAM_ODT_EN=y</span><br><span class="line">CONFIG_MACPWR=<span class="string">&quot;PD6&quot;</span></span><br><span class="line">CONFIG_MMC_SUNXI_SLOT_EXTRA=2</span><br><span class="line">CONFIG_DEFAULT_DEVICE_TREE=<span class="string">&quot;sun8i-h3-orangepi-plus2&quot;</span></span><br><span class="line"><span class="comment"># CONFIG_SYS_MALLOC_CLEAR_ON_INIT is not set</span></span><br><span class="line">CONFIG_SPL=y</span><br><span class="line">CONFIG_SPL_I2C_SUPPORT=y</span><br><span class="line"><span class="comment"># CONFIG_CMD_FLASH is not set</span></span><br><span class="line"><span class="comment"># CONFIG_CMD_FPGA is not set</span></span><br><span class="line"><span class="comment"># CONFIG_SPL_DOS_PARTITION is not set</span></span><br><span class="line"><span class="comment"># CONFIG_SPL_ISO_PARTITION is not set</span></span><br><span class="line"><span class="comment"># CONFIG_SPL_EFI_PARTITION is not set</span></span><br><span class="line">CONFIG_SUN8I_EMAC=y</span><br><span class="line">CONFIG_SY8106A_POWER=y</span><br><span class="line">CONFIG_USB_EHCI_HCD=y</span><br><span class="line">CONFIG_SYS_USB_EVENT_POLL_VIA_INT_QUEUE=y</span><br></pre></td></tr></table></figure>
<h3 id="step-2">2) STEP 2:</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ./cache/sources/u-boot/v2017.11/arch/arm/dts</span><br><span class="line">$ <span class="built_in">ls</span> -1 *sun8i-h3-orangepi*</span><br><span class="line">sun8i-h3-orangepi-2.dts</span><br><span class="line">sun8i-h3-orangepi-lite.dts</span><br><span class="line">sun8i-h3-orangepi-one.dts</span><br><span class="line">sun8i-h3-orangepi-pc.dts</span><br><span class="line">sun8i-h3-orangepi-pc-plus.dts</span><br><span class="line">sun8i-h3-orangepi-plus2e.dts</span><br><span class="line">sun8i-h3-orangepi-plus.dts</span><br><span class="line">sun8i-h3-orangepi-zeroplus2.dts</span><br></pre></td></tr></table></figure>
<p>Clearly, <strong>sun8i-h3-orangepi-plus2.dts</strong> is
<strong>NOT</strong> in the list. Therefore, we do:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">cp</span> sun8i-h3-orangepi-plus2e.dts sun8i-h3-orangepi-plus2.dts</span><br><span class="line">$ sudo vim sun8i-h3-orangepi-plus2.dts</span><br></pre></td></tr></table></figure>
<p>and ensure any <strong>2e/2E</strong> is now <strong>2</strong>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> sun8i-h3-orangepi-plus2.dts</span><br><span class="line">...... // ignore</span><br><span class="line">/*</span><br><span class="line"> * The Orange Pi Plus 2 is an extended version of the Orange Pi PC Plus 2,</span><br><span class="line"> * with 2G RAM and an external gbit ethernet phy.</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"><span class="comment">#include &quot;sun8i-h3-orangepi-pc-plus.dts&quot;</span></span><br><span class="line"></span><br><span class="line">/ &#123;</span><br><span class="line">        model = <span class="string">&quot;Xunlong Orange Pi Plus 2&quot;</span>;</span><br><span class="line">        compatible = <span class="string">&quot;xunlong,orangepi-plus2&quot;</span>, <span class="string">&quot;allwinner,sun8i-h3&quot;</span>;</span><br><span class="line"></span><br><span class="line">        reg_gmac_3v3: gmac-3v3 &#123;</span><br><span class="line">                compatible = <span class="string">&quot;regulator-fixed&quot;</span>;</span><br><span class="line">                pinctrl-names = <span class="string">&quot;default&quot;</span>;</span><br><span class="line">                pinctrl-0 = &lt;&amp;gmac_power_pin_orangepi&gt;;</span><br><span class="line">                regulator-name = <span class="string">&quot;gmac-3v3&quot;</span>;</span><br><span class="line">                regulator-min-microvolt = &lt;3300000&gt;;</span><br><span class="line">                regulator-max-microvolt = &lt;3300000&gt;;</span><br><span class="line">                startup-delay-us = &lt;100000&gt;;</span><br><span class="line">                enable-active-high;</span><br><span class="line">                gpio = &lt;&amp;pio 3 6 GPIO_ACTIVE_HIGH&gt;;</span><br><span class="line">        &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;emac &#123;</span><br><span class="line">        /* The Orange Pi Plus 2 uses an external gbit phy */</span><br><span class="line">        pinctrl-names = <span class="string">&quot;default&quot;</span>;</span><br><span class="line">        pinctrl-0 = &lt;&amp;emac_rgmii_pins&gt;;</span><br><span class="line">        phy-supply = &lt;&amp;reg_gmac_3v3&gt;;</span><br><span class="line">        phy-mode = <span class="string">&quot;rgmii&quot;</span>;</span><br><span class="line">        /delete-property/allwinner,use-internal-phy;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;pio &#123;</span><br><span class="line">        gmac_power_pin_orangepi: gmac_power_pin@0 &#123;</span><br><span class="line">                allwinner,pins = <span class="string">&quot;PD6&quot;</span>;</span><br><span class="line">                allwinner,<span class="keyword">function</span> = <span class="string">&quot;gpio_out&quot;</span>;</span><br><span class="line">                allwinner,drive = &lt;SUN4I_PINCTRL_10_MA&gt;;</span><br><span class="line">                allwinner,pull = &lt;SUN4I_PINCTRL_NO_PULL&gt;;</span><br><span class="line">        &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="build-the-newest-supported-linux-kernels">5. Build the Newest
Supported Linux Kernels</h2>
<p>Before we build the system again, we just need to ensure our
<strong>python</strong> is of version <strong>2</strong> instead of
<strong>3</strong>, otherwise, you'll get some <strong>ERROR</strong>
message like:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: No module named _libfdt</span><br></pre></td></tr></table></figure>
<p><strong>NOW</strong>, we build the system <strong>AGAIN</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">$ ./compile.sh BOARD=<span class="string">&quot;orangepiplus2&quot;</span> BRANCH=<span class="string">&quot;next&quot;</span> KERNEL_ONLY=<span class="string">&quot;yes&quot;</span> KERNEL_CONFIGURE=<span class="string">&quot;no&quot;</span></span><br><span class="line">[ o.k. ] Using config file [ config-default.conf ]</span><br><span class="line">[ warn ] This script requires root privileges, trying to use sudo </span><br><span class="line">[ o.k. ] Using config file [ config-default.conf ]</span><br><span class="line">[ o.k. ] This script will try to update</span><br><span class="line">Permission denied (publickey).</span><br><span class="line">fatal: Could not <span class="built_in">read</span> from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br><span class="line">Already on <span class="string">&#x27;master&#x27;</span></span><br><span class="line">Your branch is up-to-date with <span class="string">&#x27;origin/master&#x27;</span>.</span><br><span class="line">[ o.k. ] Command line: setting BOARD to [ orangepiplus2 ]</span><br><span class="line">[ o.k. ] Command line: setting BRANCH to [ next ]</span><br><span class="line">[ o.k. ] Command line: setting KERNEL_ONLY to [ <span class="built_in">yes</span> ]</span><br><span class="line">[ o.k. ] Command line: setting KERNEL_CONFIGURE to [ no ]</span><br><span class="line">[ o.k. ] Preparing [ host ]</span><br><span class="line">[ o.k. ] Build host OS release [ xenial ]</span><br><span class="line">[ o.k. ] Syncing clock [ host ]</span><br><span class="line">[ o.k. ] Downloading sources</span><br><span class="line">[ o.k. ] Checking git sources [ u-boot v2017.11 ]</span><br><span class="line">[ .... ] Checking out </span><br><span class="line">[ o.k. ] Checking git sources [ linux-mainline linux-4.14.y ]</span><br><span class="line">[ .... ] Up to <span class="built_in">date</span> </span><br><span class="line">[ o.k. ] Checking git sources [ sunxi-tools master ]</span><br><span class="line">[ .... ] Up to <span class="built_in">date</span> </span><br><span class="line">[ o.k. ] Checking git sources [ rkbin-tools master ]</span><br><span class="line">[ .... ] Up to <span class="built_in">date</span> </span><br><span class="line">[ o.k. ] Checking git sources [ marvell-tools A3700_utils-armada-17.10 ]</span><br><span class="line">[ .... ] Up to <span class="built_in">date</span> </span><br><span class="line">[ o.k. ] Checking git sources [ odroidc2-blobs master ]</span><br><span class="line">[ .... ] Up to <span class="built_in">date</span> </span><br><span class="line">[ o.k. ] Cleaning output/debs <span class="keyword">for</span> [ orangepiplus2 next ]</span><br><span class="line">[ o.k. ] Cleaning [ u-boot/v2017.11 ]</span><br><span class="line">[ o.k. ] Compiling u-boot [ 2017.11 ]</span><br><span class="line">[ o.k. ] Compiler version [ arm-linux-gnueabihf-gcc 7.2.1 ]</span><br><span class="line">[ .... ] Checking out sources </span><br><span class="line">[ o.k. ] Cleaning [ u-boot/v2017.11 ]</span><br><span class="line">[ o.k. ] Started patching process <span class="keyword">for</span> [ u-boot sunxi-orangepiplus2-next ]</span><br><span class="line">[ o.k. ] Looking <span class="keyword">for</span> user patches <span class="keyword">in</span> [ userpatches/u-boot/u-boot-sunxi ]</span><br><span class="line">[ o.k. ] * [l][c] 0020-sunxi-call-fdt_fixup_ethernet-again-to-set-macaddr-f.patch </span><br><span class="line">[ o.k. ] * [l][c] 4kfix-limit-screen-to-full-hd.patch </span><br><span class="line">[ o.k. ] * [l][c] Add-A20-Olimex-SOM204-EVB-board.patch </span><br><span class="line">[ o.k. ] * [l][c] add-a20-olinuxino-micro-emmc-support.patch </span><br><span class="line">[ o.k. ] * [l][c] add-a20-optional-eMMC.patch </span><br><span class="line">[ o.k. ] * [l][c] add-bananapi-bpi-m2-zero.patch </span><br><span class="line">[ o.k. ] * [l][c] add-beelink-x2.patch </span><br><span class="line">[ o.k. ] * [l][c] add-nanopi-air-emmc.patch </span><br><span class="line">[ o.k. ] * [l][c] add-nanopi-duo.patch </span><br><span class="line">[ o.k. ] * [l][c] add-nanopi-m1-plus2-emmc.patch </span><br><span class="line">[ o.k. ] * [l][c] add-nanopineoplus2.patch </span><br><span class="line">[ o.k. ] * [l][c] add-orangepi-plus2-emmc.patch </span><br><span class="line">[ o.k. ] * [l][c] add-orangepi-zeroplus.patch </span><br><span class="line">[ o.k. ] * [l][c] add-orangepi-zeroplus2_h3.patch </span><br><span class="line">[ o.k. ] * [l][c] add-sunvell-r69.patch </span><br><span class="line">[ o.k. ] * [l][c] add-tritium.patch </span><br><span class="line">[ o.k. ] * [l][c] add_emmc_olinuxino_a64.patch </span><br><span class="line">[ o.k. ] * [l][c] add_emmc_orangepiwin.patch </span><br><span class="line">[ o.k. ] * [l][c] adjust-default-dram-clockspeeds.patch </span><br><span class="line">[ o.k. ] * [l][c] adjust-small-boards-cpufreq.patch </span><br><span class="line">[ o.k. ] * [l][c] enable-DT-overlays-support.patch </span><br><span class="line">[ o.k. ] * [l][c] enable-autoboot-keyed.patch </span><br><span class="line">[ o.k. ] * [l][c] fdt-setprop-fix-unaligned-access.patch </span><br><span class="line">[ o.k. ] * [l][c] fix-sdcard-detect-bpi-m2z.patch </span><br><span class="line">[ o.k. ] * [l][c] fix-sunxi-gpio-driver.patch </span><br><span class="line">[ o.k. ] * [l][c] fix-usb1-vbus-opiwin.patch </span><br><span class="line">[ o.k. ] * [l][c] h3-Fix-PLL1-setup-to-never-use-dividers.patch </span><br><span class="line">[ o.k. ] * [l][c] h3-enable-power-led.patch </span><br><span class="line">[ o.k. ] * [l][c] h3-set-safe-axi_apb-clock-dividers.patch </span><br><span class="line">[ o.k. ] * [l][c] lower-default-DRAM-freq-A64-H5.patch </span><br><span class="line">[ o.k. ] * [l][c] lower-default-cpufreq-H5.patch </span><br><span class="line">[ o.k. ] * [l][c] sun8i-set-machid.patch </span><br><span class="line">[ o.k. ] * [l][c] video-fix-vsync-polarity-bits.patch </span><br><span class="line">[ o.k. ] * [l][b] workaround-reboot-is-poweroff-olimex-a20.patch </span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/kconfig/conf.o</span><br><span class="line">  HOSTCC  scripts/kconfig/zconf.tab.o</span><br><span class="line">  HOSTLD  scripts/kconfig/conf</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># configuration written to .config</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">scripts/kconfig/conf  --silentoldconfig Kconfig</span><br><span class="line">.config:1120:warning: override: reassigning to symbol BOOTDELAY</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># configuration written to .config</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">  CHK     include/config.h</span><br><span class="line">  UPD     include/config.h</span><br><span class="line">  GEN     include/autoconf.mk.dep</span><br><span class="line">  CFG     u-boot.cfg</span><br><span class="line">  CFG     spl/u-boot.cfg</span><br><span class="line">  GEN     include/autoconf.mk</span><br><span class="line">  GEN     spl/include/autoconf.mk</span><br><span class="line">  CHK     include/config/uboot.release</span><br><span class="line">  CHK     include/generated/timestamp_autogenerated.h</span><br><span class="line">  UPD     include/generated/timestamp_autogenerated.h</span><br><span class="line">  UPD     include/config/uboot.release</span><br><span class="line">  CHK     include/generated/version_autogenerated.h</span><br><span class="line">  HOSTCC  scripts/dtc/dtc.o</span><br><span class="line">  ......</span><br></pre></td></tr></table></figure>
<p>And, it took me about 5 minutes to have everything built.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">patching file tools/include/tools/be_byteshift.h</span><br><span class="line">patching file tools/include/tools/le_byteshift.h</span><br><span class="line">  CLEAN   scripts/basic</span><br><span class="line">  CLEAN   scripts/dtc</span><br><span class="line">  CLEAN   scripts/kconfig</span><br><span class="line">  CLEAN   scripts/mod</span><br><span class="line">  CLEAN   scripts/selinux/genheaders</span><br><span class="line">  CLEAN   scripts/selinux/mdp</span><br><span class="line">  CLEAN   scripts</span><br><span class="line">dpkg-deb: building package <span class="string">&#x27;linux-dtb-next-sunxi&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;../linux-dtb-next-sunxi_5.41_armhf.deb&#x27;</span>.</span><br><span class="line">dpkg-deb: building package <span class="string">&#x27;linux-headers-next-sunxi&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;../linux-headers-next-sunxi_5.41_armhf.deb&#x27;</span>.</span><br><span class="line">dpkg-deb: building package <span class="string">&#x27;linux-image-next-sunxi&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;../linux-image-next-sunxi_5.41_armhf.deb&#x27;</span>.</span><br><span class="line">dpkg-genchanges: warning: package linux-libc-dev-next-sunxi <span class="keyword">in</span> control file but not <span class="keyword">in</span> files list</span><br><span class="line">dpkg-genchanges: binary-only upload (no <span class="built_in">source</span> code included)</span><br><span class="line">dpkg-deb: building package <span class="string">&#x27;linux-source-4.14.22-next-sunxi&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;/home/jiapei/Downloads/OperatingSystems/linux/distros/armbian/armbian/.tmp/linux-source-next-sunxi_5.41_all.deb&#x27;</span>.</span><br><span class="line">[ o.k. ] Kernel build <span class="keyword">done</span> [ @host ]</span><br><span class="line">[ o.k. ] Target directory [ /home/jiapei/Downloads/OperatingSystems/linux/distros/armbian/armbian/output/debs/ ]</span><br><span class="line">[ o.k. ] File name [ linux-image-next-sunxi_5.41_armhf.deb ]</span><br><span class="line">[ o.k. ] Runtime [ 5 min ]</span><br></pre></td></tr></table></figure>
<h1 id="part-c-copy-linux-kernel-debs-for-orange-pi-plus-2">PART C: Copy
Linux Kernel DEBs for Orange Pi Plus 2</h1>
<h2 id="doublecheck-built-linux-kernel-related-debs">1. Doublecheck
Built Linux Kernel Related DEBs</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ./output/debs</span><br><span class="line">$ <span class="built_in">ls</span> -1 *</span><br><span class="line">linux-dtb-next-sunxi_5.41_armhf.deb</span><br><span class="line">linux-headers-next-sunxi_5.41_armhf.deb</span><br><span class="line">linux-image-next-sunxi_5.41_armhf.deb</span><br><span class="line">linux-source-next-sunxi_5.41_all.deb</span><br><span class="line">linux-u-boot-next-orangepiplus2_5.41_armhf.deb</span><br><span class="line"></span><br><span class="line">extra:</span><br></pre></td></tr></table></figure>
<p><strong>Five</strong> .deb files have been successfully generated,
and the folder <strong>extra</strong> is empty.</p>
<h2 id="copy-built-debs-onto-tf-card">2. Copy Built DEBs onto TF
Card</h2>
<p>Since Armbian Ubuntu Desktop has already been installed on our TF
card, after plugging TF card back to my host computer again, it's
automatically mounted as
/<strong>media/jiapei/ab9545b9-0d2d-4927-83f3-fae97ced83a9</strong>.
Then, we copy all <strong>five</strong> .deb files onto TF card by:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cp</span> *.deb /media/jiapei/ab9545b9-0d2d-4927-83f3-fae97ced83a9/home/orangepiplus2/</span><br></pre></td></tr></table></figure>
<h1
id="part-d-install-the-built-debs-remove-the-old-kernels-and-wifi-configuration">PART
D: Install the Built DEBs, Remove the Old Kernel(s), and Wifi
Configuration</h1>
<p>Now we plug the TF card back into the <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus 2 board</a>
and boot into Armbian Ubuntu Desktop with kernel
<strong>3.4.113</strong>.</p>
<h2 id="install-new-linux-kernels">1. Install NEW Linux Kernels</h2>
<p>Single command will do.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dpkg -i *.deb</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/11_debs_installed.jpg"
alt="Install Built DEBs" />
<figcaption aria-hidden="true">Install Built DEBs</figcaption>
</figure>
<p>It's OK for us <strong>NOT</strong> to upgrade u-boot.</p>
<h2 id="remove-old-linux-kernels">2. Remove OLD Linux Kernel(s)</h2>
<p>Reboot <a target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi
Plus 2 board</a>, and you'll see the <strong>NEW</strong> kernel
<strong>4.14.22</strong> is now booted successfully. Now, it's optional
for us to remove old kernel(s) <strong>3.4.113</strong>. Two commands
will do.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg --list | grep linux-image</span><br></pre></td></tr></table></figure>
<p>will help to list all installed <a
target="_blank" rel="noopener" href="https://www.kernel.org/">Linux Kernel</a>. And then, we remove all
unwanted kernels, for instance:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg --purge linux-image-sun8i</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/12_kernel_updated.jpg"
alt="Remove Old Kernels" />
<figcaption aria-hidden="true">Remove Old Kernels</figcaption>
</figure>
<h2 id="wifi-configuration">3. Wifi Configuration</h2>
<p>As known, <a target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi
Plus 2 board</a> comes with Wifi 2.4G support. To enable Wifi for <a
target="_blank" rel="noopener" href="http://www.orangepi.org/orangepiplus2/">Orange Pi Plus 2
board</a>, we need to make sure there are <strong>ONLY</strong> 3
effective lines in file /<strong>etc/network/interfaces</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/network/interfaces.d/*</span><br><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://raw.githubusercontent.com/LongerVision/Resource/master/Embedded/armbian/13_network_interfaces.jpg"
alt="Network Interfaces" />
<figcaption aria-hidden="true">Network Interfaces</figcaption>
</figure>
<p><strong>Finally</strong>, you are recommended to solve all the other
issues about Ubuntu Desktop via <a
target="_blank" rel="noopener" href="http://www.google.com/">Google</a>.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/15/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Nobody</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
