<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"longervision.ca","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.23.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="1. Prepare For BeagleV-Fire Ubuntu Based on my previous blog BeagleV-Fire-1.md, we firstly checkout BeagleV-Fire Ubuntu, and do the following updates. 1.1 01_git_sync.sh 123456789101112131415161718192">
<meta property="og:type" content="article">
<meta property="og:title" content="BeagleV-Fire 2">
<meta property="og:url" content="http://longervision.ca/2024/10/23/SBCs/RISC-V/BeagleV-Fire-2/index.html">
<meta property="og:site_name" content="Longer Vision Technology">
<meta property="og:description" content="1. Prepare For BeagleV-Fire Ubuntu Based on my previous blog BeagleV-Fire-1.md, we firstly checkout BeagleV-Fire Ubuntu, and do the following updates. 1.1 01_git_sync.sh 123456789101112131415161718192">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-10-23T07:27:40.000Z">
<meta property="article:modified_time" content="2025-06-04T06:08:38.106Z">
<meta property="article:author" content="Nobody">
<meta property="article:tag" content="BeagleV-Fire, BeagleBone, Risc-V, FPGA, Microchip, PolarFire">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://longervision.ca/2024/10/23/SBCs/RISC-V/BeagleV-Fire-2/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://longervision.ca/2024/10/23/SBCs/RISC-V/BeagleV-Fire-2/","path":"2024/10/23/SBCs/RISC-V/BeagleV-Fire-2/","title":"BeagleV-Fire 2"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>BeagleV-Fire 2 | Longer Vision Technology</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Longer Vision Technology</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Github Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#prepare-for-beaglev-fire-ubuntu"><span class="nav-number">1.</span> <span class="nav-text">1. Prepare For BeagleV-Fire
Ubuntu</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#git_sync.sh"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 01_git_sync.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#build_linux.sh"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 04_build_linux.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#generate_ubuntu_console_root.sh"><span class="nav-number">1.3.</span> <span class="nav-text">1.3
06_generate_ubuntu_console_root.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git_linux_mainline.sh"><span class="nav-number">1.4.</span> <span class="nav-text">1.4
git_linux_mainline.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git_linux_mpfs.sh"><span class="nav-number">1.5.</span> <span class="nav-text">1.5 git_linux_mpfs.sh</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#manually-flash-beaglev-fire-board-with-all-updates---failed-to-boot"><span class="nav-number">2.</span> <span class="nav-text">2.
Manually Flash BeagleV-Fire
Board With ALL Updates - Failed To Boot</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#git_sync.sh-1"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 01_git_sync.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#build_hss.sh"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 .&#x2F;02_build_hss.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#build_u-boot.sh"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 .&#x2F;03_build_u-boot.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#build_linux.sh-1"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 04_build_linux.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#generate_payload.bin.sh"><span class="nav-number">2.5.</span> <span class="nav-text">2.5
05_generate_payload.bin.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sudo-.06_generate_debian_console_root.sh"><span class="nav-number">2.6.</span> <span class="nav-text">2.6
sudo .&#x2F;06_generate_debian_console_root.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sudo-.07_create_sdcard_img.sh"><span class="nav-number">2.7.</span> <span class="nav-text">2.7
sudo .&#x2F;07_create_sdcard_img.sh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#take-a-look-at-the-image"><span class="nav-number">2.8.</span> <span class="nav-text">2.8 Take A Look At The Image</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#failed-to-boot"><span class="nav-number">2.9.</span> <span class="nav-text">2.9 Failed To Boot</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#flash-official-beaglev-fire-ubuntu-2023-11-21"><span class="nav-number">3.</span> <span class="nav-text">3. Flash Official
BeagleV-Fire
Ubuntu 2023-11-21</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#apply-official-flash"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 Apply Official Flash</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ssh-into-beaglev-fire-board"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 ssh Into BeagleV-Fire
Board</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#on-board-fpga"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 On-board FPGA</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Nobody</p>
  <div class="site-description" itemprop="description">Longer Vision Technology Github Blog</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">154</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">45</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">144</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://longervision.ca/2024/10/23/SBCs/RISC-V/BeagleV-Fire-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Nobody">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Longer Vision Technology">
      <meta itemprop="description" content="Longer Vision Technology Github Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="BeagleV-Fire 2 | Longer Vision Technology">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          BeagleV-Fire 2
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-10-23 00:27:40" itemprop="dateCreated datePublished" datetime="2024-10-23T00:27:40-07:00">2024-10-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-03 23:08:38" itemprop="dateModified" datetime="2025-06-03T23:08:38-07:00">2025-06-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/" itemprop="url" rel="index"><span itemprop="name">Single Board Computers</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Single-Board-Computers/Risc-V/" itemprop="url" rel="index"><span itemprop="name">Risc-V</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="prepare-for-beaglev-fire-ubuntu">1. Prepare For <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu">BeagleV-Fire
Ubuntu</a></h1>
<p>Based on my previous blog <a
href="../../../../../../2023/12/19/SBCs/RISC-V/BeagleV-Fire-1">BeagleV-Fire-1.md</a>,
we firstly checkout <a
target="_blank" rel="noopener" href="https://git.beagleboard.org/beaglev-fire/BeagleV-Fire-ubuntu">BeagleV-Fire
Ubuntu</a>, and do the following updates.</p>
<h2 id="git_sync.sh">1.1 <code>01_git_sync.sh</code></h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">GIT_DEPTH=<span class="string">&quot;20&quot;</span></span><br><span class="line">GCC_VERSION=<span class="string">&quot;14.2.0&quot;</span></span><br><span class="line"></span><br><span class="line">HSS_BRANCH=<span class="string">&quot;v2024.09&quot;</span></span><br><span class="line">HSS_REPO=<span class="string">&quot;https://github.com/polarfire-soc/hart-software-services.git&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#UBOOT_BRANCH=&quot;mpfs-uboot-2022.01&quot;</span></span><br><span class="line">UBOOT_BRANCH=<span class="string">&quot;linux4microchip+fpga-2024.09&quot;</span></span><br><span class="line">UBOOT_REPO=<span class="string">&quot;https://github.com/linux4microchip/u-boot-mchp.git&quot;</span></span><br><span class="line"><span class="comment">#UBOOT_BRANCH=&quot;v2023.02-BeagleV-Fire&quot;</span></span><br><span class="line"><span class="comment">#UBOOT_REPO=&quot;https://openbeagle.org/beaglev-fire/beaglev-fire-u-boot.git&quot;</span></span><br><span class="line"><span class="comment">#UBOOT_REPO=&quot;git@openbeagle.org:beaglev-fire/beaglev-fire-u-boot.git&quot;</span></span><br><span class="line"></span><br><span class="line">DT_BRANCH=<span class="string">&quot;v6.6.x-Beagle&quot;</span></span><br><span class="line">DT_REPO=<span class="string">&quot;https://openbeagle.org/beagleboard/BeagleBoard-DeviceTrees.git&quot;</span></span><br><span class="line"><span class="comment">#DT_REPO=&quot;git@openbeagle.org:beagleboard/BeagleBoard-DeviceTrees.git&quot;</span></span><br><span class="line"></span><br><span class="line">LINUX_BRANCH=<span class="string">&quot;linux4microchip+fpga-2024.09.1&quot;</span></span><br><span class="line">LINUX_REPO=<span class="string">&quot;https://github.com/linux4microchip/linux.git&quot;</span></span><br><span class="line"><span class="comment">#LINUX_REPO=&quot;https://openbeagle.org/beaglev-fire/beaglev-fire-linux.git&quot;</span></span><br><span class="line"><span class="comment">#LINUX_REPO=&quot;git@openbeagle.org:beaglev-fire/beaglev-fire-linux.git&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#LINUX_BRANCH=&quot;master&quot;</span></span><br><span class="line"><span class="comment">#LINUX_REPO=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -f ./mirror/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/<span class="variable">$&#123;GCC_VERSION&#125;</span>/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz&quot;</span></span><br><span class="line">	wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/<span class="variable">$&#123;GCC_VERSION&#125;</span>/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -f ./riscv-toolchain/bin/riscv64-linux-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span> ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;tar xf ./mirror/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/&quot;</span></span><br><span class="line">	tar xf ./mirror/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d ./hart-software-services/ ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">rm</span> -rf ./hart-software-services/ || <span class="literal">true</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;git clone -b <span class="variable">$&#123;HSS_BRANCH&#125;</span> <span class="variable">$&#123;HSS_REPO&#125;</span> ./hart-software-services/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span>&quot;</span></span><br><span class="line">git <span class="built_in">clone</span> -b <span class="variable">$&#123;HSS_BRANCH&#125;</span> <span class="variable">$&#123;HSS_REPO&#125;</span> ./hart-software-services/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d ./u-boot ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">rm</span> -rf ./u-boot || <span class="literal">true</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;git clone -b <span class="variable">$&#123;UBOOT_BRANCH&#125;</span> <span class="variable">$&#123;UBOOT_REPO&#125;</span> ./u-boot/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span>&quot;</span></span><br><span class="line">git <span class="built_in">clone</span> -b <span class="variable">$&#123;UBOOT_BRANCH&#125;</span> <span class="variable">$&#123;UBOOT_REPO&#125;</span> ./u-boot/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d ./device-tree ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">rm</span> -rf ./device-tree || <span class="literal">true</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;git clone -b <span class="variable">$&#123;DT_BRANCH&#125;</span> <span class="variable">$&#123;DT_REPO&#125;</span> ./device-tree/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span>&quot;</span></span><br><span class="line">git <span class="built_in">clone</span> -b <span class="variable">$&#123;DT_BRANCH&#125;</span> <span class="variable">$&#123;DT_REPO&#125;</span> ./device-tree/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d ./linux ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">rm</span> -rf ./linux || <span class="literal">true</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;git clone -b <span class="variable">$&#123;LINUX_BRANCH&#125;</span> <span class="variable">$&#123;LINUX_REPO&#125;</span> ./linux/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span>&quot;</span></span><br><span class="line">git <span class="built_in">clone</span> --reference-if-able ~/linux-src/ -b <span class="variable">$&#123;LINUX_BRANCH&#125;</span> <span class="variable">$&#123;LINUX_REPO&#125;</span> ./linux/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#BUILDROOT_BRANCH=&quot;bvf&quot;</span></span><br><span class="line"><span class="comment">#BUILDROOT_REPO=&quot;https://openbeagle.org/beaglev-fire/buildroot-external-microchip.git&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#if [ -d ./buildroot ] ; then</span></span><br><span class="line">	<span class="comment">#rm -rf ./buildroot || true</span></span><br><span class="line"><span class="comment">#fi</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#echo &quot;git clone -b $&#123;BUILDROOT_BRANCH&#125; $&#123;BUILDROOT_REPO&#125; ./buildroot/ --depth=$&#123;GIT_DEPTH&#125;&quot;</span></span><br><span class="line"><span class="comment">#git clone -b $&#123;BUILDROOT_BRANCH&#125; $&#123;BUILDROOT_REPO&#125; ./buildroot/ --depth=$&#123;GIT_DEPTH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h2 id="build_linux.sh">1.2 <code>04_build_linux.sh</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">CORES=$(getconf _NPROCESSORS_ONLN)</span><br><span class="line">wdir=`pwd`</span><br><span class="line">CC=$&#123;CC:-&quot;$&#123;wdir&#125;/riscv-toolchain/bin/riscv64-linux-&quot;&#125;</span><br><span class="line"></span><br><span class="line">cd ./linux/</span><br><span class="line"></span><br><span class="line">if [ ! -f ./.patched ] ; then</span><br><span class="line">	if [ -f arch/riscv/configs/mpfs_defconfig ] ; then</span><br><span class="line">		git am ../patches/linux/0002-PCIe-Change-controller-and-bridge-base-address.patch</span><br><span class="line">		git am ../patches/linux/0003-GPIO-Add-Microchip-CoreGPIO-driver.patch</span><br><span class="line">		git am ../patches/linux/0004-ADC-Add-Microchip-MCP356X-driver.patch</span><br><span class="line">		git am ../patches/linux/0005-Microchip-QSPI-Add-regular-transfers.patch</span><br><span class="line">		git am ../patches/linux/0006-BeagleV-Fire-Add-printk-to-IM219-driver-for-board-te.patch</span><br><span class="line">		git am ../patches/linux/0007-MMC-SPI-Hack-to-support-non-DMA-capable-SPI-ctrl.patch</span><br><span class="line">		git am ../patches/linux/0008-Add-wireless-regdb-regulatory-database-file.patch</span><br><span class="line">		git am ../patches/linux/0009-Makefile-build-mpfs-beaglev-fire.dtb.patch</span><br><span class="line">		git am ../patches/linux/0010-BeagleV-Fire-Add-MPFS-TVS-auxiliary-driver.patch</span><br><span class="line">	fi</span><br><span class="line">	touch .patched</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -f arch/riscv/configs/mpfs_defconfig ] ; then</span><br><span class="line">#	cp -v ../patches/linux/Makefile arch/riscv/boot/dts/microchip/Makefile</span><br><span class="line">	cp -v ../device-tree/src/riscv/microchip/mpfs-beaglev-fire.dts arch/riscv/boot/dts/microchip/</span><br><span class="line">	cp -v ../device-tree/src/riscv/microchip/mpfs-beaglev-fire-fabric.dtsi arch/riscv/boot/dts/microchip/</span><br><span class="line">	cp -v ../device-tree/src/riscv/microchip/mpfs-beaglev-fire-pinmux.dtsi arch/riscv/boot/dts/microchip/</span><br><span class="line">	#echo &quot;************************************&quot;</span><br><span class="line">	#git diff arch/riscv/boot/dts/microchip/ &gt; log.txt ; cat log.txt ; rm log.txt</span><br><span class="line">	#echo &quot;************************************&quot;</span><br><span class="line">	#echo &quot;Current Device Tree Changes (5 second wait)&quot;</span><br><span class="line">	#sleep 5</span><br><span class="line">#else</span><br><span class="line">#	cp -v ../patches/linux/mainline/Makefile arch/riscv/boot/dts/microchip/Makefile</span><br><span class="line">#	cp -v ../patches/linux/mainline/dts/mpfs-beaglev-fire.dts arch/riscv/boot/dts/microchip/</span><br><span class="line">#	cp -v ../patches/linux/mainline/dts/mpfs-beaglev-fire-fabric.dtsi arch/riscv/boot/dts/microchip/</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo &quot;make ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; clean&quot;</span><br><span class="line">make ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; clean</span><br><span class="line"></span><br><span class="line">if [ -f arch/riscv/configs/mpfs_defconfig ] ; then</span><br><span class="line">	cp -v ../patches/linux/mpfs_defconfig ./arch/riscv/configs/mpfs_defconfig</span><br><span class="line"></span><br><span class="line">	echo &quot;make ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; mpfs_defconfig&quot;</span><br><span class="line">	make ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; mpfs_defconfig</span><br><span class="line"></span><br><span class="line">	./scripts/config --set-str CONFIG_LOCALVERSION &quot;-$(date +%Y%m%d)&quot;</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_OF_OVERLAY</span><br><span class="line">	./scripts/config --disable CONFIG_MODULE_DECOMPRESS</span><br><span class="line"></span><br><span class="line">	#enable CONFIG_DYNAMIC_FTRACE</span><br><span class="line">	./scripts/config --enable CONFIG_FUNCTION_TRACER</span><br><span class="line">	./scripts/config --enable CONFIG_DYNAMIC_FTRACE</span><br><span class="line"></span><br><span class="line">	./scripts/config --disable CONFIG_MODULE_COMPRESS_ZSTD</span><br><span class="line">	./scripts/config --enable CONFIG_MODULE_COMPRESS_XZ</span><br><span class="line">	./scripts/config --enable CONFIG_GPIO_AGGREGATOR</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_USER_API_HASH</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_USER_API_SKCIPHER</span><br><span class="line">	./scripts/config --enable CONFIG_KEY_DH_OPERATIONS</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_ECB</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_MD4</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_MD5</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_CBC</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_SHA256</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_AES</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_DES</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_CMAC</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_HMAC</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_SHA512</span><br><span class="line">	./scripts/config --enable CONFIG_CRYPTO_SHA1</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_SENSORS_TVS_MPFS</span><br><span class="line"></span><br><span class="line">	echo &quot;make -j$&#123;CORES&#125; ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; olddefconfig&quot;</span><br><span class="line">	make -j$&#123;CORES&#125; ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; olddefconfig</span><br><span class="line">else</span><br><span class="line">	echo &quot;make ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; defconfig&quot;</span><br><span class="line">	make ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; defconfig</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_PCIE_MICROCHIP_HOST</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_OF_OVERLAY</span><br><span class="line">	./scripts/config --enable CONFIG_MODULE_COMPRESS_ZSTD</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_I2C</span><br><span class="line">	./scripts/config --enable CONFIG_EEPROM_AT24</span><br><span class="line">	./scripts/config --enable CONFIG_I2C_MICROCHIP_CORE</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_SPI_MICROCHIP_CORE</span><br><span class="line">	./scripts/config --enable CONFIG_SPI_MICROCHIP_CORE_QSPI</span><br><span class="line">	./scripts/config --module CONFIG_SPI_SPIDEV</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_GPIO_SYSFS</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_HW_RANDOM_POLARFIRE_SOC</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_USB_MUSB_HDRC</span><br><span class="line">	./scripts/config --enable CONFIG_NOP_USB_XCEIV</span><br><span class="line">	./scripts/config --enable CONFIG_USB_MUSB_POLARFIRE_SOC</span><br><span class="line">	./scripts/config --enable CONFIG_USB_MUSB_DUAL_ROLE</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_MAILBOX</span><br><span class="line">	./scripts/config --enable CONFIG_POLARFIRE_SOC_MAILBOX</span><br><span class="line">	./scripts/config --disable CONFIG_SUN6I_MSGBOX</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_REMOTEPROC</span><br><span class="line">	./scripts/config --enable CONFIG_REMOTEPROC_CDEV</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_POLARFIRE_SOC_SYS_CTRL</span><br><span class="line"></span><br><span class="line">	./scripts/config --enable CONFIG_USB_GADGET</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS</span><br><span class="line">	./scripts/config --enable CONFIG_CONFIGFS_FS</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_SERIAL</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_ACM</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_OBEX</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_NCM</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_ECM</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_ECM_SUBSET</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_RNDIS</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_EEM</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_PHONET</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_MASS_STORAGE</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_F_LB_SS</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_F_FS</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_F_UAC1</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_F_UAC2</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_F_MIDI</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_F_HID</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_F_UVC</span><br><span class="line">	./scripts/config --enable CONFIG_USB_CONFIGFS_F_PRINTER</span><br><span class="line"></span><br><span class="line">	./scripts/config --module CONFIG_MEDIA_SUPPORT</span><br><span class="line">	./scripts/config --enable CONFIG_MEDIA_SUPPORT_FILTER</span><br><span class="line">	./scripts/config --enable CONFIG_MEDIA_SUBDRV_AUTOSELECT</span><br><span class="line">	./scripts/config --enable CONFIG_MEDIA_CAMERA_SUPPORT</span><br><span class="line">	./scripts/config --module CONFIG_VIDEO_IMX219</span><br><span class="line"></span><br><span class="line">	./scripts/config --module CONFIG_IIO</span><br><span class="line"></span><br><span class="line">	#Cleanup large DRM...</span><br><span class="line">	./scripts/config --disable CONFIG_DRM</span><br><span class="line">	./scripts/config --disable CONFIG_DRM_RADEON</span><br><span class="line">	./scripts/config --disable CONFIG_DRM_NOUVEAU</span><br><span class="line">	./scripts/config --disable CONFIG_DRM_SUN4I</span><br><span class="line"></span><br><span class="line">	#Optimize:</span><br><span class="line">	./scripts/config --enable CONFIG_IP_NF_IPTABLES</span><br><span class="line">	./scripts/config --enable CONFIG_NETFILTER_XTABLES</span><br><span class="line">	./scripts/config --enable CONFIG_NLS_ISO8859_1</span><br><span class="line">	./scripts/config --enable CONFIG_BLK_DEV_DM</span><br><span class="line"></span><br><span class="line">	./scripts/config --set-str CONFIG_LOCALVERSION &quot;-$(date +%Y%m%d)&quot;</span><br><span class="line"></span><br><span class="line">	echo &quot;make -j$&#123;CORES&#125; ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; olddefconfig&quot;</span><br><span class="line">	make -j$&#123;CORES&#125; ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; olddefconfig</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo &quot;make -j$&#123;CORES&#125; ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; Image modules dtbs&quot;</span><br><span class="line">make -j$&#123;CORES&#125; ARCH=riscv CROSS_COMPILE=&quot;ccache $&#123;CC&#125;&quot; Image modules dtbs</span><br><span class="line"></span><br><span class="line">if [ ! -f ./arch/riscv/boot/Image ] ; then</span><br><span class="line">	echo &quot;Build Failed&quot;</span><br><span class="line">	exit 2</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">KERNEL_UTS=$(cat &quot;$&#123;wdir&#125;/linux/include/generated/utsrelease.h&quot; | awk &#x27;&#123;print $3&#125;&#x27; | sed &#x27;s/\&quot;//g&#x27; )</span><br><span class="line"></span><br><span class="line">if [ -d &quot;$&#123;wdir&#125;/deploy/tmp/&quot; ] ; then</span><br><span class="line">	rm -rf &quot;$&#123;wdir&#125;/deploy/tmp/&quot;</span><br><span class="line">fi</span><br><span class="line">mkdir -p &quot;$&#123;wdir&#125;/deploy/tmp/&quot;</span><br><span class="line"></span><br><span class="line">make -s ARCH=riscv CROSS_COMPILE=$&#123;CC&#125; modules_install INSTALL_MOD_PATH=&quot;$&#123;wdir&#125;/deploy/tmp&quot;</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$&#123;wdir&#125;/deploy/$&#123;KERNEL_UTS&#125;-modules.tar.gz&quot; ] ; then</span><br><span class="line">	rm -rf &quot;$&#123;wdir&#125;/deploy/$&#123;KERNEL_UTS&#125;-modules.tar.gz&quot; || true</span><br><span class="line">fi</span><br><span class="line">echo &quot;Compressing $&#123;KERNEL_UTS&#125;-modules.tar.gz...&quot;</span><br><span class="line">echo &quot;$&#123;KERNEL_UTS&#125;&quot; &gt; &quot;$&#123;wdir&#125;/deploy/.modules&quot;</span><br><span class="line">cd &quot;$&#123;wdir&#125;/deploy/tmp&quot; || true</span><br><span class="line">tar --create --gzip --file &quot;../$&#123;KERNEL_UTS&#125;-modules.tar.gz&quot; ./*</span><br><span class="line">cd &quot;$&#123;wdir&#125;/linux/&quot; || exit</span><br><span class="line">rm -rf &quot;$&#123;wdir&#125;/deploy/tmp&quot; || true</span><br><span class="line"></span><br><span class="line">if [ -f arch/riscv/configs/mpfs_defconfig ] ; then</span><br><span class="line">	cp -v ./.config ../patches/linux/mpfs_defconfig</span><br><span class="line">	cp -v ./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dts ../patches/linux/dts/mpfs-beaglev-fire.dts</span><br><span class="line">	cp -v ./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire-fabric.dtsi ../patches/linux/dts/mpfs-beaglev-fire-fabric.dtsi</span><br><span class="line">else</span><br><span class="line">	cp -v ./.config ../patches/linux/mainline/defconfig</span><br><span class="line">	cp -v ./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dts ../patches/linux/mainline/dts/mpfs-beaglev-fire.dts</span><br><span class="line">	cp -v ./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire-fabric.dtsi ../patches/linux/mainline/dts/mpfs-beaglev-fire-fabric.dtsi</span><br><span class="line">fi</span><br><span class="line">if [ ! -d ../deploy/input/ ] ; then</span><br><span class="line">	mkdir -p ../deploy/input/ || true</span><br><span class="line">fi</span><br><span class="line">cp -v ./arch/riscv/boot/Image ../deploy/input/</span><br><span class="line">cp -v ./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dtb ../deploy/input/</span><br><span class="line"></span><br><span class="line">cd ../</span><br><span class="line"></span><br><span class="line">cp -v ./patches/linux/beaglev_fire.its ./deploy/input/</span><br><span class="line">cd ./deploy/input/</span><br><span class="line">gzip -9 Image -c &gt; Image.gz</span><br><span class="line">if [ -f ../../u-boot/tools/mkimage ] ; then</span><br><span class="line">	../../u-boot/tools/mkimage -f beaglev_fire.its beaglev_fire.itb</span><br><span class="line">fi</span><br><span class="line">#</span><br></pre></td></tr></table></figure>
<h2 id="generate_ubuntu_console_root.sh">1.3
<code>06_generate_ubuntu_console_root.sh</code></h2>
<p>Just update <strong>23.04</strong> to <strong>24.04</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">if ! id | grep -q root; then</span><br><span class="line">	echo &quot;./06_generate_ubuntu_console_root.sh must be run as root:&quot;</span><br><span class="line">	echo &quot;sudo ./06_generate_ubuntu_console_root.sh&quot;</span><br><span class="line">	exit</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">wdir=`pwd`</span><br><span class="line"></span><br><span class="line">if [ -f /tmp/latest ] ; then</span><br><span class="line">	rm -rf /tmp/latest | true</span><br><span class="line">fi</span><br><span class="line">wget --quiet --directory-prefix=/tmp/ https://rcn-ee.net/rootfs/ubuntu-riscv64-24.04-minimal/latest || true</span><br><span class="line">if [ -f /tmp/latest ] ; then</span><br><span class="line">	latest_rootfs=$(cat &quot;/tmp/latest&quot;)</span><br><span class="line">	datestamp=$(cat &quot;/tmp/latest&quot; | awk -F &#x27;riscv64-&#x27; &#x27;&#123;print $2&#125;&#x27; | awk -F &#x27;.&#x27; &#x27;&#123;print $1&#125;&#x27;)</span><br><span class="line"></span><br><span class="line">	if [ ! -f ./deploy/ubuntu-24.04.1-console-riscv64-$&#123;datestamp&#125;/riscv64-rootfs-ubuntu-lunar.tar ] ; then</span><br><span class="line">		if [ -f ./.gitlab-runner ] ; then</span><br><span class="line">			wget -c --directory-prefix=./deploy http://192.168.1.98/mirror/rcn-ee.us/rootfs/ubuntu-riscv64-24.04-minimal/$&#123;datestamp&#125;/$&#123;latest_rootfs&#125;</span><br><span class="line">		else</span><br><span class="line">			wget -c --directory-prefix=./deploy https://rcn-ee.net/rootfs/ubuntu-riscv64-24.04-minimal/$&#123;datestamp&#125;/$&#123;latest_rootfs&#125;</span><br><span class="line">		fi</span><br><span class="line">		cd ./deploy/</span><br><span class="line">		tar xf $&#123;latest_rootfs&#125;</span><br><span class="line">		cd ../</span><br><span class="line">	fi</span><br><span class="line">else</span><br><span class="line">	echo &quot;Failure: getting image&quot;</span><br><span class="line">	exit 2</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -d ./ignore/.root ] ; then</span><br><span class="line">	rm -rf ./ignore/.root || true</span><br><span class="line">fi</span><br><span class="line">mkdir -p ./ignore/.root</span><br><span class="line"></span><br><span class="line">echo &quot;Extracting: ubuntu-24.04.1-console-riscv64-$&#123;datestamp&#125;/riscv64-rootfs-ubuntu-lunar.tar&quot;</span><br><span class="line">tar xfp ./deploy/ubuntu-24.04.1-console-riscv64-$&#123;datestamp&#125;/riscv64-rootfs-ubuntu-lunar.tar -C ./ignore/.root</span><br><span class="line">sync</span><br><span class="line"></span><br><span class="line">mkdir -p ./deploy/input/ || true</span><br><span class="line">cp -v ./deploy/boot.scr deploy/input/</span><br><span class="line">cp -v ./deploy/sysconf.txt deploy/input/</span><br><span class="line"></span><br><span class="line">echo &quot;label Linux eMMC&quot; &gt; ./deploy/input/extlinux.conf</span><br><span class="line">echo &quot;    kernel /Image&quot; &gt;&gt; ./deploy/input/extlinux.conf</span><br><span class="line">#echo &quot;    append root=/dev/mmcblk0p3 ro rootfstype=ext4 rootwait console=ttyS0,115200 earlycon uio_pdrv_genirq.of_id=generic-uio net.ifnames=0&quot; &gt;&gt; ./deploy/input/extlinux.conf</span><br><span class="line">echo &quot;    fdtdir /&quot; &gt;&gt; ./deploy/input/extlinux.conf</span><br><span class="line">echo &quot;    fdt /mpfs-beaglev-fire.dtb&quot; &gt;&gt; ./deploy/input/extlinux.conf</span><br><span class="line">echo &quot;    #fdtoverlays /overlays/&lt;file&gt;.dtbo&quot; &gt;&gt; ./deploy/input/extlinux.conf</span><br><span class="line"></span><br><span class="line">#echo &quot;extlinux/extlinux.conf&quot;</span><br><span class="line">#cat ./deploy/input/extlinux.conf</span><br><span class="line"></span><br><span class="line">mkdir -p ./ignore/.root/boot/firmware/ || true</span><br><span class="line"></span><br><span class="line">echo &#x27;/dev/mmcblk0p2  /boot/firmware/  vfat  user,uid=1000,gid=1000,defaults  0  2&#x27; &gt;&gt; ./ignore/.root/etc/fstab</span><br><span class="line">echo &#x27;/dev/mmcblk0p3  /  auto  errors=remount-ro  0  1&#x27; &gt;&gt; ./ignore/.root/etc/fstab</span><br><span class="line">echo &#x27;debugfs  /sys/kernel/debug  debugfs  mode=755,uid=root,gid=gpio,defaults  0  0&#x27; &gt;&gt; ./ignore/.root/etc/fstab</span><br><span class="line"></span><br><span class="line">#Network-Manager, ignore eth1</span><br><span class="line">#cp -v ./rootfs/etc/NetworkManager/conf.d/*.conf ./ignore/.root/etc/NetworkManager/conf.d/</span><br><span class="line"></span><br><span class="line">cp -v ./ignore/.root/etc/bbb.io/templates/eth0-DHCP.network ./ignore/.root/etc/systemd/network/eth0.network || true</span><br><span class="line">cp -v ./ignore/.root/etc/bbb.io/templates/eth1-DHCP.network ./ignore/.root/etc/systemd/network/eth1.network || true</span><br><span class="line"></span><br><span class="line"># setuid root ping+ping6</span><br><span class="line">chmod u+s ./ignore/.root/usr/bin/ping ./ignore/.root/usr/bin/ping6</span><br><span class="line"></span><br><span class="line">#Default nginx export</span><br><span class="line">rm -f ./ignore/.root/etc/nginx/sites-enabled/default || true</span><br><span class="line">cp -v ./ignore/.root/etc/bbb.io/templates/nginx/nginx-autoindex ./ignore/.root/etc/nginx/sites-enabled/default</span><br><span class="line">cp -v ./ignore/.root/etc/bbb.io/templates/nginx/*.html ./ignore/.root/var/www/html/</span><br><span class="line">rm -f ./ignore/.root/var/www/html/index.nginx-debian.html || true</span><br><span class="line"></span><br><span class="line">if [ -f ./deploy/.modules ] ; then</span><br><span class="line">	version=$(cat ./deploy/.modules || true)</span><br><span class="line">	if [ -f ./deploy/$&#123;version&#125;-modules.tar.gz ] ; then</span><br><span class="line">		tar xf ./deploy/$&#123;version&#125;-modules.tar.gz -C ./ignore/.root/usr/</span><br><span class="line">	fi</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo &#x27;---------------------&#x27;</span><br><span class="line">echo &#x27;File Size&#x27;</span><br><span class="line">du -sh ignore/.root/ || true</span><br><span class="line">echo &#x27;---------------------&#x27;</span><br><span class="line"></span><br><span class="line">dd if=/dev/zero of=./deploy/input/root.ext4 bs=1 count=0 seek=3800M</span><br><span class="line">mkfs.ext4 -F ./deploy/input/root.ext4 -d ./ignore/.root</span><br><span class="line"></span><br><span class="line">if [ -f ./.06_generate_root.sh ] ; then</span><br><span class="line">	rm -f ./.06_generate_root.sh || true</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h2 id="git_linux_mainline.sh">1.4
<code>git_linux_mainline.sh</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">GCC_VERSION=&quot;14.2.0&quot;</span><br><span class="line"></span><br><span class="line">HSS_BRANCH=&quot;v2024.09&quot;</span><br><span class="line">HSS_REPO=&quot;https://github.com/polarfire-soc/hart-software-services.git&quot;</span><br><span class="line"></span><br><span class="line">#UBOOT_BRANCH=&quot;mpfs-uboot-2022.01&quot;</span><br><span class="line">UBOOT_BRANCH=&quot;linux4microchip+fpga-2024.09&quot;</span><br><span class="line">UBOOT_REPO=&quot;https://github.com/linux4microchip/u-boot-mchp&quot;</span><br><span class="line"></span><br><span class="line">#LINUX_BRANCH=&quot;linux4microchip+fpga-2023.06&quot;</span><br><span class="line">#LINUX_REPO=&quot;https://github.com/linux4microchip/linux.git&quot;</span><br><span class="line"></span><br><span class="line">LINUX_BRANCH=&quot;master&quot;</span><br><span class="line">LINUX_REPO=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git&quot;</span><br><span class="line"></span><br><span class="line">#Use custom device tree and Makefile in patches/linux directory...</span><br><span class="line">#LINUX_BRANCH=&quot;linux-6.4.y&quot;</span><br><span class="line">#LINUX_BRANCH=&quot;linux-6.3.y&quot;</span><br><span class="line">#LINUX_BRANCH=&quot;linux-6.2.y&quot;</span><br><span class="line">#LINUX_BRANCH=&quot;linux-6.1.y&quot;</span><br><span class="line">#LINUX_REPO=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git&quot;</span><br><span class="line"></span><br><span class="line">GIT_DEPTH=&quot;20&quot;</span><br><span class="line"></span><br><span class="line">if [ ! -f ./mirror/x86_64-gcc-$&#123;GCC_VERSION&#125;.0-nolibc-riscv64-linux.tar.xz ] ; then</span><br><span class="line">	echo &quot;wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/14.2.0/x86_64-gcc-14.2.0-nolibc-riscv64-linux.tar.xz&quot;</span><br><span class="line">	wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/14.2.0/x86_64-gcc-14.2.0-nolibc-riscv64-linux.tar.xz</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ ! -f ./riscv-toolchain/bin/riscv64-linux-gcc-$&#123;GCC_VERSION&#125;.0 ] ; then</span><br><span class="line">	echo &quot;tar xf ./mirror/x86_64-gcc-14.2.0-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/&quot;</span><br><span class="line">	tar xf ./mirror/x86_64-gcc-14.2.0-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">#if [ ! -f ./mirror/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz ] ; then</span><br><span class="line">#	echo &quot;wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/13.2.0/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz&quot;</span><br><span class="line">#	wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/13.2.0/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz</span><br><span class="line">#fi</span><br><span class="line"></span><br><span class="line">#if [ ! -f ./riscv-toolchain/bin/riscv64-linux-gcc-13.2.0 ] ; then</span><br><span class="line">#	echo &quot;tar xf ./mirror/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/&quot;</span><br><span class="line">#	tar xf ./mirror/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/</span><br><span class="line">#fi</span><br><span class="line"></span><br><span class="line">#if [ -d ./hart-software-services/ ] ; then</span><br><span class="line">#	rm -rf ./hart-software-services/ || true</span><br><span class="line">#fi</span><br><span class="line"></span><br><span class="line">#echo &quot;git clone -b $&#123;HSS_BRANCH&#125; $&#123;HSS_REPO&#125; ./hart-software-services/ --depth=$&#123;GIT_DEPTH&#125;&quot;</span><br><span class="line">#git clone -b $&#123;HSS_BRANCH&#125; $&#123;HSS_REPO&#125; ./hart-software-services/ --depth=$&#123;GIT_DEPTH&#125;</span><br><span class="line"></span><br><span class="line">#if [ -d ./u-boot ] ; then</span><br><span class="line">#	rm -rf ./u-boot || true</span><br><span class="line">#fi</span><br><span class="line"></span><br><span class="line">#echo &quot;git clone -b $&#123;UBOOT_BRANCH&#125; $&#123;UBOOT_REPO&#125; ./u-boot/ --depth=$&#123;GIT_DEPTH&#125;&quot;</span><br><span class="line">#git clone -b $&#123;UBOOT_BRANCH&#125; $&#123;UBOOT_REPO&#125; ./u-boot/ --depth=$&#123;GIT_DEPTH&#125;</span><br><span class="line"></span><br><span class="line">if [ -d ./linux ] ; then</span><br><span class="line">	rm -rf ./linux || true</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo &quot;git clone -b $&#123;LINUX_BRANCH&#125; $&#123;LINUX_REPO&#125; ./linux/ --depth=$&#123;GIT_DEPTH&#125;&quot;</span><br><span class="line">git clone -b $&#123;LINUX_BRANCH&#125; $&#123;LINUX_REPO&#125; ./linux/ --depth=$&#123;GIT_DEPTH&#125;</span><br><span class="line"></span><br><span class="line">#</span><br></pre></td></tr></table></figure>
<h2 id="git_linux_mpfs.sh">1.5 <code>git_linux_mpfs.sh</code></h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">GCC_VERSION=<span class="string">&quot;14.2.0&quot;</span></span><br><span class="line"></span><br><span class="line">HSS_BRANCH=<span class="string">&quot;v2024.09&quot;</span></span><br><span class="line">HSS_REPO=<span class="string">&quot;https://github.com/polarfire-soc/hart-software-services.git&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#UBOOT_BRANCH=&quot;mpfs-uboot-2022.01&quot;</span></span><br><span class="line">UBOOT_BRANCH=<span class="string">&quot;u-boot-2024.07-mchp&quot;</span></span><br><span class="line">UBOOT_REPO=<span class="string">&quot;https://github.com/linux4microchip/u-boot-mchp.git&quot;</span></span><br><span class="line"></span><br><span class="line">LINUX_BRANCH=<span class="string">&quot;linux4microchip+fpga-2024.09&quot;</span></span><br><span class="line">LINUX_REPO=<span class="string">&quot;https://github.com/linux4microchip/linux.git&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#LINUX_BRANCH=&quot;master&quot;</span></span><br><span class="line"><span class="comment">#LINUX_REPO=&quot;https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git&quot;</span></span><br><span class="line"></span><br><span class="line">GIT_DEPTH=<span class="string">&quot;20&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -f ./mirror/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/<span class="variable">$&#123;GCC_VERSION&#125;</span>/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz&quot;</span></span><br><span class="line">	wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/<span class="variable">$&#123;GCC_VERSION&#125;</span>/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -f ./riscv-toolchain/bin/riscv64-linux-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span> ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;tar xf ./mirror/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/&quot;</span></span><br><span class="line">	tar xf ./mirror/x86_64-gcc-<span class="variable">$&#123;GCC_VERSION&#125;</span>-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#if [ ! -f ./mirror/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz ] ; then</span></span><br><span class="line"><span class="comment">#	echo &quot;wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/13.2.0/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz&quot;</span></span><br><span class="line"><span class="comment">#	wget -c --directory-prefix=./mirror/ https://mirrors.edge.kernel.org/pub/tools/crosstool/files/bin/x86_64/13.2.0/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz</span></span><br><span class="line"><span class="comment">#fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#if [ ! -f ./riscv-toolchain/bin/riscv64-linux-gcc-13.2.0 ] ; then</span></span><br><span class="line"><span class="comment">#	echo &quot;tar xf ./mirror/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/&quot;</span></span><br><span class="line"><span class="comment">#	tar xf ./mirror/x86_64-gcc-13.2.0-nolibc-riscv64-linux.tar.xz --strip-components=2 -C ./riscv-toolchain/</span></span><br><span class="line"><span class="comment">#fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#if [ -d ./hart-software-services/ ] ; then</span></span><br><span class="line"><span class="comment">#	rm -rf ./hart-software-services/ || true</span></span><br><span class="line"><span class="comment">#fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#echo &quot;git clone -b $&#123;HSS_BRANCH&#125; $&#123;HSS_REPO&#125; ./hart-software-services/ --depth=$&#123;GIT_DEPTH&#125;&quot;</span></span><br><span class="line"><span class="comment">#git clone -b $&#123;HSS_BRANCH&#125; $&#123;HSS_REPO&#125; ./hart-software-services/ --depth=$&#123;GIT_DEPTH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#if [ -d ./u-boot ] ; then</span></span><br><span class="line"><span class="comment">#	rm -rf ./u-boot || true</span></span><br><span class="line"><span class="comment">#fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#echo &quot;git clone -b $&#123;UBOOT_BRANCH&#125; $&#123;UBOOT_REPO&#125; ./u-boot/ --depth=$&#123;GIT_DEPTH&#125;&quot;</span></span><br><span class="line"><span class="comment">#git clone -b $&#123;UBOOT_BRANCH&#125; $&#123;UBOOT_REPO&#125; ./u-boot/ --depth=$&#123;GIT_DEPTH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d ./linux ] ; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">rm</span> -rf ./linux || <span class="literal">true</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;git clone -b <span class="variable">$&#123;LINUX_BRANCH&#125;</span> <span class="variable">$&#123;LINUX_REPO&#125;</span> ./linux/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span>&quot;</span></span><br><span class="line">git <span class="built_in">clone</span> -b <span class="variable">$&#123;LINUX_BRANCH&#125;</span> <span class="variable">$&#123;LINUX_REPO&#125;</span> ./linux/ --depth=<span class="variable">$&#123;GIT_DEPTH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h1
id="manually-flash-beaglev-fire-board-with-all-updates---failed-to-boot">2.
Manually Flash <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/boards/beaglev-fire">BeagleV-Fire
Board</a> With ALL Updates - Failed To Boot</h1>
<h2 id="git_sync.sh-1">2.1 <code>01_git_sync.sh</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./01_git_sync.sh </span><br><span class="line">git clone -b v2024.09 https://github.com/polarfire-soc/hart-software-services.git ./hart-software-services/ --depth=20</span><br><span class="line">Cloning into &#x27;./hart-software-services&#x27;...</span><br><span class="line">remote: Enumerating objects: 1927, done.</span><br><span class="line">remote: Counting objects: 100% (1927/1927), done.</span><br><span class="line">remote: Compressing objects: 100% (1269/1269), done.</span><br><span class="line">remote: Total 1927 (delta 750), reused 1310 (delta 594), pack-reused 0 (from 0)</span><br><span class="line">Receiving objects: 100% (1927/1927), 4.34 MiB | 9.74 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (750/750), done.</span><br><span class="line">Note: switching to &#x27;d4f264196f6549a41eab246e1df4ab58b5744950&#x27;.</span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -c with the switch command. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to false</span><br><span class="line"></span><br><span class="line">git clone -b linux4microchip+fpga-2024.09 https://github.com/linux4microchip/u-boot-mchp.git ./u-boot/ --depth=20</span><br><span class="line">Cloning into &#x27;./u-boot&#x27;...</span><br><span class="line">remote: Enumerating objects: 21768, done.</span><br><span class="line">remote: Counting objects: 100% (21768/21768), done.</span><br><span class="line">remote: Compressing objects: 100% (18900/18900), done.</span><br><span class="line">remote: Total 21768 (delta 3895), reused 13023 (delta 2479), pack-reused 0 (from 0)</span><br><span class="line">Receiving objects: 100% (21768/21768), 28.80 MiB | 21.37 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (3895/3895), done.</span><br><span class="line">Note: switching to &#x27;f3858c18fa163210ebcb95d44e2ab181a234cdf0&#x27;.</span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -c with the switch command. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to false</span><br><span class="line"></span><br><span class="line">Updating files: 100% (19998/19998), done.</span><br><span class="line">git clone -b v6.6.x-Beagle https://openbeagle.org/beagleboard/BeagleBoard-DeviceTrees.git ./device-tree/ --depth=20</span><br><span class="line">Cloning into &#x27;./device-tree&#x27;...</span><br><span class="line">remote: Enumerating objects: 461, done.</span><br><span class="line">remote: Counting objects: 100% (461/461), done.</span><br><span class="line">remote: Compressing objects: 100% (301/301), done.</span><br><span class="line">remote: Total 461 (delta 202), reused 303 (delta 133), pack-reused 0 (from 0)</span><br><span class="line">Receiving objects: 100% (461/461), 421.34 KiB | 8.60 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (202/202), done.</span><br><span class="line">git clone -b linux4microchip+fpga-2024.09.1 https://github.com/linux4microchip/linux.git ./linux/ --depth=20</span><br><span class="line">Cloning into &#x27;./linux&#x27;...</span><br><span class="line">info: Could not add alternate for &#x27;/home/lvision/linux-src/&#x27;: path &#x27;/home/lvision/linux-src/&#x27; does not exist</span><br><span class="line">remote: Enumerating objects: 104359, done.</span><br><span class="line">remote: Counting objects: 100% (104359/104359), done.</span><br><span class="line">remote: Compressing objects: 100% (86274/86274), done.</span><br><span class="line">remote: Total 104359 (delta 20278), reused 99348 (delta 17156), pack-reused 0 (from 0)</span><br><span class="line">Receiving objects: 100% (104359/104359), 269.63 MiB | 16.51 MiB/s, done.</span><br><span class="line">Resolving deltas: 100% (20278/20278), done.</span><br><span class="line">Note: switching to &#x27;eed24b95b006240f806e6e7730ff3782a16074df&#x27;.</span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -c with the switch command. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to false</span><br><span class="line"></span><br><span class="line">Updating files: 100% (81932/81932), done.</span><br><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ </span><br></pre></td></tr></table></figure>
<h2 id="build_hss.sh">2.2 <code>./02_build_hss.sh</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./02_build_hss.sh </span><br><span class="line">make: Entering directory &#x27;....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator&#x27;</span><br><span class="line"> RM      ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/hss-payload-generator ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/main.o ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/yaml_parser.o ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/blob_handler.o ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/elf_parser.o ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/elf_strings.o ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/crc32.o ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/generate_payload.o ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/dump_payload.o ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/debug_printf.o</span><br><span class="line">make: Leaving directory &#x27;....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator&#x27;</span><br><span class="line">make -C hart-software-services/tools/hss-payload-generator/</span><br><span class="line">make: Entering directory &#x27;....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator&#x27;</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/main.o</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/yaml_parser.o</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/blob_handler.o</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/elf_parser.o</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/elf_strings.o</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/crc32.o</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/generate_payload.o</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/dump_payload.o</span><br><span class="line"> CC        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/debug_printf.o</span><br><span class="line"> LD        ....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator/hss-payload-generator</span><br><span class="line">make: Leaving directory &#x27;....../BeagleV-Fire-ubuntu/hart-software-services/tools/hss-payload-generator&#x27;</span><br><span class="line">&#x27;./hart-software-services/tools/hss-payload-generator/hss-payload-generator&#x27; -&gt; &#x27;./deploy/hss-payload-generator&#x27;</span><br></pre></td></tr></table></figure>
<h2 id="build_u-boot.sh">2.3 <code>./03_build_u-boot.sh</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./03_build_u-boot.sh </span><br><span class="line">make: Entering directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">make: Leaving directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">make: Entering directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/kconfig/conf.o</span><br><span class="line">  YACC    scripts/kconfig/zconf.tab.c</span><br><span class="line">  LEX     scripts/kconfig/zconf.lex.c</span><br><span class="line">  HOSTCC  scripts/kconfig/zconf.tab.o</span><br><span class="line">  HOSTLD  scripts/kconfig/conf</span><br><span class="line">#</span><br><span class="line"># configuration written to .config</span><br><span class="line">#</span><br><span class="line">make: Leaving directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">make: Entering directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">scripts/kconfig/conf  --olddefconfig Kconfig</span><br><span class="line">#</span><br><span class="line"># configuration written to .config</span><br><span class="line">#</span><br><span class="line">make: Leaving directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">make: Entering directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">scripts/kconfig/conf  --savedefconfig=defconfig Kconfig</span><br><span class="line">make: Leaving directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">&#x27;./u-boot/defconfig&#x27; -&gt; &#x27;./u-boot/configs/microchip_mpfs_icicle_defconfig&#x27;</span><br><span class="line">&#x27;./u-boot/defconfig&#x27; -&gt; &#x27;./patches/u-boot/beaglev-fire/microchip_mpfs_icicle_defconfig&#x27;</span><br><span class="line">make -C u-boot -j48 ARCH=riscv CROSS_COMPILE=....../BeagleV-Fire-ubuntu/riscv-toolchain/bin/riscv64-linux- all</span><br><span class="line">make: Entering directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">scripts/kconfig/conf  --syncconfig Kconfig</span><br><span class="line">  UPD     include/config.h</span><br><span class="line">  CFG     u-boot.cfg</span><br><span class="line">  GEN     include/autoconf.mk.dep</span><br><span class="line">  GEN     include/autoconf.mk</span><br><span class="line">  UPD     include/generated/dt.h</span><br><span class="line">  ENVC    include/generated/env.txt</span><br><span class="line">  UPD     include/generated/timestamp_autogenerated.h</span><br><span class="line">  ENVP    include/generated/env.in</span><br><span class="line">  ENVT    include/generated/environment.h</span><br><span class="line">  HOSTCC  scripts/dtc/dtc.o</span><br><span class="line">  HOSTCC  scripts/dtc/flattree.o</span><br><span class="line">  HOSTCC  scripts/dtc/fstree.o</span><br><span class="line">  HOSTCC  scripts/dtc/data.o</span><br><span class="line">  HOSTCC  scripts/dtc/livetree.o</span><br><span class="line">  HOSTCC  scripts/dtc/treesource.o</span><br><span class="line">  HOSTCC  scripts/dtc/srcpos.o</span><br><span class="line">  HOSTCC  scripts/dtc/checks.o</span><br><span class="line">  HOSTCC  scripts/dtc/util.o</span><br><span class="line">  LEX     scripts/dtc/dtc-lexer.lex.c</span><br><span class="line">  YACC    scripts/dtc/dtc-parser.tab.h</span><br><span class="line">  YACC    scripts/dtc/dtc-parser.tab.c</span><br><span class="line">  HOSTCC  scripts/dtc/yamltree.o</span><br><span class="line">  UPD     include/config/uboot.release</span><br><span class="line">  UPD     include/generated/version_autogenerated.h</span><br><span class="line">  CC      lib/asm-offsets.s</span><br><span class="line">  CC      arch/riscv/lib/asm-offsets.s</span><br><span class="line">  HOSTCC  scripts/dtc/dtc-parser.tab.o</span><br><span class="line">  HOSTCC  scripts/dtc/dtc-lexer.lex.o</span><br><span class="line">  UPD     include/generated/generic-asm-offsets.h</span><br><span class="line">  UPD     include/generated/asm-offsets.h</span><br><span class="line">  LDS     u-boot.lds</span><br><span class="line">  HOSTLD  scripts/dtc/dtc</span><br><span class="line">  HOSTCC  tools/gen_eth_addr</span><br><span class="line">  HOSTCC  tools/gen_ethaddr_crc.o</span><br><span class="line">  WRAP    tools/lib/crc8.c</span><br><span class="line">  HOSTCC  tools/img2srec</span><br><span class="line">  HOSTCC  tools/mkenvimage.o</span><br><span class="line">  HOSTCC  tools/os_support.o</span><br><span class="line">  WRAP    tools/lib/crc32.c</span><br><span class="line">  HOSTCC  tools/aisimage.o</span><br><span class="line">  HOSTCC  tools/atmelimage.o</span><br><span class="line">  HOSTCC  tools/fit_common.o</span><br><span class="line">  HOSTCC  tools/fit_image.o</span><br><span class="line">  HOSTCC  tools/image-host.o</span><br><span class="line">  WRAP    tools/boot/image-fit.c</span><br><span class="line">  HOSTCC  tools/image-sig-host.o</span><br><span class="line">  WRAP    tools/boot/image-fit-sig.c</span><br><span class="line">  WRAP    tools/boot/image-cipher.c</span><br><span class="line">  WRAP    tools/boot/fdt_region.c</span><br><span class="line">  WRAP    tools/boot/bootm.c</span><br><span class="line">  HOSTCC  tools/lib/crc32.o</span><br><span class="line">  HOSTCC  tools/default_image.o</span><br><span class="line">  WRAP    tools/lib/fdtdec_common.c</span><br><span class="line">  WRAP    tools/lib/fdtdec.c</span><br><span class="line">  WRAP    tools/boot/image.c</span><br><span class="line">  WRAP    tools/boot/image-host.c</span><br><span class="line">  HOSTCC  tools/imagetool.o</span><br><span class="line">  HOSTCC  tools/imximage.o</span><br><span class="line">  HOSTCC  tools/imx8image.o</span><br><span class="line">  HOSTCC  tools/imx8mimage.o</span><br><span class="line">  HOSTCC  tools/kwbimage.o</span><br><span class="line">  WRAP    tools/lib/md5.c</span><br><span class="line">  HOSTCC  tools/lpc32xximage.o</span><br><span class="line">  HOSTCC  tools/mxsimage.o</span><br><span class="line">  HOSTCC  tools/omapimage.o</span><br><span class="line">  HOSTCC  tools/pblimage.o</span><br><span class="line">  HOSTCC  tools/pbl_crc32.o</span><br><span class="line">  HOSTCC  tools/renesas_spkgimage.o</span><br><span class="line">  HOSTCC  tools/vybridimage.o</span><br><span class="line">  HOSTCC  tools/stm32image.o</span><br><span class="line">  WRAP    tools/lib/rc4.c</span><br><span class="line">  HOSTCC  tools/rkcommon.o</span><br><span class="line">  HOSTCC  tools/rkimage.o</span><br><span class="line">  HOSTCC  tools/rksd.o</span><br><span class="line">  HOSTCC  tools/rkspi.o</span><br><span class="line">  HOSTCC  tools/socfpgaimage.o</span><br><span class="line">  HOSTCC  tools/sunxi_egon.o</span><br><span class="line">  WRAP    tools/lib/crc16-ccitt.c</span><br><span class="line">  WRAP    tools/lib/hash-checksum.c</span><br><span class="line">  WRAP    tools/lib/sha1.c</span><br><span class="line">  WRAP    tools/lib/sha256.c</span><br><span class="line">  WRAP    tools/lib/sha512.c</span><br><span class="line">  WRAP    tools/common/hash.c</span><br><span class="line">  HOSTCC  tools/ublimage.o</span><br><span class="line">  HOSTCC  tools/zynqimage.o</span><br><span class="line">  HOSTCC  tools/zynqmpimage.o</span><br><span class="line">  HOSTCC  tools/zynqmpbif.o</span><br><span class="line">  WRAP    tools/lib/fdt-libcrypto.c</span><br><span class="line">  HOSTCC  tools/sunxi_toc0.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_ro.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_wip.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_sw.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_rw.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_strerror.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_empty_tree.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_addresses.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_overlay.o</span><br><span class="line">  HOSTCC  tools/libfdt/fdt_check.o</span><br><span class="line">  HOSTCC  tools/gpimage.o</span><br><span class="line">  HOSTCC  tools/gpimage-common.o</span><br><span class="line">  HOSTCC  tools/mtk_image.o</span><br><span class="line">  HOSTCC  tools/mtk_nand_headers.o</span><br><span class="line">  WRAP    tools/lib/ecdsa/ecdsa-libcrypto.c</span><br><span class="line">  WRAP    tools/lib/rsa/rsa-sign.c</span><br><span class="line">  WRAP    tools/lib/rsa/rsa-verify.c</span><br><span class="line">  WRAP    tools/lib/rsa/rsa-mod-exp.c</span><br><span class="line">  WRAP    tools/lib/aes/aes-encrypt.c</span><br><span class="line">  WRAP    tools/lib/aes/aes-decrypt.c</span><br><span class="line">  HOSTCC  tools/dumpimage.o</span><br><span class="line">  HOSTCC  tools/boot/image-fit.o</span><br><span class="line">  HOSTCC  tools/boot/image-fit-sig.o</span><br><span class="line">  HOSTCC  tools/boot/image-cipher.o</span><br><span class="line">  HOSTCC  tools/boot/fdt_region.o</span><br><span class="line">  HOSTCC  tools/boot/bootm.o</span><br><span class="line">  HOSTCC  tools/lib/fdtdec_common.o</span><br><span class="line">  HOSTCC  tools/lib/fdtdec.o</span><br><span class="line">  HOSTCC  tools/boot/image.o</span><br><span class="line">  HOSTCC  tools/boot/image-host.o</span><br><span class="line">  HOSTCC  tools/lib/md5.o</span><br><span class="line">  HOSTCC  tools/lib/rc4.o</span><br><span class="line">  HOSTCC  tools/lib/crc16-ccitt.o</span><br><span class="line">  HOSTCC  tools/lib/hash-checksum.o</span><br><span class="line">  HOSTCC  tools/lib/sha1.o</span><br><span class="line">  HOSTCC  tools/lib/sha256.o</span><br><span class="line">  HOSTCC  tools/lib/sha512.o</span><br><span class="line">  HOSTCC  tools/common/hash.o</span><br><span class="line">  HOSTCC  tools/lib/fdt-libcrypto.o</span><br><span class="line">  HOSTCC  tools/lib/ecdsa/ecdsa-libcrypto.o</span><br><span class="line">  HOSTCC  tools/lib/rsa/rsa-sign.o</span><br><span class="line">  HOSTCC  tools/lib/rsa/rsa-verify.o</span><br><span class="line">  HOSTCC  tools/lib/rsa/rsa-mod-exp.o</span><br><span class="line">  HOSTCC  tools/lib/aes/aes-encrypt.o</span><br><span class="line">  HOSTCC  tools/lib/aes/aes-decrypt.o</span><br><span class="line">  HOSTCC  tools/mkimage.o</span><br><span class="line">  HOSTCC  tools/fit_info.o</span><br><span class="line">  HOSTCC  tools/fit_check_sign.o</span><br><span class="line">  HOSTCC  tools/fdt_add_pubkey.o</span><br><span class="line">  HOSTCC  tools/proftool.o</span><br><span class="line">  WRAP    tools/lib/abuf.c</span><br><span class="line">  HOSTCC  tools/prelink-riscv</span><br><span class="line">  HOSTCC  tools/fdtgrep.o</span><br><span class="line">  HOSTCC  tools/spl_size_limit</span><br><span class="line">  HOSTCC  tools/lib/crc8.o</span><br><span class="line">  HOSTLD  tools/mkenvimage</span><br><span class="line">  HOSTCC  tools/lib/abuf.o</span><br><span class="line">  HOSTLD  tools/gen_ethaddr_crc</span><br><span class="line">  HOSTLD  tools/fdtgrep</span><br><span class="line">  HOSTLD  tools/proftool</span><br><span class="line">  HOSTLD  tools/dumpimage</span><br><span class="line">  HOSTLD  tools/mkimage</span><br><span class="line">  HOSTLD  tools/fit_info</span><br><span class="line">  HOSTLD  tools/fit_check_sign</span><br><span class="line">  HOSTLD  tools/fdt_add_pubkey</span><br><span class="line">  CC      arch/riscv/cpu/cpu.o</span><br><span class="line">  AS      arch/riscv/cpu/mtrap.o</span><br><span class="line">  AS      arch/riscv/cpu/start.o</span><br><span class="line">  CC      arch/riscv/cpu/mpfs/dram.o</span><br><span class="line">  CC      arch/riscv/cpu/mpfs/cpu.o</span><br><span class="line">  CC      arch/riscv/lib/bootm.o</span><br><span class="line">  CC      arch/riscv/lib/image.o</span><br><span class="line">  CC      arch/riscv/lib/boot.o</span><br><span class="line">  CC      arch/riscv/lib/cache.o</span><br><span class="line">  CC      arch/riscv/lib/sbi.o</span><br><span class="line">  CC      board/microchip/mpfs_icicle/mpfs_icicle.o</span><br><span class="line">  CC      arch/riscv/lib/interrupts.o</span><br><span class="line">  AS      arch/riscv/lib/setjmp.o</span><br><span class="line">  CC      arch/riscv/lib/fdt_fixup.o</span><br><span class="line">  AS      arch/riscv/lib/memset.o</span><br><span class="line">  AS      arch/riscv/lib/memmove.o</span><br><span class="line">  AS      arch/riscv/lib/memcpy.o</span><br><span class="line">  AS      arch/riscv/lib/crt0_riscv_efi.o</span><br><span class="line">  CC      boot/bootm.o</span><br><span class="line">  CC      arch/riscv/lib/reloc_riscv_efi.o</span><br><span class="line">  CC      boot/bootm_os.o</span><br><span class="line">  CC      boot/pxe_utils.o</span><br><span class="line">  CC      boot/image.o</span><br><span class="line">  CC      boot/image-board.o</span><br><span class="line">  CC      boot/bootdev-uclass.o</span><br><span class="line">  CC      boot/bootflow.o</span><br><span class="line">  CC      boot/bootmeth-uclass.o</span><br><span class="line">  CC      boot/bootstd-uclass.o</span><br><span class="line">  CC      boot/bootmeth_extlinux.o</span><br><span class="line">  CC      cmd/boot.o</span><br><span class="line">  CC      boot/bootmeth_pxe.o</span><br><span class="line">  CC      cmd/bootm.o</span><br><span class="line">  CC      common/main.o</span><br><span class="line">  CC      boot/bootmeth_efi.o</span><br><span class="line">  CC      common/exports.o</span><br><span class="line">  CC      cmd/help.o</span><br><span class="line">  CC      disk/part.o</span><br><span class="line">  CC      common/cli_hush.o</span><br><span class="line">  CC      cmd/panic.o</span><br><span class="line">  CC      boot/image-fdt.o</span><br><span class="line">  CC      disk/disk-uclass.o</span><br><span class="line">  CC      common/init/board_init.o</span><br><span class="line">  CC      disk/part_dos.o</span><br><span class="line">  CC      boot/image-fit.o</span><br><span class="line">  CC      common/autoboot.o</span><br><span class="line">  CC      disk/part_iso.o</span><br><span class="line">  AR      cmd/riscv/built-in.o</span><br><span class="line">  AR      drivers/usb/cdns3/built-in.o</span><br><span class="line">  CC      disk/part_efi.o</span><br><span class="line">  CC      cmd/version.o</span><br><span class="line">  AR      drivers/usb/common/built-in.o</span><br><span class="line">  AR      drivers/adc/built-in.o</span><br><span class="line">  AR      drivers/ata/built-in.o</span><br><span class="line">  AR      drivers/usb/dwc3/built-in.o</span><br><span class="line">  AR      drivers/axi/built-in.o</span><br><span class="line">  CC      common/board_f.o</span><br><span class="line">  CC      common/board_r.o</span><br><span class="line">  CC      boot/vbe.o</span><br><span class="line">  CC      common/board_info.o</span><br><span class="line">  AR      drivers/bus/built-in.o</span><br><span class="line">  CC      drivers/block/blk-uclass.o</span><br><span class="line">  AR      drivers/usb/emul/built-in.o</span><br><span class="line">  CC      cmd/blk_common.o</span><br><span class="line">  AR      drivers/usb/eth/built-in.o</span><br><span class="line">  CC      common/fdt_support.o</span><br><span class="line">  CC      drivers/block/blkcache.o</span><br><span class="line">  AR      drivers/cache/built-in.o</span><br><span class="line">  CC      cmd/bootflow.o</span><br><span class="line">  AR      arch/riscv/cpu/mpfs/built-in.o</span><br><span class="line">  CC      common/miiphyutil.o</span><br><span class="line">  AR      drivers/clk/analogbits/built-in.o</span><br><span class="line">  AR      arch/riscv/cpu/built-in.o</span><br><span class="line">  CC      drivers/clk/imx/clk-gate2.o</span><br><span class="line">  CC      boot/vbe_request.o</span><br><span class="line">  AR      drivers/usb/host/built-in.o</span><br><span class="line">  CC      drivers/clk/microchip/mpfs_clk.o</span><br><span class="line">  AR      drivers/clk/tegra/built-in.o</span><br><span class="line">  AR      drivers/usb/isp1760/built-in.o</span><br><span class="line">  CC      common/splash.o</span><br><span class="line">  AR      drivers/usb/mtu3/built-in.o</span><br><span class="line">  CC      boot/vbe_simple.o</span><br><span class="line">  CC      boot/vbe_simple_os.o</span><br><span class="line">  CC      common/menu.o</span><br><span class="line">  CC      drivers/cpu/cpu-uclass.o</span><br><span class="line">  CC      drivers/core/device.o</span><br><span class="line">  AR      common/init/built-in.o</span><br><span class="line">  AR      drivers/clk/ti/built-in.o</span><br><span class="line">  CC      drivers/core/fdtaddr.o</span><br><span class="line">  CC      drivers/clk/imx/clk-pllv3.o</span><br><span class="line">  CC      common/cli_getch.o</span><br><span class="line">  CC      cmd/source.o</span><br><span class="line">  CC      drivers/clk/microchip/mpfs_clk_cfg.o</span><br><span class="line">  AR      arch/riscv/lib/built-in.o</span><br><span class="line">  CC      drivers/cpu/riscv_cpu.o</span><br><span class="line">  CC      drivers/clk/imx/clk-pfd.o</span><br><span class="line">  CC      drivers/clk/clk-uclass.o</span><br><span class="line">  CC      drivers/core/lists.o</span><br><span class="line">  AR      board/microchip/mpfs_icicle/built-in.o</span><br><span class="line">  AR      drivers/usb/musb/built-in.o</span><br><span class="line">  CC      drivers/core/root.o</span><br><span class="line">  CC      drivers/crypto/fsl/sec.o</span><br><span class="line">  AR      drivers/crypto/aspeed/built-in.o</span><br><span class="line">  CC      drivers/clk/microchip/mpfs_clk_periph.o</span><br><span class="line">  AR      drivers/crypto/hash/built-in.o</span><br><span class="line">  CC      drivers/clk/microchip/mpfs_clk_msspll.o</span><br><span class="line">  AR      drivers/crypto/nuvoton/built-in.o</span><br><span class="line">  CC      cmd/bdinfo.o</span><br><span class="line">  CC      drivers/core/uclass.o</span><br><span class="line">  CC      common/cli_readline.o</span><br><span class="line">  AR      drivers/dfu/built-in.o</span><br><span class="line">  CC      cmd/blkcache.o</span><br><span class="line">  AR      drivers/usb/phy/built-in.o</span><br><span class="line">  AR      drivers/gpio/built-in.o</span><br><span class="line">  AR      drivers/usb/ulpi/built-in.o</span><br><span class="line">  CC      cmd/bootefi.o</span><br><span class="line">  CC      drivers/core/util.o</span><br><span class="line">  CC      drivers/clk/clk_fixed_rate.o</span><br><span class="line">  CC      drivers/clk/clk_fixed_factor.o</span><br><span class="line">  CC      env/common.o</span><br><span class="line">  CC      common/cli_simple.o</span><br><span class="line">  CC      drivers/i2c/i2c-uclass.o</span><br><span class="line">  AR      drivers/crypto/rsa_mod_exp/built-in.o</span><br><span class="line">  CC      cmd/booti.o</span><br><span class="line">  CC      drivers/input/key_matrix.o</span><br><span class="line">  CC      drivers/core/tag.o</span><br><span class="line">  CC      fs/ext4/ext4fs.o</span><br><span class="line">  AR      drivers/crypto/fsl/built-in.o</span><br><span class="line">  CC      fs/fat/fat_write.o</span><br><span class="line">  AR      drivers/crypto/built-in.o</span><br><span class="line">  CC      drivers/clk/clk.o</span><br><span class="line">  AR      drivers/usb/musb-new/built-in.o</span><br><span class="line">  CC      common/console.o</span><br><span class="line">  CC      common/dlmalloc.o</span><br><span class="line">  AR      lib/crypto/built-in.o</span><br><span class="line">  CC      cmd/console.o</span><br><span class="line">  CC      net/arp.o</span><br><span class="line">  AR      drivers/iommu/built-in.o</span><br><span class="line">  AR      drivers/cpu/built-in.o</span><br><span class="line">  CC      lib/efi_driver/efi_uclass.o</span><br><span class="line">  CC      env/env.o</span><br><span class="line">  CC      lib/efi_driver/efi_block_device.o</span><br><span class="line">  CC      env/attr.o</span><br><span class="line">  CC      drivers/core/device-remove.o</span><br><span class="line">  CC      env/flags.o</span><br><span class="line">  CC      fs/ext4/ext4_common.o</span><br><span class="line">  CC      fs/ubifs/ubifs.o</span><br><span class="line">  CC      env/callback.o</span><br><span class="line">  CC      net/bootp.o</span><br><span class="line">  CC      cmd/cpu.o</span><br><span class="line">  AR      drivers/clk/imx/built-in.o</span><br><span class="line">  CC      cmd/dm.o</span><br><span class="line">  CC      lib/efi_loader/efi_bootmgr.o</span><br><span class="line">  CC      lib/efi_loader/efi_boottime.o</span><br><span class="line">  CC      drivers/core/simple-bus.o</span><br><span class="line">  AR      drivers/clk/microchip/built-in.o</span><br><span class="line">  CC      drivers/core/dump.o</span><br><span class="line">  CC      env/nowhere.o</span><br><span class="line">  CC      fs/ubifs/io.o</span><br><span class="line">  CC      net/eth-uclass.o</span><br><span class="line">  CC      lib/efi_loader/efi_helper.o</span><br><span class="line">  CC      common/malloc_simple.o</span><br><span class="line">  CC      fs/ubifs/super.o</span><br><span class="line">  AR      drivers/block/built-in.o</span><br><span class="line">  CC      lib/libfdt/fdt.o</span><br><span class="line">  CC      lib/efi_loader/efi_console.o</span><br><span class="line">  CC      net/eth_bootdev.o</span><br><span class="line">  AR      drivers/mailbox/built-in.o</span><br><span class="line">  CC      net/eth_common.o</span><br><span class="line">  CC      fs/ext4/dev.o</span><br><span class="line">  CC      drivers/clk/clk-divider.o</span><br><span class="line">  CC      lib/libfdt/fdt_ro.o</span><br><span class="line">  CC      common/event.o</span><br><span class="line">  CC      net/net.o</span><br><span class="line">  AR      drivers/input/built-in.o</span><br><span class="line">  CC      fs/fs.o</span><br><span class="line">  CC      lib/libfdt/fdt_wip.o</span><br><span class="line">  CC      fs/ubifs/sb.o</span><br><span class="line">  CC      fs/fs_internal.o</span><br><span class="line">  CC      drivers/core/regmap.o</span><br><span class="line">  CC      common/hash.o</span><br><span class="line">  CC      drivers/clk/clk-mux.o</span><br><span class="line">  CC      common/memsize.o</span><br><span class="line">  CC      drivers/clk/clk-gate.o</span><br><span class="line">  CC      drivers/clk/clk-fixed-factor.o</span><br><span class="line">  CC      net/nfs.o</span><br><span class="line">  CC      lib/efi_loader/efi_device_path.o</span><br><span class="line">  AR      disk/built-in.o</span><br><span class="line">  CC      drivers/i2c/i2c-microchip.o</span><br><span class="line">  AR      env/built-in.o</span><br><span class="line">  CC      lib/lzma/LzmaDec.o</span><br><span class="line">  CC      cmd/echo.o</span><br><span class="line">  CC      lib/efi_loader/efi_device_path_to_text.o</span><br><span class="line">  CC      cmd/eficonfig.o</span><br><span class="line">  CC      common/stdio.o</span><br><span class="line">  AR      lib/efi_driver/built-in.o</span><br><span class="line">  CC      lib/libfdt/fdt_strerror.o</span><br><span class="line">  CC      lib/libfdt/fdt_sw.o</span><br><span class="line">  CC      net/ping.o</span><br><span class="line">  CC      fs/ubifs/master.o</span><br><span class="line">  CC      fs/ubifs/lpt.o</span><br><span class="line">  CC      lib/libfdt/fdt_rw.o</span><br><span class="line">  CC      fs/ubifs/lpt_commit.o</span><br><span class="line">  CC      cmd/elf.o</span><br><span class="line">  AR      drivers/memory/built-in.o</span><br><span class="line">  CC      drivers/core/syscon-uclass.o</span><br><span class="line">  CC      net/tftp.o</span><br><span class="line">  AR      drivers/mfd/built-in.o</span><br><span class="line">  CC      lib/lzma/LzmaTools.o</span><br><span class="line">  CC      lib/libfdt/fdt_empty_tree.o</span><br><span class="line">  AR      drivers/misc/built-in.o</span><br><span class="line">  CC      lib/lzo/lzo1x_decompress.o</span><br><span class="line">  CC      lib/libfdt/fdt_check.o</span><br><span class="line">  CC      lib/libfdt/fdt_addresses.o</span><br><span class="line">  CC      fs/ubifs/scan.o</span><br><span class="line">  CC      fs/ubifs/lprops.o</span><br><span class="line">  CC      lib/efi_loader/efi_device_path_utilities.o</span><br><span class="line">  CC      drivers/core/of_extra.o</span><br><span class="line">  CC      drivers/mmc/mmc.o</span><br><span class="line">  CC      drivers/mmc/mmc-uclass.o</span><br><span class="line">  CC      lib/libfdt/fdt_overlay.o</span><br><span class="line">  CC      drivers/mmc/mmc_bootdev.o</span><br><span class="line">  CC      drivers/core/ofnode.o</span><br><span class="line">  CC      fs/ubifs/tnc.o</span><br><span class="line">  CC      drivers/core/read_extra.o</span><br><span class="line">  AR      fs/ext4/built-in.o</span><br><span class="line">  CC      fs/ubifs/tnc_misc.o</span><br><span class="line">  CC      cmd/exit.o</span><br><span class="line">  AR      boot/built-in.o</span><br><span class="line">  CC      lib/zlib/zlib.o</span><br><span class="line">  AR      drivers/clk/built-in.o</span><br><span class="line">  CC      fs/ubifs/debug.o</span><br><span class="line">  AR      drivers/i2c/built-in.o</span><br><span class="line">  CC      fs/ubifs/budget.o</span><br><span class="line">  CC      cmd/ext4.o</span><br><span class="line">  CC      cmd/ext2.o</span><br><span class="line">  AR      drivers/net/mscc_eswitch/built-in.o</span><br><span class="line">  AR      drivers/mtd/onenand/built-in.o</span><br><span class="line">  CC      drivers/mtd/nand/spi/core.o</span><br><span class="line">  AR      drivers/power/pmic/built-in.o</span><br><span class="line">  CC      drivers/mtd/nand/spi/gigadevice.o</span><br><span class="line">  CC      drivers/net/phy/phy.o</span><br><span class="line">  AR      drivers/net/qe/built-in.o</span><br><span class="line">  CC      drivers/mtd/nand/core.o</span><br><span class="line">  CC      drivers/mmc/mmc_write.o</span><br><span class="line">  AR      drivers/power/regulator/built-in.o</span><br><span class="line">  CC      common/cli.o</span><br><span class="line">  CC      drivers/mtd/nand/spi/macronix.o</span><br><span class="line">  CC      lib/efi_loader/efi_dt_fixup.o</span><br><span class="line">  CC      drivers/mtd/nand/bbt.o</span><br><span class="line">  CC      fs/ubifs/log.o</span><br><span class="line">  AR      drivers/power/built-in.o</span><br><span class="line">  CC      drivers/mtd/spi/sf-uclass.o</span><br><span class="line">  CC      drivers/net/phy/vitesse.o</span><br><span class="line">  CC      drivers/mtd/spi/sf_probe.o</span><br><span class="line">  CC      lib/efi_loader/efi_file.o</span><br><span class="line">  CC      drivers/mtd/spi/spi-nor-ids.o</span><br><span class="line">  CC      drivers/mtd/ubi/attach.o</span><br><span class="line">  CC      drivers/mtd/spi/spi-nor-core.o</span><br><span class="line">  CC      fs/ubifs/orphan.o</span><br><span class="line">  CC      lib/charset.o</span><br><span class="line">  AR      drivers/pwm/built-in.o</span><br><span class="line">  CC      lib/efi_loader/efi_hii.o</span><br><span class="line">  CC      cmd/fat.o</span><br><span class="line">  CC      lib/efi_loader/efi_image_loader.o</span><br><span class="line">  CC      lib/efi_loader/efi_load_options.o</span><br><span class="line">  CC      drivers/mtd/nand/spi/micron.o</span><br><span class="line">  CC      drivers/mtd/ubi/build.o</span><br><span class="line">  AR      lib/lzo/built-in.o</span><br><span class="line">  CC      common/command.o</span><br><span class="line">  CC      drivers/mtd/nand/spi/toshiba.o</span><br><span class="line">  AR      drivers/net/ti/built-in.o</span><br><span class="line">  CC      drivers/mmc/sdhci-adma.o</span><br><span class="line">  CC      cmd/fdt.o</span><br><span class="line">  CC      common/s_record.o</span><br><span class="line">  CC      fs/ubifs/recovery.o</span><br><span class="line">  CC      fs/ubifs/replay.o</span><br><span class="line">  CC      drivers/mtd/mtdcore.o</span><br><span class="line">  CC      lib/crc8.o</span><br><span class="line">  CC      fs/ubifs/gc.o</span><br><span class="line">  CC      common/xyzModem.o</span><br><span class="line">  AR      net/built-in.o</span><br><span class="line">  CC      drivers/mtd/nand/spi/winbond.o</span><br><span class="line">  CC      drivers/mtd/mtd_uboot.o</span><br><span class="line">  CC      drivers/mtd/ubi/vtbl.o</span><br><span class="line">  CC      lib/crc16.o</span><br><span class="line">  CC      lib/efi_loader/efi_memory.o</span><br><span class="line">  CC      drivers/mtd/mtd-uclass.o</span><br><span class="line">  CC      drivers/mmc/sdhci.o</span><br><span class="line">  CC      drivers/mtd/mtdpart.o</span><br><span class="line">  AR      lib/libfdt/built-in.o</span><br><span class="line">  CC      cmd/flash.o</span><br><span class="line">  AR      drivers/reset/built-in.o</span><br><span class="line">  CC      drivers/mtd/ubi/upd.o</span><br><span class="line">  CC      drivers/mtd/ubi/vmt.o</span><br><span class="line">  AR      drivers/mtd/nand/nandcore.o</span><br><span class="line">  AR      drivers/rtc/built-in.o</span><br><span class="line">  CC      lib/efi_loader/efi_root_node.o</span><br><span class="line">  AR      drivers/scsi/built-in.o</span><br><span class="line">  CC      drivers/net/macb.o</span><br><span class="line">  CC      cmd/fs.o</span><br><span class="line">  CC      lib/efi_loader/efi_runtime.o</span><br><span class="line">  CC      lib/crc16-ccitt.o</span><br><span class="line">  CC      lib/efi_loader/efi_setup.o</span><br><span class="line">  CC      drivers/mmc/sdhci-cadence.o</span><br><span class="line">  CC      drivers/mtd/ubi/kapi.o</span><br><span class="line">  CC      drivers/mtd/ubi/eba.o</span><br><span class="line">  CC      lib/fdtdec_common.o</span><br><span class="line">  CC      cmd/i2c.o</span><br><span class="line">  CC      lib/efi_loader/efi_string.o</span><br><span class="line">  CC      drivers/serial/serial-uclass.o</span><br><span class="line">  CC      lib/efi_loader/efi_unicode_collation.o</span><br><span class="line">  CC      drivers/mtd/ubi/io.o</span><br><span class="line">  CC      lib/smbios.o</span><br><span class="line">  AR      drivers/smem/built-in.o</span><br><span class="line">  AR      drivers/soc/built-in.o</span><br><span class="line">  CC      drivers/mtd/ubi/wl.o</span><br><span class="line">  CC      drivers/serial/ns16550.o</span><br><span class="line">  CC      drivers/mtd/ubi/crc32.o</span><br><span class="line">  CC      drivers/spi/spi-uclass.o</span><br><span class="line">  CC      drivers/spi/spi-mem.o</span><br><span class="line">  AR      drivers/sound/built-in.o</span><br><span class="line">  CC      drivers/mtd/ubi/misc.o</span><br><span class="line">  CC      drivers/spi/microchip_coreqspi.o</span><br><span class="line">  CC      drivers/mtd/ubi/debug.o</span><br><span class="line">  AR      drivers/spmi/built-in.o</span><br><span class="line">  CC      cmd/itest.o</span><br><span class="line">  CC      lib/ldiv.o</span><br><span class="line">  AR      drivers/net/phy/built-in.o</span><br><span class="line">  AR      lib/lzma/built-in.o</span><br><span class="line">  CC      lib/net_utils.o</span><br><span class="line">  AR      common/built-in.o</span><br><span class="line">  CC      lib/rc4.o</span><br><span class="line">  CC      lib/efi_loader/efi_var_common.o</span><br><span class="line">  CC      lib/efi_loader/efi_var_mem.o</span><br><span class="line">  CC      cmd/load.o</span><br><span class="line">  AR      drivers/core/built-in.o</span><br><span class="line">  CC      lib/rbtree.o</span><br><span class="line">  CC      cmd/mem.o</span><br><span class="line">  CC      cmd/mii.o</span><br><span class="line">  CC      drivers/sysreset/sysreset-uclass.o</span><br><span class="line">  CC      cmd/mdio.o</span><br><span class="line">  AR      drivers/thermal/built-in.o</span><br><span class="line">  CC      drivers/sysreset/sysreset_sbi.o</span><br><span class="line">  CC      cmd/sleep.o</span><br><span class="line">  CC      lib/list_sort.o</span><br><span class="line">  CC      lib/efi_loader/efi_var_file.o</span><br><span class="line">  CC      lib/md5.o</span><br><span class="line">  CC      lib/efi_loader/efi_variable.o</span><br><span class="line">  AR      drivers/mtd/nand/spi/spinand.o</span><br><span class="line">  CC      lib/hash-checksum.o</span><br><span class="line">  CC      cmd/mmc.o</span><br><span class="line">  AR      drivers/mtd/nand/spi/built-in.o</span><br><span class="line">  CC      drivers/timer/timer-uclass.o</span><br><span class="line">  AR      fs/fat/built-in.o</span><br><span class="line">  AR      drivers/mtd/nand/built-in.o</span><br><span class="line">  CC      lib/efi_loader/efi_watchdog.o</span><br><span class="line">  CC      drivers/timer/riscv_timer.o</span><br><span class="line">  CC      cmd/mtd.o</span><br><span class="line">  AR      drivers/ufs/built-in.o</span><br><span class="line">  AR      drivers/watchdog/built-in.o</span><br><span class="line">  CC      lib/sha1.o</span><br><span class="line">  CC      lib/efi_loader/efi_disk.o</span><br><span class="line">  AR      drivers/video/bridge/built-in.o</span><br><span class="line">  CC      lib/efi_loader/efi_net.o</span><br><span class="line">  AR      drivers/video/sunxi/built-in.o</span><br><span class="line">  CC      cmd/mtdparts.o</span><br><span class="line">  CC      lib/sha256.o</span><br><span class="line">  AR      drivers/video/tegra20/built-in.o</span><br><span class="line">  AR      drivers/video/ti/built-in.o</span><br><span class="line">  AR      drivers/mtd/mtd.o</span><br><span class="line">  CC      cmd/legacy-mtd-utils.o</span><br><span class="line">  AR      drivers/serial/built-in.o</span><br><span class="line">  CC      lib/gunzip.o</span><br><span class="line">  CC      cmd/net.o</span><br><span class="line">  CC      cmd/part.o</span><br><span class="line">  AR      drivers/video/built-in.o</span><br><span class="line">  AR      drivers/mtd/spi/spi-nor.o</span><br><span class="line">  CC      cmd/pxe.o</span><br><span class="line">  CC      cmd/sf.o</span><br><span class="line">  AR      drivers/mtd/spi/built-in.o</span><br><span class="line">  CC      lib/lz4_wrapper.o</span><br><span class="line">  CC      cmd/setexpr.o</span><br><span class="line">  CC      lib/efi_loader/efi_smbios.o</span><br><span class="line">  CC      cmd/sysboot.o</span><br><span class="line">  CC      lib/efi_loader/efi_riscv.o</span><br><span class="line">  CC      lib/fdtdec.o</span><br><span class="line">  CC      cmd/test.o</span><br><span class="line">  CC      lib/qsort.o</span><br><span class="line">  CC      lib/efi_loader/efi_load_initrd.o</span><br><span class="line">  CC      cmd/ubi.o</span><br><span class="line">  AR      drivers/sysreset/built-in.o</span><br><span class="line">  AR      drivers/mmc/built-in.o</span><br><span class="line">  CC      cmd/ubifs.o</span><br><span class="line">  CC      lib/efi_loader/efi_conformance.o</span><br><span class="line">  CC      lib/efi_loader/boothart.o</span><br><span class="line">  AR      drivers/spi/built-in.o</span><br><span class="line">  CC      lib/hashtable.o</span><br><span class="line">  AS      lib/efi_loader/efi_crt0.o</span><br><span class="line">  CC      lib/errno.o</span><br><span class="line">  CC      cmd/unlz4.o</span><br><span class="line">  CC      cmd/unzip.o</span><br><span class="line">  CC      lib/efi_loader/efi_reloc.o</span><br><span class="line">  AR      drivers/timer/built-in.o</span><br><span class="line">  CC      lib/efi_loader/efi_freestanding.o</span><br><span class="line">  CC      lib/display_options.o</span><br><span class="line">  CC      cmd/lzmadec.o</span><br><span class="line">  CC      lib/crc32.o</span><br><span class="line">  CC      lib/ctype.o</span><br><span class="line">  AR      drivers/net/built-in.o</span><br><span class="line">  CC      lib/efi_loader/helloworld.o</span><br><span class="line">  CC      lib/efi_loader/dtbdump.o</span><br><span class="line">  CC      lib/div64.o</span><br><span class="line">  CC      cmd/ximg.o</span><br><span class="line">  CC      lib/hang.o</span><br><span class="line">  CC      lib/linux_compat.o</span><br><span class="line">  CC      cmd/nvedit.o</span><br><span class="line">  CC      lib/linux_string.o</span><br><span class="line">  CC      lib/lmb.o</span><br><span class="line">  CC      lib/efi_loader/initrddump.o</span><br><span class="line">  CC      lib/membuff.o</span><br><span class="line">  CC      lib/slre.o</span><br><span class="line">  CC      lib/string.o</span><br><span class="line">  CC      lib/tables_csum.o</span><br><span class="line">  CC      lib/time.o</span><br><span class="line">  CC      lib/hexdump.o</span><br><span class="line">  CC      lib/uuid.o</span><br><span class="line">  CC      lib/rand.o</span><br><span class="line">  CC      lib/panic.o</span><br><span class="line">  CC      lib/vsprintf.o</span><br><span class="line">  CC      lib/strto.o</span><br><span class="line">  CC      lib/abuf.o</span><br><span class="line">  CC      lib/date.o</span><br><span class="line">  CC      lib/rtc-lib.o</span><br><span class="line">  CC      lib/elf.o</span><br><span class="line">  AR      lib/zlib/built-in.o</span><br><span class="line">  LD      lib/efi_loader/helloworld_efi.so</span><br><span class="line">  LD      lib/efi_loader/boothart_efi.so</span><br><span class="line">  OBJCOPY lib/efi_loader/helloworld.efi</span><br><span class="line">  OBJCOPY lib/efi_loader/boothart.efi</span><br><span class="line">  AR      lib/efi_loader/built-in.o</span><br><span class="line">  AR      fs/ubifs/built-in.o</span><br><span class="line">  AR      fs/built-in.o</span><br><span class="line">  AR      drivers/mtd/ubi/built-in.o</span><br><span class="line">  AR      drivers/mtd/built-in.o</span><br><span class="line">  LD      lib/efi_loader/dtbdump_efi.so</span><br><span class="line">  AR      drivers/built-in.o</span><br><span class="line">  LD      lib/efi_loader/initrddump_efi.so</span><br><span class="line">  OBJCOPY lib/efi_loader/dtbdump.efi</span><br><span class="line">  OBJCOPY lib/efi_loader/initrddump.efi</span><br><span class="line">  AR      cmd/built-in.o</span><br><span class="line">  AR      lib/built-in.o</span><br><span class="line">  LD      u-boot</span><br><span class="line">  OBJCOPY u-boot.srec</span><br><span class="line">  OBJCOPY u-boot-nodtb.bin</span><br><span class="line">  SYM     u-boot.sym</span><br><span class="line">  DTC     arch/riscv/dts/microchip-mpfs-icicle-kit.dtb</span><br><span class="line">  DTC     arch/riscv/dts/microchip-mpfs-icicle-kit-amp.dtb</span><br><span class="line">  DTC     arch/riscv/dts/microchip-mpfs-icicle-kit-qspi-nor.dtb</span><br><span class="line">arch/riscv/dts/.microchip-mpfs-icicle-kit.dtb.pre.tmp:74.4-63: Warning (dma_ranges_format): /reserved-memory/non-cached-low-buffer:dma-ranges: &quot;dma-ranges&quot; property has invalid length (24 bytes) (parent #address-cells == 2, child #address-cells == 2, #size-cells == 1)</span><br><span class="line">arch/riscv/dts/.microchip-mpfs-icicle-kit.dtb.pre.tmp:83.4-66: Warning (dma_ranges_format): /reserved-memory/non-cached-high-buffer:dma-ranges: &quot;dma-ranges&quot; property has invalid length (24 bytes) (parent #address-cells == 2, child #address-cells == 2, #size-cells == 1)</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:476.23-486.5: Warning (spi_bus_bridge): /soc/qspi@21000000: node name for SPI buses should be &#x27;spi&#x27;</span><br><span class="line">  also defined at arch/riscv/dts/.microchip-mpfs-icicle-kit.dtb.pre.tmp:203.7-216.3</span><br><span class="line">arch/riscv/dts/microchip-mpfs-icicle-kit.dtb: Warning (spi_bus_reg): Failed prerequisite &#x27;spi_bus_bridge&#x27;</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:37.36-41.6: Warning (interrupt_provider): /cpus/cpu@0/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:69.36-73.6: Warning (interrupt_provider): /cpus/cpu@1/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:101.36-105.6: Warning (interrupt_provider): /cpus/cpu@2/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:133.36-137.6: Warning (interrupt_provider): /cpus/cpu@3/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:165.36-169.6: Warning (interrupt_provider): /cpus/cpu@4/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:220.38-231.5: Warning (interrupt_provider): /soc/interrupt-controller@c000000: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/.microchip-mpfs-icicle-kit-amp.dtb.pre.tmp:75.4-63: Warning (dma_ranges_format): /reserved-memory/non-cached-low-buffer:dma-ranges: &quot;dma-ranges&quot; property has invalid length (24 bytes) (parent #address-cells == 2, child #address-cells == 2, #size-cells == 1)</span><br><span class="line">arch/riscv/dts/.microchip-mpfs-icicle-kit-amp.dtb.pre.tmp:84.4-66: Warning (dma_ranges_format): /reserved-memory/non-cached-high-buffer:dma-ranges: &quot;dma-ranges&quot; property has invalid length (24 bytes) (parent #address-cells == 2, child #address-cells == 2, #size-cells == 1)</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:476.23-486.5: Warning (spi_bus_bridge): /soc/qspi@21000000: node name for SPI buses should be &#x27;spi&#x27;</span><br><span class="line">  also defined at arch/riscv/dts/.microchip-mpfs-icicle-kit-amp.dtb.pre.tmp:211.7-223.3</span><br><span class="line">arch/riscv/dts/microchip-mpfs-icicle-kit-amp.dtb: Warning (spi_bus_reg): Failed prerequisite &#x27;spi_bus_bridge&#x27;</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:37.36-41.6: Warning (interrupt_provider): /cpus/cpu@0/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:69.36-73.6: Warning (interrupt_provider): /cpus/cpu@1/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:101.36-105.6: Warning (interrupt_provider): /cpus/cpu@2/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:133.36-137.6: Warning (interrupt_provider): /cpus/cpu@3/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:165.36-169.6: Warning (interrupt_provider): /cpus/cpu@4/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:220.38-231.5: Warning (interrupt_provider): /soc/interrupt-controller@c000000: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/.microchip-mpfs-icicle-kit-qspi-nor.dtb.pre.tmp:73.4-63: Warning (dma_ranges_format): /reserved-memory/non-cached-low-buffer:dma-ranges: &quot;dma-ranges&quot; property has invalid length (24 bytes) (parent #address-cells == 2, child #address-cells == 2, #size-cells == 1)</span><br><span class="line">arch/riscv/dts/.microchip-mpfs-icicle-kit-qspi-nor.dtb.pre.tmp:82.4-66: Warning (dma_ranges_format): /reserved-memory/non-cached-high-buffer:dma-ranges: &quot;dma-ranges&quot; property has invalid length (24 bytes) (parent #address-cells == 2, child #address-cells == 2, #size-cells == 1)</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:476.23-486.5: Warning (spi_bus_bridge): /soc/qspi@21000000: node name for SPI buses should be &#x27;spi&#x27;</span><br><span class="line">  also defined at arch/riscv/dts/.microchip-mpfs-icicle-kit-qspi-nor.dtb.pre.tmp:202.7-214.3</span><br><span class="line">arch/riscv/dts/microchip-mpfs-icicle-kit-qspi-nor.dtb: Warning (spi_bus_reg): Failed prerequisite &#x27;spi_bus_bridge&#x27;</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:37.36-41.6: Warning (interrupt_provider): /cpus/cpu@0/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:69.36-73.6: Warning (interrupt_provider): /cpus/cpu@1/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:101.36-105.6: Warning (interrupt_provider): /cpus/cpu@2/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:133.36-137.6: Warning (interrupt_provider): /cpus/cpu@3/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:165.36-169.6: Warning (interrupt_provider): /cpus/cpu@4/interrupt-controller: Missing #address-cells in interrupt provider</span><br><span class="line">arch/riscv/dts/microchip-mpfs.dtsi:220.38-231.5: Warning (interrupt_provider): /soc/interrupt-controller@c000000: Missing #address-cells in interrupt provider</span><br><span class="line">  SHIPPED dts/dt.dtb</span><br><span class="line">  CAT     u-boot-dtb.bin</span><br><span class="line">  COPY    u-boot.dtb</span><br><span class="line">  COPY    u-boot.bin</span><br><span class="line">  OFCHK   .config</span><br><span class="line">make: Leaving directory &#x27;....../BeagleV-Fire-ubuntu/u-boot&#x27;</span><br><span class="line">&#x27;./u-boot/u-boot.bin&#x27; -&gt; &#x27;./deploy/u-boot.bin&#x27;</span><br><span class="line">&#x27;./u-boot/u-boot.bin&#x27; -&gt; &#x27;./deploy/src.bin&#x27;</span><br></pre></td></tr></table></figure>
<p><strong><span style="color:red">A new file</span></strong>
<code>patches/u-boot/beaglev-fire/microchip_mpfs_icicle_defconfig</code>
is generated as:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">CONFIG_RISCV=y</span><br><span class="line">CONFIG_SYS_MALLOC_LEN=0x800000</span><br><span class="line">CONFIG_SYS_MALLOC_F_LEN=0x2000</span><br><span class="line">CONFIG_HAS_CUSTOM_SYS_INIT_SP_ADDR=y</span><br><span class="line">CONFIG_CUSTOM_SYS_INIT_SP_ADDR=0x80200000</span><br><span class="line">CONFIG_ENV_SIZE=0x2000</span><br><span class="line">CONFIG_DEFAULT_DEVICE_TREE=&quot;microchip-mpfs-icicle-kit&quot;</span><br><span class="line">CONFIG_SYS_PROMPT=&quot;RISC-V # &quot;</span><br><span class="line">CONFIG_OF_LIBFDT_OVERLAY=y</span><br><span class="line">CONFIG_SYS_LOAD_ADDR=0x80200000</span><br><span class="line">CONFIG_TARGET_MICROCHIP_ICICLE=y</span><br><span class="line">CONFIG_ARCH_RV64I=y</span><br><span class="line">CONFIG_RISCV_SMODE=y</span><br><span class="line">CONFIG_FIT=y</span><br><span class="line">CONFIG_DISTRO_DEFAULTS=y</span><br><span class="line">CONFIG_DISPLAY_CPUINFO=y</span><br><span class="line">CONFIG_DISPLAY_BOARDINFO=y</span><br><span class="line">CONFIG_SYS_CBSIZE=256</span><br><span class="line">CONFIG_SYS_PBSIZE=282</span><br><span class="line">CONFIG_SYS_BOOTM_LEN=0x4000000</span><br><span class="line">CONFIG_MTDPARTS_DEFAULT=&quot;mtdparts=spi-nand0:2m(payload),119m(ubi)&quot;</span><br><span class="line">CONFIG_CMD_UBI=y</span><br><span class="line">CONFIG_SYS_RELOC_GD_ENV_ADDR=y</span><br><span class="line">CONFIG_BOOTP_SEND_HOSTNAME=y</span><br><span class="line">CONFIG_DM_MTD=y</span><br><span class="line">CONFIG_SYSRESET=y</span><br></pre></td></tr></table></figure>
<h2 id="build_linux.sh-1">2.4 <code>04_build_linux.sh</code></h2>
<p>You may meet the same issues solved in <a
href="../../../../../../2023/12/19/SBCs/RISC-V/BeagleV-Fire-1">BeagleV-Fire-1.md</a>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./04_build_linux.sh </span><br><span class="line">Applying: Add wireless-regdb regulatory database file</span><br><span class="line">&#x27;../device-tree/src/riscv/microchip/mpfs-beaglev-fire.dts&#x27; -&gt; &#x27;arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dts&#x27;</span><br><span class="line">&#x27;../device-tree/src/riscv/microchip/mpfs-beaglev-fire-fabric.dtsi&#x27; -&gt; &#x27;arch/riscv/boot/dts/microchip/mpfs-beaglev-fire-fabric.dtsi&#x27;</span><br><span class="line">&#x27;../device-tree/src/riscv/microchip/mpfs-beaglev-fire-pinmux.dtsi&#x27; -&gt; &#x27;arch/riscv/boot/dts/microchip/mpfs-beaglev-fire-pinmux.dtsi&#x27;</span><br><span class="line">make ARCH=riscv CROSS_COMPILE=....../BeagleV-Fire-ubuntu/riscv-toolchain/bin/riscv64-linux- clean</span><br><span class="line">  CLEAN   arch/riscv/kernel/compat_vdso</span><br><span class="line">  CLEAN   arch/riscv/kernel/pi</span><br><span class="line">  CLEAN   arch/riscv/kernel/vdso</span><br><span class="line">  CLEAN   arch/riscv/kernel</span><br><span class="line">  CLEAN   arch/riscv/purgatory</span><br><span class="line">  CLEAN   certs</span><br><span class="line">  CLEAN   drivers/base/firmware_loader/builtin</span><br><span class="line">  CLEAN   drivers/scsi</span><br><span class="line">  CLEAN   drivers/tty/vt</span><br><span class="line">  CLEAN   fs/unicode</span><br><span class="line">  CLEAN   init</span><br><span class="line">  CLEAN   kernel</span><br><span class="line">  CLEAN   lib/raid6</span><br><span class="line">  CLEAN   lib</span><br><span class="line">  CLEAN   net/wireless</span><br><span class="line">  CLEAN   usr</span><br><span class="line">  CLEAN   .</span><br><span class="line">&#x27;../patches/linux/mpfs_defconfig&#x27; -&gt; &#x27;./arch/riscv/configs/mpfs_defconfig&#x27;</span><br><span class="line">make ARCH=riscv CROSS_COMPILE=....../BeagleV-Fire-ubuntu/riscv-toolchain/bin/riscv64-linux- mpfs_defconfig</span><br><span class="line">  HOSTCC  scripts/basic/fixdep</span><br><span class="line">  HOSTCC  scripts/kconfig/conf.o</span><br><span class="line">  HOSTCC  scripts/kconfig/confdata.o</span><br><span class="line">  HOSTCC  scripts/kconfig/expr.o</span><br><span class="line">  LEX     scripts/kconfig/lexer.lex.c</span><br><span class="line">  YACC    scripts/kconfig/parser.tab.[ch]</span><br><span class="line">  HOSTCC  scripts/kconfig/lexer.lex.o</span><br><span class="line">  HOSTCC  scripts/kconfig/menu.o</span><br><span class="line">  HOSTCC  scripts/kconfig/parser.tab.o</span><br><span class="line">  HOSTCC  scripts/kconfig/preprocess.o</span><br><span class="line">  HOSTCC  scripts/kconfig/symbol.o</span><br><span class="line">  HOSTCC  scripts/kconfig/util.o</span><br><span class="line">  HOSTLD  scripts/kconfig/conf</span><br><span class="line">#</span><br><span class="line"># configuration written to .config</span><br><span class="line">#</span><br><span class="line">make -j48 ARCH=riscv CROSS_COMPILE=....../BeagleV-Fire-ubuntu/riscv-toolchain/bin/riscv64-linux- olddefconfig</span><br><span class="line">#</span><br><span class="line"># configuration written to .config</span><br><span class="line">#</span><br><span class="line">make -j48 ARCH=riscv CROSS_COMPILE=....../BeagleV-Fire-ubuntu/riscv-toolchain/bin/riscv64-linux- Image modules dtbs</span><br><span class="line">  SYNC    include/config/auto.conf.cmd</span><br><span class="line">  HOSTCC  scripts/dtc/dtc.o</span><br><span class="line">  HOSTCC  scripts/dtc/flattree.o</span><br><span class="line">  HOSTCC  scripts/dtc/fstree.o</span><br><span class="line">  HOSTCC  scripts/dtc/data.o</span><br><span class="line">  HOSTCC  scripts/dtc/treesource.o</span><br><span class="line">  HOSTCC  scripts/dtc/livetree.o</span><br><span class="line">  HOSTCC  scripts/dtc/srcpos.o</span><br><span class="line">  HOSTCC  scripts/dtc/checks.o</span><br><span class="line">  HOSTCC  scripts/dtc/util.o</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">  LD [M]  net/nsh/nsh.ko</span><br><span class="line">  LD [M]  net/hsr/hsr.ko</span><br><span class="line">  LD [M]  net/qrtr/qrtr.ko</span><br><span class="line">  LD [M]  net/qrtr/qrtr-smd.ko</span><br><span class="line">  LD [M]  net/qrtr/qrtr-tun.ko</span><br><span class="line">  LD [M]  net/qrtr/qrtr-mhi.ko</span><br><span class="line">  Kernel: arch/riscv/boot/Image is ready</span><br><span class="line">Compressing 6.6.51-linux4microchip+fpga-2024.09.1-20241024+-modules.tar.gz...</span><br><span class="line">&#x27;./.config&#x27; -&gt; &#x27;../patches/linux/mpfs_defconfig&#x27;</span><br><span class="line">&#x27;./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dts&#x27; -&gt; &#x27;../patches/linux/dts/mpfs-beaglev-fire.dts&#x27;</span><br><span class="line">&#x27;./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire-fabric.dtsi&#x27; -&gt; &#x27;../patches/linux/dts/mpfs-beaglev-fire-fabric.dtsi&#x27;</span><br><span class="line">&#x27;./arch/riscv/boot/Image&#x27; -&gt; &#x27;../deploy/input/Image&#x27;</span><br><span class="line">&#x27;./arch/riscv/boot/dts/microchip/mpfs-beaglev-fire.dtb&#x27; -&gt; &#x27;../deploy/input/mpfs-beaglev-fire.dtb&#x27;</span><br><span class="line">&#x27;./patches/linux/beaglev_fire.its&#x27; -&gt; &#x27;./deploy/input/beaglev_fire.its&#x27;</span><br><span class="line">FIT description: U-Boot fitImage for the BeagleV-Fire</span><br><span class="line">Created:         Thu Oct 24 01:42:47 2024</span><br><span class="line"> Image 0 (kernel)</span><br><span class="line">  Description:  Linux kernel</span><br><span class="line">  Created:      Thu Oct 24 01:42:47 2024</span><br><span class="line">  Type:         Kernel Image</span><br><span class="line">  Compression:  gzip compressed</span><br><span class="line">  Data Size:    9687165 Bytes = 9460.12 KiB = 9.24 MiB</span><br><span class="line">  Architecture: RISC-V</span><br><span class="line">  OS:           Linux</span><br><span class="line">  Load Address: 0x80200000</span><br><span class="line">  Entry Point:  0x80200000</span><br><span class="line">  Hash algo:    sha256</span><br><span class="line">  Hash value:   218c9c8681afb659d7a05c80b95330a2b58398367d812ee22fd718030bdb7ffc</span><br><span class="line"> Image 1 (base_fdt)</span><br><span class="line">  Description:  Flattened Device Tree blob</span><br><span class="line">  Created:      Thu Oct 24 01:42:47 2024</span><br><span class="line">  Type:         Flat Device Tree</span><br><span class="line">  Compression:  uncompressed</span><br><span class="line">  Data Size:    19036 Bytes = 18.59 KiB = 0.02 MiB</span><br><span class="line">  Architecture: RISC-V</span><br><span class="line">  Load Address: 0x8a000000</span><br><span class="line">  Hash algo:    sha256</span><br><span class="line">  Hash value:   a254f5825e318de185b473b974d53bc291fe0106944b8bad6038c87296d73f03</span><br><span class="line"> Default Configuration: &#x27;kernel_dtb&#x27;</span><br><span class="line"> Configuration 0 (kernel_dtb)</span><br><span class="line">  Description:  1 Linux kernel, FDT blob</span><br><span class="line">  Kernel:       kernel</span><br><span class="line">  FDT:          base_fdt</span><br><span class="line"> Configuration 1 (base_dtb)</span><br><span class="line">  Description:  Base FDT blob for BeagleV-Fire board</span><br><span class="line">  Kernel:       unavailable</span><br><span class="line">  FDT:          base_fdt</span><br><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ </span><br></pre></td></tr></table></figure>
<p>Three files are generated as follows:</p>
<ul>
<li><code>patches/linux/dts/mpfs-beaglev-fire-fabric.dtsi</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: (GPL-2.0 OR MIT)</span><br><span class="line">/* Copyright (c) 2020-2021 Microchip Technology Inc */</span><br><span class="line"></span><br><span class="line">#include &quot;dt-bindings/mailbox/miv-ihc.h&quot;</span><br><span class="line"></span><br><span class="line">/ &#123;</span><br><span class="line">	fabric_clk3: fabric-clk3 &#123;</span><br><span class="line">		compatible = &quot;fixed-clock&quot;;</span><br><span class="line">		#clock-cells = &lt;0&gt;;</span><br><span class="line">		clock-frequency = &lt;50000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	fabric_clk1: fabric-clk1 &#123;</span><br><span class="line">		compatible = &quot;fixed-clock&quot;;</span><br><span class="line">		#clock-cells = &lt;0&gt;;</span><br><span class="line">		clock-frequency = &lt;125000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	fabric-bus@40000000 &#123;</span><br><span class="line">		compatible = &quot;simple-bus&quot;;</span><br><span class="line">		#address-cells = &lt;2&gt;;</span><br><span class="line">		#size-cells = &lt;2&gt;;</span><br><span class="line">		ranges = &lt;0x0 0x40000000 0x0 0x40000000 0x0 0x20000000&gt;, /* FIC3-FAB */</span><br><span class="line">				 &lt;0x0 0x60000000 0x0 0x60000000 0x0 0x20000000&gt;, /* FIC0, LO */</span><br><span class="line">				 &lt;0x0 0xe0000000 0x0 0xe0000000 0x0 0x20000000&gt;, /* FIC1, LO */</span><br><span class="line">				 &lt;0x20 0x0 0x20 0x0 0x10 0x0&gt;, /* FIC0,HI */</span><br><span class="line">				 &lt;0x30 0x0 0x30 0x0 0x10 0x0&gt;; /* FIC1,HI */</span><br><span class="line"></span><br><span class="line">		cape_gpios_p8: gpio@41100000 &#123;</span><br><span class="line">			compatible = &quot;microchip,coregpio-rtl-v3&quot;;</span><br><span class="line">			reg = &lt;0x0 0x41100000 0x0 0x1000&gt;;</span><br><span class="line">			clocks = &lt;&amp;fabric_clk3&gt;;</span><br><span class="line">			gpio-controller;</span><br><span class="line">			#gpio-cells = &lt;2&gt;;</span><br><span class="line">			ngpios = &lt;16&gt;;</span><br><span class="line">			gpio-line-names = &quot;P8_PIN31&quot;, &quot;P8_PIN32&quot;, &quot;P8_PIN33&quot;, &quot;P8_PIN34&quot;,</span><br><span class="line">					  &quot;P8_PIN35&quot;, &quot;P8_PIN36&quot;, &quot;P8_PIN37&quot;, &quot;P8_PIN38&quot;,</span><br><span class="line">					  &quot;P8_PIN39&quot;, &quot;P8_PIN40&quot;, &quot;P8_PIN41&quot;, &quot;P8_PIN42&quot;,</span><br><span class="line">					  &quot;P8_PIN43&quot;, &quot;P8_PIN44&quot;, &quot;P8_PIN45&quot;, &quot;P8_PIN46&quot;;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		cape_gpios_p9: gpio@41200000 &#123;</span><br><span class="line">			compatible = &quot;microchip,coregpio-rtl-v3&quot;;</span><br><span class="line">			reg = &lt;0x0 0x41200000 0x0 0x1000&gt;;</span><br><span class="line">			clocks = &lt;&amp;fabric_clk3&gt;;</span><br><span class="line">			gpio-controller;</span><br><span class="line">			#gpio-cells = &lt;2&gt;;</span><br><span class="line">			ngpios = &lt;20&gt;;</span><br><span class="line">			gpio-line-names = &quot;P9_PIN11&quot;, &quot;P9_PIN12&quot;, &quot;P9_PIN13&quot;, &quot;P9_PIN14&quot;,</span><br><span class="line">					  &quot;P9_PIN15&quot;, &quot;P9_PIN16&quot;, &quot;P9_PIN17&quot;, &quot;P9_PIN18&quot;,</span><br><span class="line">					  &quot;P9_PIN21&quot;, &quot;P9_PIN22&quot;, &quot;P9_PIN23&quot;, &quot;P9_PIN24&quot;,</span><br><span class="line">					  &quot;P9_PIN25&quot;, &quot;P9_PIN26&quot;, &quot;P9_PIN27&quot;, &quot;P9_PIN28&quot;,</span><br><span class="line">					  &quot;P9_PIN29&quot;, &quot;P9_PIN31&quot;, &quot;P9_PIN41&quot;, &quot;P9_PIN42&quot;;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		hsi_gpios: gpio@44000000 &#123;</span><br><span class="line">			compatible = &quot;microchip,coregpio-rtl-v3&quot;;</span><br><span class="line">			reg = &lt;0x0 0x44000000 0x0 0x1000&gt;;</span><br><span class="line">			clocks = &lt;&amp;fabric_clk3&gt;;</span><br><span class="line">			gpio-controller;</span><br><span class="line">			#gpio-cells = &lt;2&gt;;</span><br><span class="line">			ngpios = &lt;20&gt;;</span><br><span class="line">			gpio-line-names = &quot;B0_HSIO70N&quot;, &quot;B0_HSIO71N&quot;, &quot;B0_HSIO83N&quot;,</span><br><span class="line">					  &quot;B0_HSIO73N_C2P_CLKN&quot;, &quot;B0_HSIO70P&quot;, &quot;B0_HSIO71P&quot;,</span><br><span class="line">					  &quot;B0_HSIO83P&quot;, &quot;B0_HSIO73N_C2P_CLKP&quot;, &quot;XCVR1_RX_VALID&quot;,</span><br><span class="line">					  &quot;XCVR1_LOCK&quot;, &quot;XCVR1_ERROR&quot;, &quot;XCVR2_RX_VALID&quot;,</span><br><span class="line">					  &quot;XCVR2_LOCK&quot;, &quot;XCVR2_ERROR&quot;, &quot;XCVR3_RX_VALID&quot;,</span><br><span class="line">					  &quot;XCVR3_LOCK&quot;, &quot;XCVR3_ERROR&quot;, &quot;XCVR_0B_REF_CLK_PLL_LOCK&quot;,</span><br><span class="line">					  &quot;XCVR_0C_REF_CLK_PLL_LOCK&quot;, &quot;B0_HSIO81N&quot;;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	ihc: mailbox &#123;</span><br><span class="line">		compatible = &quot;microchip,miv-ihc&quot;;</span><br><span class="line">		interrupt-parent = &lt;&amp;plic&gt;;</span><br><span class="line">		interrupts = &lt;IHC_HART1_INT&gt;;</span><br><span class="line">		microchip,miv-ihc-remote-context-id = &lt;IHC_CONTEXT_B&gt;;</span><br><span class="line">		#mbox-cells = &lt;1&gt;;</span><br><span class="line">		status = &quot;disabled&quot;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	fabric-pcie-bus@3000000000 &#123;</span><br><span class="line">		compatible = &quot;simple-bus&quot;;</span><br><span class="line">		#address-cells = &lt;2&gt;;</span><br><span class="line">		#size-cells = &lt;2&gt;;</span><br><span class="line">		ranges = &lt;0x0 0x40000000 0x0 0x40000000 0x0 0x20000000&gt;,</span><br><span class="line">			 &lt;0x30 0x0 0x30 0x0 0x10 0x0&gt;;</span><br><span class="line">		dma-ranges = &lt;0x0 0x0 0x0 0x80000000 0x0 0x4000000&gt;,</span><br><span class="line">			     &lt;0x0 0x4000000 0x0 0xc4000000 0x0 0x6000000&gt;,</span><br><span class="line">			     &lt;0x0 0xa000000 0x0 0x8a000000 0x0 0x8000000&gt;,</span><br><span class="line">			     &lt;0x0 0x12000000 0x14 0x12000000 0x0 0x10000000&gt;,</span><br><span class="line">			     &lt;0x0 0x22000000 0x10 0x22000000 0x0 0x5e000000&gt;;</span><br><span class="line"></span><br><span class="line">		pcie: pcie@3000000000 &#123;</span><br><span class="line">			compatible = &quot;microchip,pcie-host-1.0&quot;;</span><br><span class="line">			#address-cells = &lt;0x3&gt;;</span><br><span class="line">			#interrupt-cells = &lt;0x1&gt;;</span><br><span class="line">			#size-cells = &lt;0x2&gt;;</span><br><span class="line">			device_type = &quot;pci&quot;;</span><br><span class="line">			dma-noncoherent;</span><br><span class="line">			reg = &lt;0x30 0x0 0x0 0x8000000&gt;, &lt;0x0 0x43004000 0x0 0x2000&gt;, &lt;0x0 0x43006000 0x0 0x2000&gt;;</span><br><span class="line">			reg-names = &quot;cfg&quot;, &quot;bridge&quot;, &quot;ctrl&quot;;</span><br><span class="line">			bus-range = &lt;0x0 0x7f&gt;;</span><br><span class="line">			interrupt-parent = &lt;&amp;plic&gt;;</span><br><span class="line">			interrupts = &lt;119&gt;;</span><br><span class="line">			interrupt-map = &lt;0 0 0 1 &amp;pcie_intc 0&gt;,</span><br><span class="line">					&lt;0 0 0 2 &amp;pcie_intc 1&gt;,</span><br><span class="line">					&lt;0 0 0 3 &amp;pcie_intc 2&gt;,</span><br><span class="line">					&lt;0 0 0 4 &amp;pcie_intc 3&gt;;</span><br><span class="line">			interrupt-map-mask = &lt;0 0 0 7&gt;;</span><br><span class="line">			clocks = &lt;&amp;ccc_nw CLK_CCC_PLL0_OUT1&gt;,</span><br><span class="line">					 &lt;&amp;ccc_nw CLK_CCC_PLL0_OUT3&gt;;</span><br><span class="line">			clock-names = &quot;fic1&quot;, &quot;fic3&quot;;</span><br><span class="line">			ranges = &lt;0x43000000 0x0 0x9000000 0x30 0x9000000 0x0 0xf000000&gt;,</span><br><span class="line">				 &lt;0x1000000 0x0 0x8000000 0x30 0x8000000 0x0 0x1000000&gt;,</span><br><span class="line">				 &lt;0x3000000 0x0 0x18000000 0x30 0x18000000 0x0 0x70000000&gt;;</span><br><span class="line">			dma-ranges = &lt;0x3000000 0x0 0x80000000 0x0 0x0 0x0 0x4000000&gt;,</span><br><span class="line">				     &lt;0x3000000 0x0 0x84000000 0x0 0x4000000 0x0 0x6000000&gt;,</span><br><span class="line">				     &lt;0x3000000 0x0 0x8a000000 0x0 0xa000000 0x0 0x8000000&gt;,</span><br><span class="line">				     &lt;0x3000000 0x0 0x92000000 0x0 0x12000000 0x0 0x10000000&gt;,</span><br><span class="line">				     &lt;0x3000000 0x0 0xa2000000 0x0 0x22000000 0x0 0x5e000000&gt;;</span><br><span class="line">			msi-parent = &lt;&amp;pcie&gt;;</span><br><span class="line">			msi-controller;</span><br><span class="line">			status = &quot;disabled&quot;;</span><br><span class="line"></span><br><span class="line">			pcie_intc: interrupt-controller &#123;</span><br><span class="line">				#address-cells = &lt;0&gt;;</span><br><span class="line">				#interrupt-cells = &lt;1&gt;;</span><br><span class="line">				interrupt-controller;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	refclk_ccc: cccrefclk &#123;</span><br><span class="line">		compatible = &quot;fixed-clock&quot;;</span><br><span class="line">		#clock-cells = &lt;0&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;ccc_nw &#123;</span><br><span class="line">	clocks = &lt;&amp;refclk_ccc&gt;, &lt;&amp;refclk_ccc&gt;, &lt;&amp;refclk_ccc&gt;, &lt;&amp;refclk_ccc&gt;,</span><br><span class="line">		 &lt;&amp;refclk_ccc&gt;, &lt;&amp;refclk_ccc&gt;;</span><br><span class="line">	clock-names = &quot;pll0_ref0&quot;, &quot;pll0_ref1&quot;, &quot;pll1_ref0&quot;, &quot;pll1_ref1&quot;,</span><br><span class="line">		      &quot;dll0_ref&quot;, &quot;dll1_ref&quot;;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>patches/linux/dts/mpfs-beaglev-fire.dts</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: (GPL-2.0 OR MIT)</span><br><span class="line">/* Copyright (c) 2020-2021 Microchip Technology Inc */</span><br><span class="line"></span><br><span class="line">/dts-v1/;</span><br><span class="line"></span><br><span class="line">#include &lt;dt-bindings/gpio/gpio.h&gt;</span><br><span class="line">#include &quot;mpfs.dtsi&quot;</span><br><span class="line">#include &quot;mpfs-beaglev-fire-fabric.dtsi&quot;</span><br><span class="line">#include &quot;mpfs-beaglev-fire-pinmux.dtsi&quot;</span><br><span class="line"></span><br><span class="line">/* Clock frequency (in Hz) of the rtcclk */</span><br><span class="line">#define RTCCLK_FREQ		1000000</span><br><span class="line"></span><br><span class="line">/ &#123;</span><br><span class="line">	#address-cells = &lt;2&gt;;</span><br><span class="line">	#size-cells = &lt;2&gt;;</span><br><span class="line">	model = &quot;BeagleBoard BeagleV-Fire&quot;;</span><br><span class="line">	compatible = &quot;beagle,beaglev-fire&quot;, &quot;microchip,mpfs&quot;;</span><br><span class="line"></span><br><span class="line">	soc &#123;</span><br><span class="line">		dma-ranges = &lt;0x14 0x0 0x0 0x80000000 0x0 0x4000000&gt;,</span><br><span class="line">			     &lt;0x14 0x4000000 0x0 0xc4000000 0x0 0x6000000&gt;,</span><br><span class="line">			     &lt;0x14 0xa000000 0x0 0x8a000000 0x0 0x8000000&gt;,</span><br><span class="line">			     &lt;0x14 0x12000000 0x14 0x12000000 0x0 0x10000000&gt;,</span><br><span class="line">			     &lt;0x14 0x22000000 0x10 0x22000000 0x0 0x5e000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	aliases &#123;</span><br><span class="line">		serial0 = &amp;mmuart0;</span><br><span class="line">		serial1 = &amp;mmuart1;</span><br><span class="line">		serial2 = &amp;mmuart2;</span><br><span class="line">		serial3 = &amp;mmuart3;</span><br><span class="line">		serial4 = &amp;mmuart4;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	chosen &#123;</span><br><span class="line">		stdout-path = &quot;serial0:115200n8&quot;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	cpus &#123;</span><br><span class="line">		timebase-frequency = &lt;RTCCLK_FREQ&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	kernel: memory@80000000 &#123;</span><br><span class="line">		device_type = &quot;memory&quot;;</span><br><span class="line">		reg = &lt;0x0 0x80000000 0x0 0x4000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	ddr_cached_low: memory@8a000000 &#123;</span><br><span class="line">		device_type = &quot;memory&quot;;</span><br><span class="line">		reg = &lt;0x0 0x8a000000 0x0 0x8000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	ddr_non_cached_low: memory@c4000000 &#123;</span><br><span class="line">		device_type = &quot;memory&quot;;</span><br><span class="line">		reg = &lt;0x0 0xc4000000 0x0 0x6000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	ddr_cached_high: memory@1022000000 &#123;</span><br><span class="line">		device_type = &quot;memory&quot;;</span><br><span class="line">		reg = &lt;0x10 0x22000000 0x0 0x5e000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	ddr_non_cached_high: memory@1412000000 &#123;</span><br><span class="line">		device_type = &quot;memory&quot;;</span><br><span class="line">		reg = &lt;0x14 0x12000000 0x0 0x10000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	reserved-memory &#123;</span><br><span class="line">		#address-cells = &lt;2&gt;;</span><br><span class="line">		#size-cells = &lt;2&gt;;</span><br><span class="line">		ranges;</span><br><span class="line"></span><br><span class="line">		hss: hss-buffer@103fc00000 &#123;</span><br><span class="line">			compatible = &quot;shared-dma-pool&quot;;</span><br><span class="line">			reg = &lt;0x10 0x3fc00000 0x0 0x400000&gt;;</span><br><span class="line">			no-map;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		dma_non_cached_low: non-cached-low-buffer &#123;</span><br><span class="line">			compatible = &quot;shared-dma-pool&quot;;</span><br><span class="line">			size = &lt;0x0 0x4000000&gt;;</span><br><span class="line">			no-map;</span><br><span class="line">			alloc-ranges = &lt;0x0 0xc4000000 0x0 0x4000000&gt;;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		dma_non_cached_high: non-cached-high-buffer &#123;</span><br><span class="line">			compatible = &quot;shared-dma-pool&quot;;</span><br><span class="line">			size = &lt;0x0 0x10000000&gt;;</span><br><span class="line">			no-map;</span><br><span class="line">			linux,dma-default;</span><br><span class="line">			alloc-ranges = &lt;0x14 0x12000000 0x0 0x10000000&gt;;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	imx219_vana: fixedregulator-0 &#123;</span><br><span class="line">		compatible = &quot;regulator-fixed&quot;;</span><br><span class="line">		regulator-name = &quot;imx219_vana&quot;;</span><br><span class="line">		regulator-min-microvolt = &lt;2800000&gt;;</span><br><span class="line">		regulator-max-microvolt = &lt;2800000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	imx219_vdig: fixedregulator-1 &#123;</span><br><span class="line">		compatible = &quot;regulator-fixed&quot;;</span><br><span class="line">		regulator-name = &quot;imx219_vdig&quot;;</span><br><span class="line">		regulator-min-microvolt = &lt;1800000&gt;;</span><br><span class="line">		regulator-max-microvolt = &lt;1800000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	imx219_vddl: fixedregulator-2 &#123;</span><br><span class="line">		compatible = &quot;regulator-fixed&quot;;</span><br><span class="line">		regulator-name = &quot;imx219_vddl&quot;;</span><br><span class="line">		regulator-min-microvolt = &lt;1200000&gt;;</span><br><span class="line">		regulator-max-microvolt = &lt;1200000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	imx219_clk: camera-clk &#123;</span><br><span class="line">		compatible = &quot;fixed-clock&quot;;</span><br><span class="line">		#clock-cells = &lt;0&gt;;</span><br><span class="line">		clock-frequency = &lt;24000000&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;gpio0 &#123;</span><br><span class="line">	ngpios=&lt;14&gt;;</span><br><span class="line">	gpio-line-names = &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,</span><br><span class="line">			  &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;SD_CARD_CS&quot;, &quot;USER_BUTTON&quot;;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line"></span><br><span class="line">	sd-card-cs-hog &#123;</span><br><span class="line">		gpio-hog;</span><br><span class="line">		gpios = &lt;12 12&gt;;</span><br><span class="line">		output-high;</span><br><span class="line">		line-name = &quot;SD_CARD_CS&quot;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	user-button-hog &#123;</span><br><span class="line">		gpio-hog;</span><br><span class="line">		gpios = &lt;13 13&gt;;</span><br><span class="line">		input;</span><br><span class="line">		line-name = &quot;USER_BUTTON&quot;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;gpio1 &#123;</span><br><span class="line">	ngpios=&lt;24&gt;;</span><br><span class="line">	gpio-line-names = &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,</span><br><span class="line">			  &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,</span><br><span class="line">			  &quot;ADC_IRQn&quot;, &quot;&quot;, &quot;&quot;, &quot;USB_OCn&quot;;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line"></span><br><span class="line">	adc-irqn-hog &#123;</span><br><span class="line">		gpio-hog;</span><br><span class="line">		gpios = &lt;20 20&gt;;</span><br><span class="line">		input;</span><br><span class="line">		line-name = &quot;ADC_IRQn&quot;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	usb-ocn-hog &#123;</span><br><span class="line">		gpio-hog;</span><br><span class="line">		gpios = &lt;23 23&gt;;</span><br><span class="line">		input;</span><br><span class="line">		line-name = &quot;USB_OCn&quot;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;gpio2 &#123;</span><br><span class="line">	ngpios=&lt;32&gt;;</span><br><span class="line">	gpio-line-names = &quot;P8_PIN3_USER_LED_0&quot;, &quot;P8_PIN4_USER_LED_1&quot;, &quot;P8_PIN5_USER_LED_2&quot;,</span><br><span class="line">			  &quot;P8_PIN6_USER_LED_3&quot;, &quot;P8_PIN7_USER_LED_4&quot;, &quot;P8_PIN8_USER_LED_5&quot;,</span><br><span class="line">			  &quot;P8_PIN9_USER_LED_6&quot;, &quot;P8_PIN10_USER_LED_7&quot;, &quot;P8_PIN11_USER_LED_8&quot;,</span><br><span class="line">			  &quot;P8_PIN12_USER_LED_9&quot;, &quot;P8_PIN13_USER_LED_10&quot;, &quot;P8_PIN14_USER_LED_11&quot;,</span><br><span class="line">			  &quot;P8_PIN15&quot;, &quot;P8_PIN16&quot;, &quot;P8_PIN17&quot;, &quot;P8_PIN18&quot;, &quot;P8_PIN19&quot;, &quot;P8_PIN20&quot;,</span><br><span class="line">			  &quot;P8_PIN21&quot;, &quot;P8_PIN22&quot;, &quot;P8_PIN23&quot;, &quot;P8_PIN24&quot;, &quot;P8_PIN25&quot;, &quot;P8_PIN26&quot;,</span><br><span class="line">			  &quot;P8_PIN27&quot;, &quot;P8_PIN28&quot;, &quot;P8_PIN29&quot;, &quot;P8_PIN30&quot;, &quot;M2_W_DISABLE1&quot;,</span><br><span class="line">			  &quot;M2_W_DISABLE2&quot;, &quot;VIO_ENABLE&quot;, &quot;SD_DET&quot;;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line"></span><br><span class="line">	vio-enable-hog &#123;</span><br><span class="line">		gpio-hog;</span><br><span class="line">		gpios = &lt;30 30&gt;;</span><br><span class="line">		output-high;</span><br><span class="line">		line-name = &quot;VIO_ENABLE&quot;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	sd-det-hog &#123;</span><br><span class="line">		gpio-hog;</span><br><span class="line">		gpios = &lt;31 31&gt;;</span><br><span class="line">		input;</span><br><span class="line">		line-name = &quot;SD_DET&quot;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;i2c0 &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;i2c1 &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line"></span><br><span class="line">	eeprom: eeprom@50 &#123;</span><br><span class="line">		compatible = &quot;at,24c32&quot;;</span><br><span class="line">		reg = &lt;0x50&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	imx219: sensor@10 &#123;</span><br><span class="line">		compatible = &quot;sony,imx219&quot;;</span><br><span class="line">		reg = &lt;0x10&gt;;</span><br><span class="line">		clocks = &lt;&amp;imx219_clk&gt;;</span><br><span class="line">		VANA-supply = &lt;&amp;imx219_vana&gt;;   /* 2.8v */</span><br><span class="line">		VDIG-supply = &lt;&amp;imx219_vdig&gt;;   /* 1.8v */</span><br><span class="line">		VDDL-supply = &lt;&amp;imx219_vddl&gt;;   /* 1.2v */</span><br><span class="line"></span><br><span class="line">		port &#123;</span><br><span class="line">			imx219_0: endpoint &#123;</span><br><span class="line">				data-lanes = &lt;1 2&gt;;</span><br><span class="line">				clock-noncontinuous;</span><br><span class="line">				link-frequencies = /bits/ 64 &lt;456000000&gt;;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;mac0 &#123;</span><br><span class="line">	dma-noncoherent;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">	phy-mode = &quot;sgmii&quot;;</span><br><span class="line">	phy-handle = &lt;&amp;phy0&gt;;</span><br><span class="line">	phy0: ethernet-phy@0 &#123;</span><br><span class="line">		reg = &lt;0&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;mbox &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;mmc &#123;</span><br><span class="line">	dma-noncoherent;</span><br><span class="line">	bus-width = &lt;4&gt;;</span><br><span class="line">	disable-wp;</span><br><span class="line">	cap-sd-highspeed;</span><br><span class="line">	cap-mmc-highspeed;</span><br><span class="line">	mmc-ddr-1_8v;</span><br><span class="line">	mmc-hs200-1_8v;</span><br><span class="line">	sd-uhs-sdr12;</span><br><span class="line">	sd-uhs-sdr25;</span><br><span class="line">	sd-uhs-sdr50;</span><br><span class="line">	sd-uhs-sdr104;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;mmuart0 &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;mmuart1 &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;refclk &#123;</span><br><span class="line">	clock-frequency = &lt;125000000&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;refclk_ccc &#123;</span><br><span class="line">	clock-frequency = &lt;50000000&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;rtc &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;spi0 &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;spi1 &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;syscontroller &#123;</span><br><span class="line">	microchip,bitstream-flash = &lt;&amp;sys_ctrl_flash&gt;;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;syscontroller_qspi &#123;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line"></span><br><span class="line">	sys_ctrl_flash: flash@0 &#123; // MT25QL01GBBB8ESF-0SIT</span><br><span class="line">		compatible = &quot;jedec,spi-nor&quot;;</span><br><span class="line">		#address-cells = &lt;1&gt;;</span><br><span class="line">		#size-cells = &lt;1&gt;;</span><br><span class="line">		spi-max-frequency = &lt;20000000&gt;;</span><br><span class="line">		spi-rx-bus-width = &lt;1&gt;;</span><br><span class="line">		reg = &lt;0&gt;;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&amp;usb &#123;</span><br><span class="line">	dma-noncoherent;</span><br><span class="line">	status = &quot;okay&quot;;</span><br><span class="line">	dr_mode = &quot;otg&quot;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>patches/linux/mpfs_defconfig</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line"># Automatically generated file; DO NOT EDIT.</span><br><span class="line"># Linux/riscv 6.6.51-linux4microchip+fpga-2024.09 Kernel Configuration</span><br><span class="line">#</span><br><span class="line">CONFIG_CC_VERSION_TEXT=&quot;riscv64-linux-gcc (GCC) 14.2.0&quot;</span><br><span class="line">CONFIG_CC_IS_GCC=y</span><br><span class="line">CONFIG_GCC_VERSION=140200</span><br><span class="line">CONFIG_CLANG_VERSION=0</span><br><span class="line">CONFIG_AS_IS_GNU=y</span><br><span class="line">CONFIG_AS_VERSION=24200</span><br><span class="line">CONFIG_LD_IS_BFD=y</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">#</span><br><span class="line"># Kernel Testing and Coverage</span><br><span class="line">#</span><br><span class="line"># CONFIG_KUNIT is not set</span><br><span class="line"># CONFIG_NOTIFIER_ERROR_INJECTION is not set</span><br><span class="line"># CONFIG_FUNCTION_ERROR_INJECTION is not set</span><br><span class="line"># CONFIG_FAULT_INJECTION is not set</span><br><span class="line">CONFIG_ARCH_HAS_KCOV=y</span><br><span class="line">CONFIG_CC_HAS_SANCOV_TRACE_PC=y</span><br><span class="line"># CONFIG_KCOV is not set</span><br><span class="line">CONFIG_RUNTIME_TESTING_MENU=y</span><br><span class="line"># CONFIG_TEST_DHRY is not set</span><br><span class="line"># CONFIG_LKDTM is not set</span><br><span class="line"># CONFIG_TEST_MIN_HEAP is not set</span><br><span class="line"># CONFIG_TEST_DIV64 is not set</span><br><span class="line"># CONFIG_BACKTRACE_SELF_TEST is not set</span><br><span class="line"># CONFIG_TEST_REF_TRACKER is not set</span><br><span class="line"># CONFIG_RBTREE_TEST is not set</span><br><span class="line"># CONFIG_REED_SOLOMON_TEST is not set</span><br><span class="line"># CONFIG_INTERVAL_TREE_TEST is not set</span><br><span class="line"># CONFIG_PERCPU_TEST is not set</span><br><span class="line"># CONFIG_ATOMIC64_SELFTEST is not set</span><br><span class="line"># CONFIG_TEST_HEXDUMP is not set</span><br><span class="line"># CONFIG_STRING_SELFTEST is not set</span><br><span class="line"># CONFIG_TEST_STRING_HELPERS is not set</span><br><span class="line"># CONFIG_TEST_KSTRTOX is not set</span><br><span class="line"># CONFIG_TEST_PRINTF is not set</span><br><span class="line"># CONFIG_TEST_SCANF is not set</span><br><span class="line"># CONFIG_TEST_BITMAP is not set</span><br><span class="line"># CONFIG_TEST_UUID is not set</span><br><span class="line"># CONFIG_TEST_XARRAY is not set</span><br><span class="line"># CONFIG_TEST_MAPLE_TREE is not set</span><br><span class="line"># CONFIG_TEST_RHASHTABLE is not set</span><br><span class="line"># CONFIG_TEST_IDA is not set</span><br><span class="line"># CONFIG_TEST_LKM is not set</span><br><span class="line"># CONFIG_TEST_BITOPS is not set</span><br><span class="line"># CONFIG_TEST_VMALLOC is not set</span><br><span class="line"># CONFIG_TEST_USER_COPY is not set</span><br><span class="line"># CONFIG_TEST_BPF is not set</span><br><span class="line"># CONFIG_TEST_BLACKHOLE_DEV is not set</span><br><span class="line"># CONFIG_FIND_BIT_BENCHMARK is not set</span><br><span class="line"># CONFIG_TEST_FIRMWARE is not set</span><br><span class="line"># CONFIG_TEST_SYSCTL is not set</span><br><span class="line"># CONFIG_TEST_UDELAY is not set</span><br><span class="line"># CONFIG_TEST_STATIC_KEYS is not set</span><br><span class="line"># CONFIG_TEST_DYNAMIC_DEBUG is not set</span><br><span class="line"># CONFIG_TEST_KMOD is not set</span><br><span class="line"># CONFIG_TEST_MEMCAT_P is not set</span><br><span class="line"># CONFIG_TEST_MEMINIT is not set</span><br><span class="line"># CONFIG_TEST_FREE_PAGES is not set</span><br><span class="line">CONFIG_ARCH_USE_MEMTEST=y</span><br><span class="line"># CONFIG_MEMTEST is not set</span><br><span class="line"># end of Kernel Testing and Coverage</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"># Rust hacking</span><br><span class="line">#</span><br><span class="line"># end of Rust hacking</span><br><span class="line"># end of Kernel hacking</span><br></pre></td></tr></table></figure>
<h2 id="generate_payload.bin.sh">2.5
<code>05_generate_payload.bin.sh</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ./05_generate_payload.bin.sh </span><br><span class="line">Hart Software Service formatted boot image generator v0.99.37</span><br><span class="line">Copyright (c) 2021-2022 Microchip FPGA Embedded Systems Solutions.</span><br><span class="line"></span><br><span class="line">Parsing set-name</span><br><span class="line">Parsing hart entry points</span><br><span class="line">	Entry Point U54_1 is 0x80200000</span><br><span class="line">	Entry Point U54_2 is 0x80200000</span><br><span class="line">	Entry Point U54_3 is 0x80200000</span><br><span class="line">	Entry Point U54_4 is 0x80200000</span><br><span class="line">Parsing payload &gt;&gt;src.bin&lt;&lt;</span><br><span class="line">	exec_addr is 0x80200000</span><br><span class="line">	owner is 1</span><br><span class="line">	secondary is 2</span><br><span class="line">	secondary is 3</span><br><span class="line">	secondary is 4</span><br><span class="line">	priv_mode is 1</span><br><span class="line"></span><br><span class="line">Processing ELF &gt;&gt;src.bin&lt;&lt;</span><br><span class="line">&gt;&gt;src.bin&lt;&lt; is not an ELF object</span><br><span class="line"></span><br><span class="line">Processing blob &gt;&gt;src.bin&lt;&lt; - placing at 0x80200000</span><br><span class="line">lastChunk is 0, numChunks is 1</span><br><span class="line">Set-name is &gt;&gt;PolarFire-SoC-HSS::U-Boot&lt;&lt;</span><br><span class="line">Output filename is &gt;&gt;./input/payload.bin&lt;&lt;</span><br><span class="line">Outputting Payload Header</span><br><span class="line">Outputting Code/Data Chunks</span><br><span class="line">Outputting ZI Chunks</span><br><span class="line">Outputting Binary Data</span><br><span class="line">Outputting Payload Header</span><br><span class="line">Thu 24 Oct 2024 02:26:49 AM PDT</span><br><span class="line">[u-boot.bin: U-Boot 2023.07.02-linux4microchip+fpga-2024.09-dirty (Oct 23 2024 - 23:26:07 -0700)]</span><br><span class="line">[src.bin:    U-Boot 2023.07.02-linux4microchip+fpga-2024.09-dirty (Oct 23 2024 - 23:26:07 -0700)]</span><br><span class="line">[payload.bin:U-Boot 2023.07.02-linux4microchip+fpga-2024.09-dirty (Oct 23 2024 - 23:26:07 -0700)]</span><br><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ </span><br></pre></td></tr></table></figure>
<h2 id="sudo-.06_generate_debian_console_root.sh">2.6
<code>sudo ./06_generate_debian_console_root.sh</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ sudo ./06_generate_debian_console_root.sh </span><br><span class="line">[sudo] password for lvision: </span><br><span class="line">--2024-10-24 02:30:20--  https://rcn-ee.net/rootfs/debian-riscv64-sid-minimal/2024-10-24/debian-sid-console-riscv64-2024-10-24.tar.xz</span><br><span class="line">Resolving rcn-ee.net (rcn-ee.net)... 5.161.107.156</span><br><span class="line">Connecting to rcn-ee.net (rcn-ee.net)|5.161.107.156|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 332982816 (318M) [application/x-xz]</span><br><span class="line">Saving to: ‘./deploy/debian-sid-console-riscv64-2024-10-24.tar.xz’</span><br><span class="line"></span><br><span class="line">debian-sid-console-riscv64-2024-10-24.tar.xz                   100%[==================================================================================================================================================&gt;] 317.56M  46.0MB/s    in 7.5s    </span><br><span class="line"></span><br><span class="line">2024-10-24 02:30:27 (42.6 MB/s) - ‘./deploy/debian-sid-console-riscv64-2024-10-24.tar.xz’ saved [332982816/332982816]</span><br><span class="line"></span><br><span class="line">Extracting: debian-sid-console-riscv64-2024-10-24/riscv64-rootfs-*.tar</span><br><span class="line">&#x27;./deploy/boot.scr&#x27; -&gt; &#x27;deploy/input/boot.scr&#x27;</span><br><span class="line">&#x27;./deploy/sysconf.txt&#x27; -&gt; &#x27;deploy/input/sysconf.txt&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/eth0-DHCP.network&#x27; -&gt; &#x27;./ignore/.root/etc/systemd/network/eth0.network&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/eth1-DHCP.network&#x27; -&gt; &#x27;./ignore/.root/etc/systemd/network/eth1.network&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/nginx/nginx-autoindex&#x27; -&gt; &#x27;./ignore/.root/etc/nginx/sites-enabled/default&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/nginx/Cockpit.html&#x27; -&gt; &#x27;./ignore/.root/var/www/html/Cockpit.html&#x27;</span><br><span class="line">&#x27;./ignore/.root/etc/bbb.io/templates/nginx/Docs-BeagleBoard.html&#x27; -&gt; &#x27;./ignore/.root/var/www/html/Docs-BeagleBoard.html&#x27;</span><br><span class="line">---------------------</span><br><span class="line">File Size</span><br><span class="line">1.4G	ignore/.root/</span><br><span class="line">---------------------</span><br><span class="line">0+0 records in</span><br><span class="line">0+0 records out</span><br><span class="line">0 bytes copied, 2.196e-05 s, 0.0 kB/s</span><br><span class="line">mke2fs 1.47.0 (5-Feb-2023)</span><br><span class="line">./deploy/input/root.ext4 contains a ext4 file system</span><br><span class="line">	created on Wed Oct 23 02:58:30 2024</span><br><span class="line">Discarding device blocks: done                            </span><br><span class="line">Creating filesystem with 563200 4k blocks and 140832 inodes</span><br><span class="line">Filesystem UUID: 4630cf75-81d2-47ea-b1ce-79ae03739e62</span><br><span class="line">Superblock backups stored on blocks: </span><br><span class="line">	32768, 98304, 163840, 229376, 294912</span><br><span class="line"></span><br><span class="line">Allocating group tables: done                            </span><br><span class="line">Writing inode tables: done                            </span><br><span class="line">Creating journal (16384 blocks): done</span><br><span class="line">Copying files into the device: done</span><br><span class="line">Writing superblocks and filesystem accounting information: done </span><br><span class="line"></span><br><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ </span><br></pre></td></tr></table></figure>
<h2 id="sudo-.07_create_sdcard_img.sh">2.7
<code>sudo ./07_create_sdcard_img.sh</code></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ sudo ./07_create_sdcard_img.sh </span><br><span class="line">INFO: cmd: &quot;mkdir -p &quot;....../BeagleV-Fire-ubuntu/deploy/tmp&quot;&quot; (stderr):</span><br><span class="line">INFO: cmd: &quot;rm -rf &quot;....../BeagleV-Fire-ubuntu/deploy/tmp&quot;/*&quot; (stderr):</span><br><span class="line">INFO: cmd: &quot;mkdir -p &quot;....../BeagleV-Fire-ubuntu/deploy/tmp&quot;&quot; (stderr):</span><br><span class="line">INFO: cmd: &quot;cp -a &quot;....../BeagleV-Fire-ubuntu/deploy/root&quot; &quot;....../BeagleV-Fire-ubuntu/deploy/tmp/root&quot;&quot; (stderr):</span><br><span class="line">INFO: cmd: &quot;mkdir -p &quot;....../BeagleV-Fire-ubuntu/deploy/images&quot;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;mkdosfs   &#x27;....../BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file &#x27;beaglev_fire.itb&#x27; as &#x27;beaglev_fire.itb&#x27; ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;....../BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27; &#x27;....../BeagleV-Fire-ubuntu/deploy/input/beaglev_fire.itb&#x27; &#x27;::&#x27;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file &#x27;boot.scr&#x27; as &#x27;boot.scr&#x27; ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;....../BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27; &#x27;....../BeagleV-Fire-ubuntu/deploy/input/boot.scr&#x27; &#x27;::&#x27;&quot; (stderr):</span><br><span class="line">INFO: vfat(boot.vfat): adding file &#x27;sysconf.txt&#x27; as &#x27;sysconf.txt&#x27; ...</span><br><span class="line">INFO: vfat(boot.vfat): cmd: &quot;MTOOLS_SKIP_CHECK=1 mcopy -sp -i &#x27;....../BeagleV-Fire-ubuntu/deploy/images/boot.vfat&#x27; &#x27;....../BeagleV-Fire-ubuntu/deploy/input/sysconf.txt&#x27; &#x27;::&#x27;&quot; (stderr):</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;uboot&#x27; (in MBR) from &#x27;payload.bin&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;kernel&#x27; (in MBR) from &#x27;boot.vfat&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;rootfs&#x27; (in MBR) from &#x27;root.ext4&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;[MBR]&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;[GPT header]&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;[GPT array]&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): adding partition &#x27;[GPT backup]&#x27; ...</span><br><span class="line">INFO: hdimage(sdcard.img): writing GPT</span><br><span class="line">INFO: hdimage(sdcard.img): writing protective MBR</span><br><span class="line">INFO: hdimage(sdcard.img): writing MBR</span><br><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ </span><br></pre></td></tr></table></figure>
<h2 id="take-a-look-at-the-image">2.8 Take A Look At The Image</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">➜  BeagleV-Fire-ubuntu git:(main) ✗ ll deploy/images </span><br><span class="line">total 1.5G</span><br><span class="line">4.0K drwxr-xr-x 2 root    root  4.0K Oct 23 03:18 ./</span><br><span class="line">4.0K drwxr-xr-x 6 lvision users 4.0K Oct 23 03:18 ../</span><br><span class="line">9.6M -rw-r--r-- 1 root    root  128M Oct 23 03:18 boot.vfat</span><br><span class="line">1.5G -rw-r--r-- 1 root    root  2.3G Oct 23 03:18 sdcard.img</span><br></pre></td></tr></table></figure>
<h2 id="failed-to-boot">2.9 Failed To Boot</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ tio /dev/ttyUSB0</span><br><span class="line">[02:34:42.727] tio v2.7</span><br><span class="line">[02:34:42.727] Press ctrl-t q to quit</span><br><span class="line">[02:34:42.741] Connected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">HSS: decompressing from eNVM to L2 Scratch ... Passed</span><br><span class="line">DDR training ... Passed ( 5648 ms)</span><br><span class="line">                                                                </span><br><span class="line">---------------------------------</span><br><span class="line">--        BeagleV-Fire         --</span><br><span class="line">---------------------------------</span><br><span class="line"></span><br><span class="line">[5.711390] PolarFire(R) SoC Hart Software Services (HSS) - version 0.99.36-BVF-0.3.0</span><br><span class="line">MPFS HAL version 2.2.104 / DDR Driver version 0.4.023 / Mi-V IHC version 0.1.1 / BOARD=bvf</span><br><span class="line">(c) Copyright 2017-2022 Microchip FPGA Embedded Systems Solutions.</span><br><span class="line"></span><br><span class="line">incorporating OpenSBI - version 1.2</span><br><span class="line">(c) Copyright 2019-2022 Western Digital Corporation.</span><br><span class="line"></span><br><span class="line">[5.742377] Build ID: 3f0ed536ff6a0aaef3c9b81896adaee39ec4d8c1</span><br><span class="line">[5.749235] Built with the following tools:</span><br><span class="line"> - riscv64-unknown-elf-gcc (xPack GNU RISC-V Embedded GCC (Microsemi SoftConsole build), 64-bit) 8.3.0</span><br><span class="line"> - GNU ld (xPack GNU RISC-V Embedded GCC (Microsemi SoftConsole build), 64-bit) 2.32</span><br><span class="line"></span><br><span class="line">[5.771108] NOTICE: Running from L2 Scratchpad</span><br><span class="line"></span><br><span class="line">[5.776750] Serial Number: </span><br><span class="line">421ad5e6973fae72de847b6a5a30e90300000000000000000000000000000000000000000000000000000000000000000000</span><br><span class="line">[5.789423] Segment Configuration:</span><br><span class="line">        Cached: SEG0_0: offset 0x0080000000, physical DDR 0x00000000</span><br><span class="line">        Cached: SEG0_1: offset 0x1000000000, physical DDR 0x00000000</span><br><span class="line">    Non-cached: SEG1_2: offset 0x00c0000000, physical DDR 0x00000000</span><br><span class="line">    Non-cached: SEG1_3: offset 0x1400000000, physical DDR 0x00000000</span><br><span class="line">Non-cached WCB: SEG1_4: offset 0x00d0000000, physical DDR 0x00000000</span><br><span class="line">Non-cached WCB: SEG1_5: offset 0x1800000000, physical DDR 0x00000000</span><br><span class="line">[5.830306] L2 Cache Configuration:</span><br><span class="line">    L2-Scratchpad:  4 ways (512 KiB)</span><br><span class="line">         L2-Cache:  8 ways (1024 KiB)</span><br><span class="line">           L2-LIM:  4 ways (512 KiB)</span><br><span class="line">[5.844801] DDR-Lo size is   32 MiB</span><br><span class="line">[5.849055] DDR-Hi size is 1888 MiB</span><br><span class="line">[5.872864] Design Info: </span><br><span class="line">    Design Name: CI_DEFAULT_FD28A2CA1789CDC1137</span><br><span class="line">    Design Version: 02.00.2</span><br><span class="line">[5.883280] Attempting to select eMMC ... Passed</span><br><span class="line">[6.161422] User button NOT pressed</span><br><span class="line">Press a key to enter CLI, ESC to skip</span><br><span class="line">Timeout in 1 second</span><br><span class="line">.[6.281293] Character 13 pressed</span><br><span class="line"></span><br><span class="line">[6.285459] Type HELP for list of commands</span><br><span class="line">[6.290320] &gt;&gt; mmc</span><br><span class="line">[18.129310] Selecting SDCARD/MMC (fallback) as boot source ...</span><br><span class="line">[18.135994] Attempting to select eMMC ... Passed</span><br><span class="line">[18.391620] &gt;&gt; usbdmsc</span><br><span class="line">[280.344194] initialize MMC</span><br><span class="line">[280.347840] Attempting to select eMMC ... Passed</span><br><span class="line">[280.603552] MMC - 512 byte pages, 512 byte blocks, 30621696 pages</span><br><span class="line">Waiting for USB Host to connect... (CTRL-C to quit)</span><br><span class="line"> . 0 bytes written, 0 bytes readUSB Host connected. Waiting for disconnect... (CTRL-C to quit)</span><br><span class="line"> . 1724668416 bytes written, 1806021120 bytes read</span><br></pre></td></tr></table></figure>
<h1 id="flash-official-beaglev-fire-ubuntu-2023-11-21">3. Flash Official
<a
target="_blank" rel="noopener" href="https://www.beagleboard.org/distros/beaglev-fire-ubuntu-2023-11-21">BeagleV-Fire
Ubuntu 2023-11-21</a></h1>
<h2 id="apply-official-flash">3.1 Apply Official Flash</h2>
<p>The official website of <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/boards/beaglev-fire">BeagleV-Fire
Board</a> provides the official OS <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/distros/beaglev-fire-ubuntu-2023-11-21">BeagleV-Fire
Ubuntu 2023-11-21</a>, which is able to flash onto the board
directly.</p>
<p><strong><span style="color:red">Bingo! This time, we're good to
go.</span></strong></p>
<ul>
<li>The <strong>ONLY</strong> 2 commands we need to use before flashing
are:
<ul>
<li><code>mmc</code></li>
<li><code>usbdmsc</code></li>
</ul></li>
<li>And <strong>openssh-server</strong> has already been installed by
default. Namely: <code>ssh</code> is enabled by default.</li>
</ul>
<h2 id="ssh-into-beaglev-fire-board">3.2 <code>ssh</code> Into <a
target="_blank" rel="noopener" href="https://www.beagleboard.org/boards/beaglev-fire">BeagleV-Fire
Board</a></h2>
<p>The <strong>username</strong> and <strong>password</strong> are
respectively: - username: <code>beagle</code> - password:
<code>temppwd</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ uname -a</span><br><span class="line">Linux BeagleV 6.1.33-linux4microchip+fpga-2023.06-20231121+ #1 SMP Tue Nov 21 13:43:17 UTC 2023 riscv64 riscv64 riscv64 GNU/Linux</span><br><span class="line">➜  ~ uname -r</span><br><span class="line">6.1.33-linux4microchip+fpga-2023.06-20231121+</span><br><span class="line">➜  ~ lsb_release -a</span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID:	Ubuntu</span><br><span class="line">Description:	Ubuntu 23.04</span><br><span class="line">Release:	23.04</span><br><span class="line">Codename:	lunar</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/main/Embedded/RISC-V/BeagleV/BeagleV-ssh-neofetch.png"><img
src="https://raw.githubusercontent.com/LongerVision/Resource/refs/heads/main/Embedded/RISC-V/BeagleV/BeagleV-ssh-neofetch.png"
alt="BeagleV SSH and Neofetch" /></a></p>
<h2 id="on-board-fpga">3.3 On-board <a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Field-programmable_gate_array">FPGA</a></h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ lspci</span><br><span class="line">00:00.0 Unclassified device [0006]: Actel Device 1556</span><br><span class="line">➜  ~ lspci -v -s 00:00.0</span><br><span class="line"></span><br><span class="line">00:00.0 Unclassified device [0006]: Actel Device 1556 (prog-if 04)</span><br><span class="line">	!!! Invalid class 0006 for header type 01</span><br><span class="line">	Flags: fast devsel</span><br><span class="line">	Bus: primary=00, secondary=01, subordinate=01, sec-latency=0</span><br><span class="line">	I/O behind bridge: 1000-1fff [size=4K] [16-bit]</span><br><span class="line">	Memory behind bridge: 18000000-181fffff [size=2M] [32-bit]</span><br><span class="line">	Prefetchable memory behind bridge: 3009000000-30091fffff [size=2M] [32-bit]</span><br><span class="line">	Capabilities: &lt;access denied&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/BeagleV-Fire-BeagleBone-Risc-V-FPGA-Microchip-PolarFire/" rel="tag"># BeagleV-Fire, BeagleBone, Risc-V, FPGA, Microchip, PolarFire</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/10/18/SBCs/ARM/pinephone/" rel="prev" title="PinePhone">
                  <i class="fa fa-angle-left"></i> PinePhone
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/10/28/AI/EdgeComputing/raspberry-pi-5-hailo/" rel="next" title="Raspberry Pi 5 + Hailo AI">
                  Raspberry Pi 5 + Hailo AI <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Nobody</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
